# تقرير الجرد والفرز والتمييز للأصول التنفيذية

هذا التقرير يوثق مسحًا استقصائيًا شاملًا لمجلد المشروع لتحديد كل الأصول القابلة للتنفيذ (اختبارات، أدوات، سكربتات)، مع تمييز الأصول النشطة عن تلك المهملة، بناءً على "مصادر الحقيقة" الرسمية.

## المنهجية المعتمدة
- مصادر الحقيقة: `composer.json` و`phpunit.xml` في الجذر، إضافةً إلى ملفات الإعداد الرسمية للأدوات (`phpstan.neon`, `psalm.xml`) وملفات CI تحت `.github/workflows`.
- الجرد الأولي: مسح شامل للمجلد بحثًا عن الأنماط الدالة (اختبارات `*Test.php`, سكربتات `*.sh`, ملفات إعداد `*.yml`, `*.yaml`, إلخ).
- إنشاء قوائم:
  - `active_assets.log`: كل المسارات المؤكدة نشطة (مذكورة أو ضمن المسارات الرسمية، خصوصًا تحت `tests/`).
  - `deprecated_assets.log`: كل المسارات التي تقع خارج المسارات الرسمية أو ضمن مجلدات نسخ/أرشيف مثل `backups/` وملفات سكربتات قديمة.
- التمييز يعتمد على: المسار الرسمي، الظهور في التهيئة، وتاريخ/سياق الملف.

## ملخص إحصائي
- عدد الأصول النشطة: 309 (راجع `active_assets.log`).
- عدد الأصول المهملة: 25438 (راجع `deprecated_assets.log`).

## الأصول النشطة التي سيتم تشغيلها
- اختبارات PHPUnit حسب `phpunit.xml`:
  - Suites: `Unit`, `Feature`, `AI`, `Security`, `Performance`, `Integration` (مساراتها تحت `tests/…`).
  - مثال على ملفات مؤكدة نشطة:
    - `tests/Unit/…/*Test.php`
    - `tests/Feature/…/*Test.php`
    - `tests/AI/…/*Test.php`
    - `tests/Security/…/*Test.php`
    - `tests/Performance/…/*Test.php`
    - `tests/Integration/…/*Test.php`
- أدوات التحليل الثابت:
  - `phpstan` باستخدام `phpstan.neon`.
  - `psalm` باستخدام `psalm.xml`.
- تكاملات CI/CD:
  - `.github/workflows/*.yml` تحتوي مهام CI الرسمية (مثل `ci.yml`, `security-audit.yml`, `performance-tests.yml`).
- ملفات الإعداد الرئيسية:
  - `composer.json`, `phpunit.xml`.

المسارات الفعلية المندرجة تحت الأصول النشطة مُثبتة في `active_assets.log`، والذي تم بناؤه تلقائيًا من المسارات الرسمية والبحث الانتقائي تحت `tests/`.

## الأصول المصنّفة مهملة ولم تُشغّل
- أمثلة ونمط التصنيف:
  - ملفات تحت `backups/…` بأسماء اختبارات قديمة (تمت أرشفتها): تعتبر مهملة لأنها خارج المسار الرسمي `tests/`.
  - سكربتات Shell في الجذر أو `.husky/` غير مذكورة في `composer.json` أو CI الرسمي.
  - أي اختبارات PHP خارج `tests/` الرسمي.
- المرجع: القائمة الكاملة متاحة في `deprecated_assets.log`.

## أسباب الاشتباه في الإهمال
- "يقع خارج مسار `tests/` الرسمي المحدد في `phpunit.xml`".
- "غير مشار إليه عبر `composer.json` (قسم `scripts`) ولا ضمن `.github/workflows`".
- "ضمن مجلدات نسخ/أرشيف (مثل `backups/`)".

## ملاحظات تنفيذية
- قائمة السكربتات الرسمية عبر Composer مسجلة في: `raw_outputs/raw_composer_scripts.out`.
- مخرجات التشغيل للأصول النشطة ستجدها ضمن `raw_outputs/` بأسماء ملفات تبدأ بـ `raw_…`.

— نهاية التقرير —
