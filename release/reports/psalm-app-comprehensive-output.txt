
Running on PHP 8.2.29, Psalm 6.13.1@1e3b7f0a8ab32b23197b91107adc0a7ed8a05b51.

JIT acceleration: ON

JIT compilation in progress... Done.

Target PHP version: 8.2 (inferred from composer.json).


Scanning files...

1 / 79...10 / 79...20 / 79...30 / 79...40 / 79...50 / 79...60 / 79...70 / 79...79 / 79...80 / 382...90 / 382...100 / 382...110 / 382...120 / 382...130 / 382...140 / 382...150 / 382...160 / 382...170 / 382...180 / 382...190 / 382...200 / 382...210 / 382...220 / 382...230 / 382...240 / 382...250 / 382...260 / 382...270 / 382...280 / 382...290 / 382...300 / 382...310 / 382...320 / 382...330 / 382...340 / 382...350 / 382...360 / 382...370 / 382...380 / 382...382 / 382...390 / 719...400 / 719...410 / 719...420 / 719...430 / 719...440 / 719...450 / 719...460 / 719...470 / 719...480 / 719...490 / 719...500 / 719...510 / 719...520 / 719...530 / 719...540 / 719...550 / 719...560 / 719...570 / 719...580 / 719...590 / 719...600 / 719...610 / 719...620 / 719...630 / 719...640 / 719...650 / 719...660 / 719...670 / 719...680 / 719...690 / 719...700 / 719...710 / 719...719 / 719...720 / 933...730 / 933...740 / 933...750 / 933...760 / 933...770 / 933...780 / 933...790 / 933...800 / 933...810 / 933...820 / 933...830 / 933...840 / 933...850 / 933...860 / 933...870 / 933...880 / 933...890 / 933...900 / 933...910 / 933...920 / 933...930 / 933...933 / 933...940 / 1237...950 / 1237...960 / 1237...970 / 1237...980 / 1237...990 / 1237...1000 / 1237...1010 / 1237...1020 / 1237...1030 / 1237...1040 / 1237...1050 / 1237...1060 / 1237...1070 / 1237...1080 / 1237...1090 / 1237...1100 / 1237...1110 / 1237...1120 / 1237...1130 / 1237...1140 / 1237...1150 / 1237...1160 / 1237...1170 / 1237...1180 / 1237...1190 / 1237...1200 / 1237...1210 / 1237...1220 / 1237...1230 / 1237...1237 / 1237...1240 / 1307...1250 / 1307...1260 / 1307...1270 / 1307...1280 / 1307...1290 / 1307...1300 / 1307...1307 / 1307...1310 / 1349...1320 / 1349...1330 / 1349...1340 / 1349...1349 / 1349...1350 / 1356...1356 / 1356...1360 / 1365...1365 / 1365...1370 / 1371...1371 / 1371...1380 / 1388...1388 / 1388...1390 / 1408...1400 / 1408...1408 / 1408...1410 / 1446...1420 / 1446...1430 / 1446...1440 / 1446...1446 / 1446...1450 / 1465...1460 / 1465...1465 / 1465...1470 / 1476...1476 / 1476...1480 / 1480...1490 / 1726...1500 / 1726...1510 / 1726...1520 / 1726...1530 / 1726...1540 / 1726...1550 / 1726...1560 / 1726...1570 / 1726...1580 / 1726...1590 / 1726...1600 / 1726...1610 / 1726...1620 / 1726...1630 / 1726...1640 / 1726...1650 / 1726...1660 / 1726...1670 / 1726...1680 / 1726...1690 / 1726...1700 / 1726...1710 / 1726...1720 / 1726...1726 / 1726...1730 / 1834...1740 / 1834...1750 / 1834...1760 / 1834...1770 / 1834...1780 / 1834...1790 / 1834...1800 / 1834...1810 / 1834...1820 / 1834...1830 / 1834...1834 / 1834...1840 / 2122...1850 / 2122...1860 / 2122...1870 / 2122...1880 / 2122...1890 / 2122...1900 / 2122...1910 / 2122...1920 / 2122...1930 / 2122...1940 / 2122...1950 / 2122...1960 / 2122...1970 / 2122...1980 / 2122...1990 / 2122...2000 / 2122...2010 / 2122...2020 / 2122...2030 / 2122...2040 / 2122...2050 / 2122...2060 / 2122...2070 / 2122...2080 / 2122...2090 / 2122...2100 / 2122...2110 / 2122...2120 / 2122...2122 / 2122...2130 / 2443...2140 / 2443...2150 / 2443...2160 / 2443...2170 / 2443...2180 / 2443...2190 / 2443...2200 / 2443...2210 / 2443...2220 / 2443...2230 / 2443...2240 / 2443...2250 / 2443...2260 / 2443...2270 / 2443...2280 / 2443...2290 / 2443...2300 / 2443...2310 / 2443...2320 / 2443...2330 / 2443...2340 / 2443...2350 / 2443...2360 / 2443...2370 / 2443...2380 / 2443...2390 / 2443...2400 / 2443...2410 / 2443...2420 / 2443...2430 / 2443...2440 / 2443...2443 / 2443...2450 / 2639...2460 / 2639...2470 / 2639...2480 / 2639...2490 / 2639...2500 / 2639...2510 / 2639...2520 / 2639...2530 / 2639...2540 / 2639...2550 / 2639...2560 / 2639...2570 / 2639...2580 / 2639...2590 / 2639...2600 / 2639...2610 / 2639...2620 / 2639...2630 / 2639...2639 / 2639...2640 / 2718...2650 / 2718...2660 / 2718...2670 / 2718...2680 / 2718...2690 / 2718...2700 / 2718...2710 / 2718...2718 / 2718...2720 / 2759...2730 / 2759...2740 / 2759...2750 / 2759...2759 / 2759...2760 / 2817...2770 / 2817...2780 / 2817...2790 / 2817...2800 / 2817...2810 / 2817...2817 / 2817...2820 / 2832...2830 / 2832...2832 / 2832...2838 / 2838...2839 / 2839...2840 / 2851...2850 / 2851...2851 / 2851...

Analyzing files...

░░░E░EEEEEE░░░░░░░░░░░E░EE░E░EEEE░░EEEE░░EE░░E░░░EE░E░EEEEE░  60 / 246 (24%)
EEEE░EE░EE░EEEEEEEE░EEEE░░E░EE░EEEEEEE░EE░░░░E░EEEEEEEEEEEEE 120 / 246 (48%)
EEEEEEEEEEEEEEEEEEEE░░EEEEEEEEEEEEEEEEE░EEEE░EE░EE░░EE░EEEE░ 180 / 246 (73%)
EE░EE░░░░░░░░░E░EEEEEEE░EEEE░EEEEEEEEEEE░E░EEEEEEEEEEEEEEEEE 240 / 246 (97%)
EEEEEE

To whom it may concern: Psalm cannot detect unused classes, methods and properties
when analyzing individual files and folders. Run on the full project to enable
complete unused code detection.

[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L10\app/Console/Commands/[1;31mCacheManagement.php:10:13[0m]8;;\ - Property App\Console\Commands\CacheManagement::$laravel is not defined in constructor of App\Console\Commands\CacheManagement or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCacheManagement[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L10\app/Console/Commands/[1;31mCacheManagement.php:10:13[0m]8;;\ - Property App\Console\Commands\CacheManagement::$name is not defined in constructor of App\Console\Commands\CacheManagement or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCacheManagement[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L10\app/Console/Commands/[1;31mCacheManagement.php:10:13[0m]8;;\ - Property App\Console\Commands\CacheManagement::$components is not defined in constructor of App\Console\Commands\CacheManagement or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCacheManagement[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L10\app/Console/Commands/[1;31mCacheManagement.php:10:13[0m]8;;\ - Property App\Console\Commands\CacheManagement::$input is not defined in constructor of App\Console\Commands\CacheManagement or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCacheManagement[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L10\app/Console/Commands/[1;31mCacheManagement.php:10:13[0m]8;;\ - Property App\Console\Commands\CacheManagement::$output is not defined in constructor of App\Console\Commands\CacheManagement or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCacheManagement[0m extends Command


[0;31mERROR[0m: PossiblyInvalidCast - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L40\app/Console/Commands/[1;31mCacheManagement.php:40:55[0m]8;;\ - array<array-key, mixed> cannot be cast to string (see https://psalm.dev/190)
            default => $this->error("Unknown action: {[97;41m$action[0m}"),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\ - Unable to determine the type that $stats is being assigned to (see https://psalm.dev/032)
        [97;41m$stats[0m = $cacheService->getStatistics();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:33[0m]8;;\ - Method App\Services\CacheService::getStatistics does not exist (see https://psalm.dev/022)
        $stats = $cacheService->[97;41mgetStatistics[0m();


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L57\app/Console/Commands/[1;31mCacheManagement.php:57:34[0m]8;;\ - Cannot access array value on mixed variable $stats (see https://psalm.dev/051)
                ['Cache Driver', [97;41m$stats['driver'][0m],


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L63\app/Console/Commands/[1;31mCacheManagement.php:63:18[0m]8;;\ - Cannot access array value on mixed variable $stats (see https://psalm.dev/051)
        foreach ([97;41m$stats['prefixes'][0m as $name => $prefix) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L63\app/Console/Commands/[1;31mCacheManagement.php:63:40[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
        foreach ($stats['prefixes'] as [97;41m$name[0m => $prefix) {

  The type of $name is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L63\app/Console/Commands/[1;31mCacheManagement.php:63:49[0m]8;;\ - Unable to determine the type that $prefix is being assigned to (see https://psalm.dev/032)
        foreach ($stats['prefixes'] as $name => [97;41m$prefix[0m) {

  The type of $prefix is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L69\app/Console/Commands/[1;31mCacheManagement.php:69:18[0m]8;;\ - Cannot access array value on mixed variable $stats (see https://psalm.dev/051)
        foreach ([97;41m$stats['durations'][0m as $name => $duration) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L69\app/Console/Commands/[1;31mCacheManagement.php:69:41[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
        foreach ($stats['durations'] as [97;41m$name[0m => $duration) {

  The type of $name is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L69\app/Console/Commands/[1;31mCacheManagement.php:69:50[0m]8;;\ - Unable to determine the type that $duration is being assigned to (see https://psalm.dev/032)
        foreach ($stats['durations'] as $name => [97;41m$duration[0m) {

  The type of $duration is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L70\app/Console/Commands/[1;31mCacheManagement.php:70:13[0m]8;;\ - Unable to determine the type that $minutes is being assigned to (see https://psalm.dev/032)
            [97;41m$minutes[0m = $duration / 60;

  The type of $minutes is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L70\app/Console/Commands/[1;31mCacheManagement.php:70:24[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            $minutes = [97;41m$duration[0m / 60;


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L77\app/Console/Commands/[1;31mCacheManagement.php:77:22[0m]8;;\ - Cannot access array value on mixed variable $stats (see https://psalm.dev/051)
            foreach ([97;41m$stats['redis'][0m as $key => $value) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L77\app/Console/Commands/[1;31mCacheManagement.php:77:41[0m]8;;\ - Unable to determine the type that $key is being assigned to (see https://psalm.dev/032)
            foreach ($stats['redis'] as [97;41m$key[0m => $value) {

  The type of $key is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L77\app/Console/Commands/[1;31mCacheManagement.php:77:49[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
            foreach ($stats['redis'] as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L52\app/Console/Commands/[1;31mCacheManagement.php:52:9[0m]8;;\
        [30;47m$stats[0m = $cacheService->getStatistics();



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L90\app/Console/Commands/[1;31mCacheManagement.php:90:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $this->option('force')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L100\app/Console/Commands/[1;31mCacheManagement.php:100:9[0m]8;;\ - Unable to determine the type that $count is being assigned to (see https://psalm.dev/032)
        [97;41m$count[0m = $cacheService->invalidateAllPriceComparisons();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L100\app/Console/Commands/[1;31mCacheManagement.php:100:33[0m]8;;\ - Method App\Services\CacheService::invalidateAllPriceComparisons does not exist (see https://psalm.dev/022)
        $count = $cacheService->[97;41minvalidateAllPriceComparisons[0m();


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L112\app/Console/Commands/[1;31mCacheManagement.php:112:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $this->option('force')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L122\app/Console/Commands/[1;31mCacheManagement.php:122:9[0m]8;;\ - Unable to determine the type that $count is being assigned to (see https://psalm.dev/032)
        [97;41m$count[0m = $cacheService->invalidateAllSearches();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L122\app/Console/Commands/[1;31mCacheManagement.php:122:33[0m]8;;\ - Method App\Services\CacheService::invalidateAllSearches does not exist (see https://psalm.dev/022)
        $count = $cacheService->[97;41minvalidateAllSearches[0m();


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L134\app/Console/Commands/[1;31mCacheManagement.php:134:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $this->option('force')[0m) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Console/Commands/CacheManagement.php#L144\app/Console/Commands/[1;31mCacheManagement.php:144:24[0m]8;;\ - Method App\Services\CacheService::clearAll does not exist (see https://psalm.dev/022)
        $cacheService->[97;41mclearAll[0m();


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L10\app/Console/Commands/[1;31mCleanAnalytics.php:10:13[0m]8;;\ - Property App\Console\Commands\CleanAnalytics::$laravel is not defined in constructor of App\Console\Commands\CleanAnalytics or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCleanAnalytics[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L10\app/Console/Commands/[1;31mCleanAnalytics.php:10:13[0m]8;;\ - Property App\Console\Commands\CleanAnalytics::$name is not defined in constructor of App\Console\Commands\CleanAnalytics or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCleanAnalytics[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L10\app/Console/Commands/[1;31mCleanAnalytics.php:10:13[0m]8;;\ - Property App\Console\Commands\CleanAnalytics::$components is not defined in constructor of App\Console\Commands\CleanAnalytics or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCleanAnalytics[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L10\app/Console/Commands/[1;31mCleanAnalytics.php:10:13[0m]8;;\ - Property App\Console\Commands\CleanAnalytics::$input is not defined in constructor of App\Console\Commands\CleanAnalytics or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCleanAnalytics[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L10\app/Console/Commands/[1;31mCleanAnalytics.php:10:13[0m]8;;\ - Property App\Console\Commands\CleanAnalytics::$output is not defined in constructor of App\Console\Commands\CleanAnalytics or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mCleanAnalytics[0m extends Command


[0;31mERROR[0m: RiskyCast - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L33\app/Console/Commands/[1;31mCleanAnalytics.php:33:23[0m]8;;\ - Casting array<array-key, mixed> to int has possibly unintended value of 0/1 (see https://psalm.dev/313)
        $days = (int) [97;41m$this->option('days')[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/CleanAnalytics.php#L35\app/Console/Commands/[1;31mCleanAnalytics.php:35:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $this->option('force')[0m) {


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L12\app/Console/Commands/[1;31mOptimizePerformance.php:12:13[0m]8;;\ - Property App\Console\Commands\OptimizePerformance::$laravel is not defined in constructor of App\Console\Commands\OptimizePerformance or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mOptimizePerformance[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L12\app/Console/Commands/[1;31mOptimizePerformance.php:12:13[0m]8;;\ - Property App\Console\Commands\OptimizePerformance::$name is not defined in constructor of App\Console\Commands\OptimizePerformance or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mOptimizePerformance[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L12\app/Console/Commands/[1;31mOptimizePerformance.php:12:13[0m]8;;\ - Property App\Console\Commands\OptimizePerformance::$components is not defined in constructor of App\Console\Commands\OptimizePerformance or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mOptimizePerformance[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L12\app/Console/Commands/[1;31mOptimizePerformance.php:12:13[0m]8;;\ - Property App\Console\Commands\OptimizePerformance::$input is not defined in constructor of App\Console\Commands\OptimizePerformance or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mOptimizePerformance[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L12\app/Console/Commands/[1;31mOptimizePerformance.php:12:13[0m]8;;\ - Property App\Console\Commands\OptimizePerformance::$output is not defined in constructor of App\Console\Commands\OptimizePerformance or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mOptimizePerformance[0m extends Command


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L38\app/Console/Commands/[1;31mOptimizePerformance.php:38:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$this->option('clear')[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L45\app/Console/Commands/[1;31mOptimizePerformance.php:45:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$this->option('analyze')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L126\app/Console/Commands/[1;31mOptimizePerformance.php:126:13[0m]8;;\ - Unable to determine the type that $database is being assigned to (see https://psalm.dev/032)
            [97;41m$database[0m = config('database.connections.mysql.database');

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L130\app/Console/Commands/[1;31mOptimizePerformance.php:130:33[0m]8;;\ - Unable to determine the type that $table is being assigned to (see https://psalm.dev/032)
            foreach ($tables as [97;41m$table[0m) {

  The type of $table is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L125\app/Console/Commands/[1;31mOptimizePerformance.php:125:13[0m]8;;\
            [30;47m$tables[0m = DB::select('SHOW TABLES');



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L131\app/Console/Commands/[1;31mOptimizePerformance.php:131:17[0m]8;;\ - Unable to determine the type that $tableName is being assigned to (see https://psalm.dev/032)
                [97;41m$tableName[0m = $table->$tableKey;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L131\app/Console/Commands/[1;31mOptimizePerformance.php:131:30[0m]8;;\ - Cannot fetch property on mixed var $table (see https://psalm.dev/034)
                $tableName = [97;41m$table->$tableKey[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L160\app/Console/Commands/[1;31mOptimizePerformance.php:160:27[0m]8;;\ - Cannot fetch property on mixed var $slowQueries[0] (see https://psalm.dev/034)
                $status = [97;41m$slowQueries[0]->Value[0m === 'ON' ? '✓ Enabled' : '✗ Disabled';


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L168\app/Console/Commands/[1;31mOptimizePerformance.php:168:50[0m]8;;\ - Cannot fetch property on mixed var $cacheStatus[0] (see https://psalm.dev/034)
                    $this->line("  Query cache: {[97;41m$cacheStatus[0]->Value[0m}");


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L175\app/Console/Commands/[1;31mOptimizePerformance.php:175:13[0m]8;;\ - Unable to determine the type that $database is being assigned to (see https://psalm.dev/032)
            [97;41m$database[0m = config('database.connections.mysql.database');

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L214\app/Console/Commands/[1;31mOptimizePerformance.php:214:51[0m]8;;\ - Unable to determine the type that $table is being assigned to (see https://psalm.dev/032)
                foreach ($tablesWithoutIndexes as [97;41m$table[0m) {

  The type of $table is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L200\app/Console/Commands/[1;31mOptimizePerformance.php:200:13[0m]8;;\
            [30;47m$tablesWithoutIndexes[0m = DB::select("



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/OptimizePerformance.php#L215\app/Console/Commands/[1;31mOptimizePerformance.php:215:41[0m]8;;\ - Cannot fetch property on mixed var $table (see https://psalm.dev/034)
                    $this->line("    - {[97;41m$table->table_name[0m}");


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L11\app/Console/Commands/[1;31mProcessPendingWebhooks.php:11:13[0m]8;;\ - Property App\Console\Commands\ProcessPendingWebhooks::$laravel is not defined in constructor of App\Console\Commands\ProcessPendingWebhooks or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mProcessPendingWebhooks[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L11\app/Console/Commands/[1;31mProcessPendingWebhooks.php:11:13[0m]8;;\ - Property App\Console\Commands\ProcessPendingWebhooks::$name is not defined in constructor of App\Console\Commands\ProcessPendingWebhooks or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mProcessPendingWebhooks[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L11\app/Console/Commands/[1;31mProcessPendingWebhooks.php:11:13[0m]8;;\ - Property App\Console\Commands\ProcessPendingWebhooks::$components is not defined in constructor of App\Console\Commands\ProcessPendingWebhooks or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mProcessPendingWebhooks[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L11\app/Console/Commands/[1;31mProcessPendingWebhooks.php:11:13[0m]8;;\ - Property App\Console\Commands\ProcessPendingWebhooks::$input is not defined in constructor of App\Console\Commands\ProcessPendingWebhooks or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mProcessPendingWebhooks[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L11\app/Console/Commands/[1;31mProcessPendingWebhooks.php:11:13[0m]8;;\ - Property App\Console\Commands\ProcessPendingWebhooks::$output is not defined in constructor of App\Console\Commands\ProcessPendingWebhooks or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mProcessPendingWebhooks[0m extends Command


[0;31mERROR[0m: RiskyCast - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L34\app/Console/Commands/[1;31mProcessPendingWebhooks.php:34:24[0m]8;;\ - Casting array<array-key, mixed> to int has possibly unintended value of 0/1 (see https://psalm.dev/313)
        $limit = (int) [97;41m$this->option('limit')[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L40\app/Console/Commands/[1;31mProcessPendingWebhooks.php:40:9[0m]8;;\ - Unable to determine the type that $query is being assigned to (see https://psalm.dev/032)
        [97;41m$query[0m = Webhook::pending()->orderBy('created_at');


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L40\app/Console/Commands/[1;31mProcessPendingWebhooks.php:40:18[0m]8;;\ - Magic method App\Models\Webhook::pending does not exist (see https://psalm.dev/219)
        $query = [97;41mWebhook::pending()[0m->orderBy('created_at');


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L40\app/Console/Commands/[1;31mProcessPendingWebhooks.php:40:38[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $query = Webhook::pending()->[97;41morderBy[0m('created_at');


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L42\app/Console/Commands/[1;31mProcessPendingWebhooks.php:42:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$retryFailed[0m) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L43\app/Console/Commands/[1;31mProcessPendingWebhooks.php:43:21[0m]8;;\ - Cannot determine the type of $query when calling method orWhere (see https://psalm.dev/015)
            $query->[97;41morWhere[0m('status', Webhook::STATUS_FAILED);

  The type of orWhere is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L40\app/Console/Commands/[1;31mProcessPendingWebhooks.php:40:9[0m]8;;\
        [30;47m$query[0m = Webhook::pending()->orderBy('created_at');



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\ - Unable to determine the type that $webhooks is being assigned to (see https://psalm.dev/032)
        [97;41m$webhooks[0m = $query->limit($limit)->get();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:29[0m]8;;\ - Cannot determine the type of $query when calling method limit (see https://psalm.dev/015)
        $webhooks = $query->[97;41mlimit[0m($limit)->get();

  The type of limit is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L40\app/Console/Commands/[1;31mProcessPendingWebhooks.php:40:9[0m]8;;\
        [30;47m$query[0m = Webhook::pending()->orderBy('created_at');



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:44[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $webhooks = $query->limit($limit)->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L48\app/Console/Commands/[1;31mProcessPendingWebhooks.php:48:24[0m]8;;\ - Cannot determine the type of $webhooks when calling method isEmpty (see https://psalm.dev/015)
        if ($webhooks->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\
        [30;47m$webhooks[0m = $query->limit($limit)->get();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L53\app/Console/Commands/[1;31mProcessPendingWebhooks.php:53:40[0m]8;;\ - Cannot determine the type of $webhooks when calling method count (see https://psalm.dev/015)
        $this->info("Found {$webhooks->[97;41mcount[0m()} webhooks to process.");

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\
        [30;47m$webhooks[0m = $query->limit($limit)->get();



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L55\app/Console/Commands/[1;31mProcessPendingWebhooks.php:55:57[0m]8;;\ - Argument 1 of Illuminate\Console\OutputStyle::createProgressBar cannot be mixed, expecting int (see https://psalm.dev/030)
        $progressBar = $this->output->createProgressBar([97;41m$webhooks->count()[0m);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L55\app/Console/Commands/[1;31mProcessPendingWebhooks.php:55:68[0m]8;;\ - Cannot determine the type of $webhooks when calling method count (see https://psalm.dev/015)
        $progressBar = $this->output->createProgressBar($webhooks->[97;41mcount[0m());

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\
        [30;47m$webhooks[0m = $query->limit($limit)->get();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L61\app/Console/Commands/[1;31mProcessPendingWebhooks.php:61:31[0m]8;;\ - Unable to determine the type that $webhook is being assigned to (see https://psalm.dev/032)
        foreach ($webhooks as [97;41m$webhook[0m) {

  The type of $webhook is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\
        [30;47m$webhooks[0m = $query->limit($limit)->get();



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L63\app/Console/Commands/[1;31mProcessPendingWebhooks.php:63:49[0m]8;;\ - Argument 1 of App\Services\WebhookService::processWebhook cannot be mixed, expecting App\Models\Webhook (see https://psalm.dev/030)
                $webhookService->processWebhook([97;41m$webhook[0m);

  The type of $webhook is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L46\app/Console/Commands/[1;31mProcessPendingWebhooks.php:46:9[0m]8;;\
        [30;47m$webhooks[0m = $query->limit($limit)->get();



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/ProcessPendingWebhooks.php#L67\app/Console/Commands/[1;31mProcessPendingWebhooks.php:67:60[0m]8;;\ - Cannot fetch property on mixed var $webhook (see https://psalm.dev/034)
                $this->error("\nFailed to process webhook {[97;41m$webhook->id[0m}: {$e->getMessage()}");


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L14\app/Console/Commands/[1;31mSEOAudit.php:14:13[0m]8;;\ - Property App\Console\Commands\SEOAudit::$laravel is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mSEOAudit[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L14\app/Console/Commands/[1;31mSEOAudit.php:14:13[0m]8;;\ - Property App\Console\Commands\SEOAudit::$name is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mSEOAudit[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L14\app/Console/Commands/[1;31mSEOAudit.php:14:13[0m]8;;\ - Property App\Console\Commands\SEOAudit::$components is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mSEOAudit[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L14\app/Console/Commands/[1;31mSEOAudit.php:14:13[0m]8;;\ - Property App\Console\Commands\SEOAudit::$input is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mSEOAudit[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L14\app/Console/Commands/[1;31mSEOAudit.php:14:13[0m]8;;\ - Property App\Console\Commands\SEOAudit::$output is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mSEOAudit[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L33\app/Console/Commands/[1;31mSEOAudit.php:33:26[0m]8;;\ - Property App\Console\Commands\SEOAudit::$seoService is not defined in constructor of App\Console\Commands\SEOAudit or in any methods called in the constructor (see https://psalm.dev/074)
    protected SEOService [97;41m$seoService[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L49\app/Console/Commands/[1;31mSEOAudit.php:49:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$model[0m) {


[0;31mERROR[0m: PossiblyInvalidCast - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L50\app/Console/Commands/[1;31mSEOAudit.php:50:39[0m]8;;\ - non-empty-array<array-key, mixed> cannot be cast to string (see https://psalm.dev/190)
            $this->auditSpecificModel([97;41m$model[0m);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L50\app/Console/Commands/[1;31mSEOAudit.php:50:39[0m]8;;\ - Argument 1 of App\Console\Commands\SEOAudit::auditSpecificModel expects string, but non-empty-array<array-key, mixed>|non-falsy-string|true provided (see https://psalm.dev/012)
            $this->auditSpecificModel([97;41m$model[0m);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L159\app/Console/Commands/[1;31mSEOAudit.php:159:17[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$this->option('details')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L161\app/Console/Commands/[1;31mSEOAudit.php:161:37[0m]8;;\ - Unable to determine the type that $issue is being assigned to (see https://psalm.dev/032)
                foreach ($issues as [97;41m$issue[0m) {

  The type of $issue is sourced from here - ]8;;file:///var/www/html/app/Services/SEOService.php#L192\app/Services/[1;31mSEOService.php:192:56[0m]8;;\
    public function validateMetaData(array $metaData): [30;47marray[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L167\app/Console/Commands/[1;31mSEOAudit.php:167:17[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$this->option('fix')[0m) {


[0;31mERROR[0m: UndefinedMagicPropertyAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L182\app/Console/Commands/[1;31mSEOAudit.php:182:13[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$meta_title is not defined (see https://psalm.dev/217)
            [97;41m$model->meta_title[0m = $metaData['title'];


[0;31mERROR[0m: UndefinedMagicPropertyAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L188\app/Console/Commands/[1;31mSEOAudit.php:188:13[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$meta_description is not defined (see https://psalm.dev/217)
            [97;41m$model->meta_description[0m = $metaData['description'];


[0;31mERROR[0m: UndefinedMagicPropertyAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L194\app/Console/Commands/[1;31mSEOAudit.php:194:13[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$meta_keywords is not defined (see https://psalm.dev/217)
            [97;41m$model->meta_keywords[0m = $metaData['keywords'];


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L202\app/Console/Commands/[1;31mSEOAudit.php:202:17[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$this->option('details')[0m) {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L203\app/Console/Commands/[1;31mSEOAudit.php:203:55[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$id is not defined (see https://psalm.dev/218)
                $this->info("     ✅ Fixed {$type} #{[97;41m$model->id[0m}");


[0;31mERROR[0m: RawObjectIteration - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L216\app/Console/Commands/[1;31mSEOAudit.php:216:18[0m]8;;\ - Possibly undesired iteration over regular object Illuminate\Routing\RouteCollectionInterface (see https://psalm.dev/111)
        foreach ([97;41m$routes[0m as $route) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L216\app/Console/Commands/[1;31mSEOAudit.php:216:29[0m]8;;\ - Unable to determine the type that $route is being assigned to (see https://psalm.dev/032)
        foreach ($routes as [97;41m$route[0m) {


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L218\app/Console/Commands/[1;31mSEOAudit.php:218:35[0m]8;;\ - Argument 2 of in_array cannot be mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
            if (! in_array('GET', [97;41m$route->methods()[0m)) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L218\app/Console/Commands/[1;31mSEOAudit.php:218:43[0m]8;;\ - Cannot determine the type of $route when calling method methods (see https://psalm.dev/015)
            if (! in_array('GET', $route->[97;41mmethods[0m())) {

  The type of methods is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L216\app/Console/Commands/[1;31mSEOAudit.php:216:29[0m]8;;\
        foreach ($routes as [30;47m$route[0m) {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L223\app/Console/Commands/[1;31mSEOAudit.php:223:13[0m]8;;\ - Unable to determine the type that $uri is being assigned to (see https://psalm.dev/032)
            [97;41m$uri[0m = $route->uri();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L223\app/Console/Commands/[1;31mSEOAudit.php:223:28[0m]8;;\ - Cannot determine the type of $route when calling method uri (see https://psalm.dev/015)
            $uri = $route->[97;41muri[0m();

  The type of uri is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L216\app/Console/Commands/[1;31mSEOAudit.php:216:29[0m]8;;\
        foreach ($routes as [30;47m$route[0m) {



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L224\app/Console/Commands/[1;31mSEOAudit.php:224:33[0m]8;;\ - Argument 1 of str_starts_with cannot be mixed, expecting string (see https://psalm.dev/030)
            if (str_starts_with([97;41m$uri[0m, 'api/') || str_starts_with($uri, 'admin/')) {

  The type of $uri is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L223\app/Console/Commands/[1;31mSEOAudit.php:223:13[0m]8;;\
            [30;47m$uri[0m = $route->uri();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L228\app/Console/Commands/[1;31mSEOAudit.php:228:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$publicRoutes[][0m = $uri;

  The type of $publicRoutes[] is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L223\app/Console/Commands/[1;31mSEOAudit.php:223:13[0m]8;;\
            [30;47m$uri[0m = $route->uri();



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L248\app/Console/Commands/[1;31mSEOAudit.php:248:17[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$this->option('details')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/SEOAudit.php#L249\app/Console/Commands/[1;31mSEOAudit.php:249:41[0m]8;;\ - Unable to determine the type that $duplicate is being assigned to (see https://psalm.dev/032)
                foreach ($duplicates as [97;41m$duplicate[0m) {

  The type of $duplicate is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L112\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:112:12[0m]8;;\
 * @return [30;47marray<TKey, TValue>[0m



[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L17\app/Console/Commands/[1;31mStatsCommand.php:17:13[0m]8;;\ - Property App\Console\Commands\StatsCommand::$laravel is not defined in constructor of App\Console\Commands\StatsCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mStatsCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L17\app/Console/Commands/[1;31mStatsCommand.php:17:13[0m]8;;\ - Property App\Console\Commands\StatsCommand::$name is not defined in constructor of App\Console\Commands\StatsCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mStatsCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L17\app/Console/Commands/[1;31mStatsCommand.php:17:13[0m]8;;\ - Property App\Console\Commands\StatsCommand::$components is not defined in constructor of App\Console\Commands\StatsCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mStatsCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L17\app/Console/Commands/[1;31mStatsCommand.php:17:13[0m]8;;\ - Property App\Console\Commands\StatsCommand::$input is not defined in constructor of App\Console\Commands\StatsCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mStatsCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L17\app/Console/Commands/[1;31mStatsCommand.php:17:13[0m]8;;\ - Property App\Console\Commands\StatsCommand::$output is not defined in constructor of App\Console\Commands\StatsCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mStatsCommand[0m extends Command


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L42\app/Console/Commands/[1;31mStatsCommand.php:42:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$detailed[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L79\app/Console/Commands/[1;31mStatsCommand.php:79:9[0m]8;;\ - Unable to determine the type that $avgPriceValue is being assigned to (see https://psalm.dev/032)
        [97;41m$avgPriceValue[0m = PriceOffer::query()->avg('price');

  The type of $avgPriceValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php#L3657\vendor/laravel/framework/src/Illuminate/Database/Query/[1;31mBuilder.php:3657:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L82\app/Console/Commands/[1;31mStatsCommand.php:82:9[0m]8;;\ - Unable to determine the type that $minPriceValue is being assigned to (see https://psalm.dev/032)
        [97;41m$minPriceValue[0m = PriceOffer::query()->min('price');

  The type of $minPriceValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php#L3622\vendor/laravel/framework/src/Illuminate/Database/Query/[1;31mBuilder.php:3622:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L85\app/Console/Commands/[1;31mStatsCommand.php:85:9[0m]8;;\ - Unable to determine the type that $maxPriceValue is being assigned to (see https://psalm.dev/032)
        [97;41m$maxPriceValue[0m = PriceOffer::query()->max('price');

  The type of $maxPriceValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php#L3633\vendor/laravel/framework/src/Illuminate/Database/Query/[1;31mBuilder.php:3633:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L89\app/Console/Commands/[1;31mStatsCommand.php:89:49[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
            ['Average Price', '$'.number_format([97;41m(float) $avgPrice[0m, 2)],


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L90\app/Console/Commands/[1;31mStatsCommand.php:90:49[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
            ['Minimum Price', '$'.number_format([97;41m(float) $minPrice[0m, 2)],


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L91\app/Console/Commands/[1;31mStatsCommand.php:91:49[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
            ['Maximum Price', '$'.number_format([97;41m(float) $maxPrice[0m, 2)],


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L102\app/Console/Commands/[1;31mStatsCommand.php:102:29[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, list{string, mixed}>&static expects type Illuminate\Database\Eloquent\Model, type list{string, mixed} given (see https://psalm.dev/183)
            $categoryData = [97;41m$topCategories->map(static fn ($category): array => [$category->name, $category->products_count])[0m->toArray();


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L102\app/Console/Commands/[1;31mStatsCommand.php:102:99[0m]8;;\ - Magic instance property App\Models\Category::$products_count is not defined (see https://psalm.dev/218)
            $categoryData = $topCategories->map(static fn ($category): array => [$category->name, [97;41m$category->products_count[0m])->toArray();


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L115\app/Console/Commands/[1;31mStatsCommand.php:115:26[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, list{string, mixed}>&static expects type Illuminate\Database\Eloquent\Model, type list{string, mixed} given (see https://psalm.dev/183)
            $brandData = [97;41m$topBrands->map(static fn ($brand): array => [$brand->name, $brand->products_count])[0m->toArray();


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L115\app/Console/Commands/[1;31mStatsCommand.php:115:86[0m]8;;\ - Magic instance property App\Models\Brand::$products_count is not defined (see https://psalm.dev/218)
            $brandData = $topBrands->map(static fn ($brand): array => [$brand->name, [97;41m$brand->products_count[0m])->toArray();


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L128\app/Console/Commands/[1;31mStatsCommand.php:128:26[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, list{string, mixed}>&static expects type Illuminate\Database\Eloquent\Model, type list{string, mixed} given (see https://psalm.dev/183)
            $storeData = [97;41m$storeStats->map(static fn ($store): array => [$store->name, $store->price_offers_count])[0m->toArray();


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L128\app/Console/Commands/[1;31mStatsCommand.php:128:87[0m]8;;\ - Magic instance property App\Models\Store::$price_offers_count is not defined (see https://psalm.dev/218)
            $storeData = $storeStats->map(static fn ($store): array => [$store->name, [97;41m$store->price_offers_count[0m])->toArray();


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L153\app/Console/Commands/[1;31mStatsCommand.php:153:58[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            ['Estimated Size', $this->formatBytes((int) ([97;41m$totalRecords * 1024[0m))], // Rough estimate


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L163\app/Console/Commands/[1;31mStatsCommand.php:163:13[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            [97;41m$size /= 1024[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L166\app/Console/Commands/[1;31mStatsCommand.php:166:16[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
        return [97;41mround($size, $precision)[0m.' '.$units[$i];


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L166\app/Console/Commands/[1;31mStatsCommand.php:166:45[0m]8;;\ - Cannot access value on variable $units using a int<0, max> offset, expecting int<0, 4> (see https://psalm.dev/115)
        return round($size, $precision).' '.[97;41m$units[$i][0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L166\app/Console/Commands/[1;31mStatsCommand.php:166:45[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        return round($size, $precision).' '.[97;41m$units[$i][0m;

  The type of $units[$i] is sourced from here - ]8;;file:///var/www/html/app/Console/Commands/StatsCommand.php#L159\app/Console/Commands/[1;31mStatsCommand.php:159:9[0m]8;;\
        [30;47m$units[0m = ['B', 'KB', 'MB', 'GB', 'TB'];



[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L10\app/Console/Commands/[1;31mUpdateExchangeRates.php:10:7[0m]8;;\ - Property App\Console\Commands\UpdateExchangeRates::$laravel is not defined in constructor of App\Console\Commands\UpdateExchangeRates or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateExchangeRates[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L10\app/Console/Commands/[1;31mUpdateExchangeRates.php:10:7[0m]8;;\ - Property App\Console\Commands\UpdateExchangeRates::$name is not defined in constructor of App\Console\Commands\UpdateExchangeRates or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateExchangeRates[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L10\app/Console/Commands/[1;31mUpdateExchangeRates.php:10:7[0m]8;;\ - Property App\Console\Commands\UpdateExchangeRates::$components is not defined in constructor of App\Console\Commands\UpdateExchangeRates or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateExchangeRates[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L10\app/Console/Commands/[1;31mUpdateExchangeRates.php:10:7[0m]8;;\ - Property App\Console\Commands\UpdateExchangeRates::$input is not defined in constructor of App\Console\Commands\UpdateExchangeRates or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateExchangeRates[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L10\app/Console/Commands/[1;31mUpdateExchangeRates.php:10:7[0m]8;;\ - Property App\Console\Commands\UpdateExchangeRates::$output is not defined in constructor of App\Console\Commands\UpdateExchangeRates or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateExchangeRates[0m extends Command


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/UpdateExchangeRates.php#L35\app/Console/Commands/[1;31mUpdateExchangeRates.php:35:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$this->option('seed')[0m) {


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L10\app/Console/Commands/[1;31mUpdatePricesCommand.php:10:13[0m]8;;\ - Property App\Console\Commands\UpdatePricesCommand::$laravel is not defined in constructor of App\Console\Commands\UpdatePricesCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mUpdatePricesCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L10\app/Console/Commands/[1;31mUpdatePricesCommand.php:10:13[0m]8;;\ - Property App\Console\Commands\UpdatePricesCommand::$name is not defined in constructor of App\Console\Commands\UpdatePricesCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mUpdatePricesCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L10\app/Console/Commands/[1;31mUpdatePricesCommand.php:10:13[0m]8;;\ - Property App\Console\Commands\UpdatePricesCommand::$components is not defined in constructor of App\Console\Commands\UpdatePricesCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mUpdatePricesCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L10\app/Console/Commands/[1;31mUpdatePricesCommand.php:10:13[0m]8;;\ - Property App\Console\Commands\UpdatePricesCommand::$input is not defined in constructor of App\Console\Commands\UpdatePricesCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mUpdatePricesCommand[0m extends Command


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L10\app/Console/Commands/[1;31mUpdatePricesCommand.php:10:13[0m]8;;\ - Property App\Console\Commands\UpdatePricesCommand::$output is not defined in constructor of App\Console\Commands\UpdatePricesCommand or in any methods called in the constructor (see https://psalm.dev/074)
final class [97;41mUpdatePricesCommand[0m extends Command


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L39\app/Console/Commands/[1;31mUpdatePricesCommand.php:39:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$storeId[0m) {


[0;31mERROR[0m: RiskyCast - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L40\app/Console/Commands/[1;31mUpdatePricesCommand.php:40:45[0m]8;;\ - Casting non-empty-array<array-key, mixed> to int has possibly unintended value of 0/1 (see https://psalm.dev/313)
            $query->where('store_id', (int) [97;41m$storeId[0m);


[0;31mERROR[0m: PossiblyInvalidCast - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L41\app/Console/Commands/[1;31mUpdatePricesCommand.php:41:65[0m]8;;\ - non-empty-array<array-key, mixed> cannot be cast to string (see https://psalm.dev/190)
            $this->info('📍 Filtering by store ID: '.(string) [97;41m$storeId[0m);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L44\app/Console/Commands/[1;31mUpdatePricesCommand.php:44:13[0m]8;;\ - Operand of type array<array-key, mixed>|bool|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$productId[0m) {


[0;31mERROR[0m: RiskyCast - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L45\app/Console/Commands/[1;31mUpdatePricesCommand.php:45:47[0m]8;;\ - Casting non-empty-array<array-key, mixed> to int has possibly unintended value of 0/1 (see https://psalm.dev/313)
            $query->where('product_id', (int) [97;41m$productId[0m);


[0;31mERROR[0m: PossiblyInvalidCast - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L46\app/Console/Commands/[1;31mUpdatePricesCommand.php:46:67[0m]8;;\ - non-empty-array<array-key, mixed> cannot be cast to string (see https://psalm.dev/190)
            $this->info('📦 Filtering by product ID: '.(string) [97;41m$productId[0m);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L62\app/Console/Commands/[1;31mUpdatePricesCommand.php:62:44[0m]8;;\ - Magic instance property App\Models\PriceOffer::$price is not defined (see https://psalm.dev/218)
                $currentPrice = is_numeric([97;41m$priceOffer->price[0m) ? (float) $priceOffer->price : 0.0;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L63\app/Console/Commands/[1;31mUpdatePricesCommand.php:63:21[0m]8;;\ - Operand of type float|null contains type float, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                if ([97;41m$newPrice[0m && $newPrice !== $currentPrice) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L72\app/Console/Commands/[1;31mUpdatePricesCommand.php:72:36[0m]8;;\ - Docblock-defined type string for $priceOffer->product->name is always string (see https://psalm.dev/156)
                    $productName = [97;41mis_string($priceOffer->product->name)[0m ? $priceOffer->product->name : 'Unknown Product';


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L72\app/Console/Commands/[1;31mUpdatePricesCommand.php:72:105[0m]8;;\ - Docblock-defined type string for $priceOffer->product->name is always string (see https://psalm.dev/155)
                    $productName = is_string($priceOffer->product->name) ? $priceOffer->product->name : [97;41m'Unknown Product'[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L73\app/Console/Commands/[1;31mUpdatePricesCommand.php:73:34[0m]8;;\ - Docblock-defined type string for $priceOffer->store->name is always string (see https://psalm.dev/156)
                    $storeName = [97;41mis_string($priceOffer->store->name)[0m ? $priceOffer->store->name : 'Unknown Store';


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L73\app/Console/Commands/[1;31mUpdatePricesCommand.php:73:99[0m]8;;\ - Docblock-defined type string for $priceOffer->store->name is always string (see https://psalm.dev/155)
                    $storeName = is_string($priceOffer->store->name) ? $priceOffer->store->name : [97;41m'Unknown Store'[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L112\app/Console/Commands/[1;31mUpdatePricesCommand.php:112:36[0m]8;;\ - Magic instance property App\Models\PriceOffer::$price is not defined (see https://psalm.dev/218)
        $currentPrice = is_numeric([97;41m$priceOffer->price[0m) ? (float) $priceOffer->price : 0.0;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L113\app/Console/Commands/[1;31mUpdatePricesCommand.php:113:21[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $newPrice = [97;41m$currentPrice * (1 + $fluctuation)[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Console/Commands/UpdatePricesCommand.php#L113\app/Console/Commands/[1;31mUpdatePricesCommand.php:113:38[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $newPrice = $currentPrice * ([97;41m1 + $fluctuation[0m);


[0;31mERROR[0m: UnresolvableInclude - ]8;;file:///var/www/html/app/Console/Kernel.php#L103\app/Console/[1;31mKernel.php:103:9[0m]8;;\ - Cannot resolve the given expression to a file path (see https://psalm.dev/106)
        [97;41mrequire_once base_path('routes/console.php')[0m;


[0;31mERROR[0m: UnusedClosureParam - ]8;;file:///var/www/html/app/Exceptions/GlobalExceptionHandler.php#L41\app/Exceptions/[1;31mGlobalExceptionHandler.php:41:54[0m]8;;\ - Param e is never referenced in this method (see https://psalm.dev/188)
        $this->reportable(static function (Throwable [97;41m$e[0m): void {});


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Exceptions/GlobalExceptionHandler.php#L294\app/Exceptions/[1;31mGlobalExceptionHandler.php:294:38[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::id does not exist (see https://psalm.dev/181)
                'user_id' => auth()->[97;41mid[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Exceptions/GlobalExceptionHandler.php#L327\app/Exceptions/[1;31mGlobalExceptionHandler.php:327:13[0m]8;;\ - Unable to determine the type that $adminEmails is being assigned to (see https://psalm.dev/032)
            [97;41m$adminEmails[0m = config('app.admin_emails', []);

  The type of $adminEmails is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PossiblyNullOperand - ]8;;file:///var/www/html/app/Exceptions/GlobalExceptionHandler.php#L334\app/Exceptions/[1;31mGlobalExceptionHandler.php:334:34[0m]8;;\ - Cannot concatenate with a possibly null null|string (see https://psalm.dev/080)
                        'Time: '.[97;41mnow()->toISOString()[0m."\n".


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Exceptions/Handler.php#L44\app/Exceptions/[1;31mHandler.php:44:30[0m]8;;\ - Docblock-defined type string for $<tmp coalesce var>1454 is never null (see https://psalm.dev/156)
                    'url' => [97;41mrequest()->url()[0m ?? 'unknown',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Exceptions/Handler.php#L44\app/Exceptions/[1;31mHandler.php:44:50[0m]8;;\ - Cannot resolve types for $<tmp coalesce var>1454 - docblock-defined type string does not contain null (see https://psalm.dev/155)
                    'url' => request()->url() ?? [97;41m'unknown'[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L64\app/Helpers/[1;31mOrderHelper.php:64:13[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
            [97;41m$order->status[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L75\app/Helpers/[1;31mOrderHelper.php:75:16[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
        return [97;41m$order->status[0m === OrderStatus::DELIVERED;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L116\app/Helpers/[1;31mOrderHelper.php:116:13[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
        if ([97;41m$order->status[0m === OrderStatus::SHIPPED && $order->shipped_at) {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L116\app/Helpers/[1;31mOrderHelper.php:116:56[0m]8;;\ - Magic instance property App\Models\Order::$shipped_at is not defined (see https://psalm.dev/218)
        if ($order->status === OrderStatus::SHIPPED && [97;41m$order->shipped_at[0m) {


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L117\app/Helpers/[1;31mOrderHelper.php:117:20[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
            return [97;41m$order->shipped_at->addDays(3)[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L117\app/Helpers/[1;31mOrderHelper.php:117:40[0m]8;;\ - Cannot determine the type of $order->shipped_at when calling method addDays (see https://psalm.dev/015)
            return $order->shipped_at->[97;41maddDays[0m(3);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Helpers/OrderHelper.php#L132\app/Helpers/[1;31mOrderHelper.php:132:13[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
        if ([97;41m$order->status[0m !== OrderStatus::SHIPPED) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L17\app/Helpers/[1;31mPriceHelper.php:17:9[0m]8;;\ - Unable to determine the type that $currencyCode is being assigned to (see https://psalm.dev/032)
        [97;41m$currencyCode[0m ??= config('coprra.default_currency', 'USD');


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L20\app/Helpers/[1;31mPriceHelper.php:20:21[0m]8;;\ - Magic method App\Models\Currency::where does not exist (see https://psalm.dev/219)
        $currency = [97;41mCurrency::where('code', $currencyCode)[0m->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L20\app/Helpers/[1;31mPriceHelper.php:20:61[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $currency = Currency::where('code', $currencyCode)->[97;41mfirst[0m();


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L26\app/Helpers/[1;31mPriceHelper.php:26:16[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
        return [97;41m(string) $currency->symbol[0m . number_format($price, 2);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L38\app/Helpers/[1;31mPriceHelper.php:38:16[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        return [97;41m($comparePrice - $originalPrice) / $originalPrice * 100[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L69\app/Helpers/[1;31mPriceHelper.php:69:20[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $average = [97;41marray_sum($allPrices) / count($allPrices)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L105\app/Helpers/[1;31mPriceHelper.php:105:9[0m]8;;\ - Unable to determine the type that $defaultCurrency is being assigned to (see https://psalm.dev/032)
        [97;41m$defaultCurrency[0m = config('coprra.default_currency', 'USD');

  The type of $defaultCurrency is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L109\app/Helpers/[1;31mPriceHelper.php:109:21[0m]8;;\ - Magic method App\Models\Currency::where does not exist (see https://psalm.dev/219)
        $currency = [97;41mCurrency::where('code', $currencyCode)[0m->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L109\app/Helpers/[1;31mPriceHelper.php:109:61[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $currency = Currency::where('code', $currencyCode)->[97;41mfirst[0m();


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L112\app/Helpers/[1;31mPriceHelper.php:112:31[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
        $symbol = $currency ? [97;41m(string) $currency->symbol[0m : (string) $currencyCode;


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Helpers/PriceHelper.php#L112\app/Helpers/[1;31mPriceHelper.php:112:60[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
        $symbol = $currency ? (string) $currency->symbol : [97;41m(string) $currencyCode[0m;


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L27\app/Http/Controllers/Admin/[1;31mDashboardController.php:27:16[0m]8;;\ - The declared return type 'Illuminate\View\View' for App\Http\Controllers\Admin\DashboardController::index is more specific than the inferred return type 'Illuminate\Contracts\View\View' (see https://psalm.dev/070)
     * @return [97;41m\Illuminate\View\View[0m


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L33\app/Http/Controllers/Admin/[1;31mDashboardController.php:33:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\View\View' for App\Http\Controllers\Admin\DashboardController::index (see https://psalm.dev/129)
        return [97;41mview('admin.dashboard', ['statistics' => $statistics])[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L94\app/Http/Controllers/Admin/[1;31mDashboardController.php:94:30[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
            'total_users' => [97;41m\App\Models\User::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L95\app/Http/Controllers/Admin/[1;31mDashboardController.php:95:75[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
            'active_users' => \App\Models\User::where('is_active', true)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L97\app/Http/Controllers/Admin/[1;31mDashboardController.php:97:33[0m]8;;\ - Magic method App\Models\User::wherenotnull does not exist (see https://psalm.dev/219)
            'verified_users' => [97;41m\App\Models\User::whereNotNull('email_verified_at')[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L97\app/Http/Controllers/Admin/[1;31mDashboardController.php:97:86[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'verified_users' => \App\Models\User::whereNotNull('email_verified_at')->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L98\app/Http/Controllers/Admin/[1;31mDashboardController.php:98:34[0m]8;;\ - Magic method App\Models\User::wheredate does not exist (see https://psalm.dev/219)
            'new_users_today' => [97;41m\App\Models\User::whereDate('created_at', today())[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L98\app/Http/Controllers/Admin/[1;31mDashboardController.php:98:86[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_users_today' => \App\Models\User::whereDate('created_at', today())->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L99\app/Http/Controllers/Admin/[1;31mDashboardController.php:99:38[0m]8;;\ - Magic method App\Models\User::wherebetween does not exist (see https://psalm.dev/219)
            'new_users_this_week' => [97;41m\App\Models\User::whereBetween('created_at', [now()->startOfWeek(), now()->endOfWeek()])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L99\app/Http/Controllers/Admin/[1;31mDashboardController.php:99:128[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_users_this_week' => \App\Models\User::whereBetween('created_at', [now()->startOfWeek(), now()->endOfWeek()])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L100\app/Http/Controllers/Admin/[1;31mDashboardController.php:100:39[0m]8;;\ - Magic method App\Models\User::wheremonth does not exist (see https://psalm.dev/219)
            'new_users_this_month' => [97;41m\App\Models\User::whereMonth('created_at', now()->month)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L100\app/Http/Controllers/Admin/[1;31mDashboardController.php:100:97[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_users_this_month' => \App\Models\User::whereMonth('created_at', now()->month)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L112\app/Http/Controllers/Admin/[1;31mDashboardController.php:112:33[0m]8;;\ - Magic method App\Models\Product::count does not exist (see https://psalm.dev/219)
            'total_products' => [97;41m\App\Models\Product::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L113\app/Http/Controllers/Admin/[1;31mDashboardController.php:113:34[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
            'active_products' => [97;41m\App\Models\Product::where('is_active', true)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L113\app/Http/Controllers/Admin/[1;31mDashboardController.php:113:81[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'active_products' => \App\Models\Product::where('is_active', true)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L114\app/Http/Controllers/Admin/[1;31mDashboardController.php:114:36[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
            'featured_products' => [97;41m\App\Models\Product::where('is_featured', true)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L114\app/Http/Controllers/Admin/[1;31mDashboardController.php:114:85[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'featured_products' => \App\Models\Product::where('is_featured', true)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L115\app/Http/Controllers/Admin/[1;31mDashboardController.php:115:31[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
            'out_of_stock' => [97;41m\App\Models\Product::where('stock_quantity', 0)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L115\app/Http/Controllers/Admin/[1;31mDashboardController.php:115:80[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'out_of_stock' => \App\Models\Product::where('stock_quantity', 0)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L116\app/Http/Controllers/Admin/[1;31mDashboardController.php:116:28[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
            'low_stock' => [97;41m\App\Models\Product::where('stock_quantity', '>', 0)[0m->where('stock_quantity', '<=', 10)->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L116\app/Http/Controllers/Admin/[1;31mDashboardController.php:116:82[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'low_stock' => \App\Models\Product::where('stock_quantity', '>', 0)->[97;41mwhere[0m('stock_quantity', '<=', 10)->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L116\app/Http/Controllers/Admin/[1;31mDashboardController.php:116:117[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'low_stock' => \App\Models\Product::where('stock_quantity', '>', 0)->where('stock_quantity', '<=', 10)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L117\app/Http/Controllers/Admin/[1;31mDashboardController.php:117:37[0m]8;;\ - Magic method App\Models\Product::wheredate does not exist (see https://psalm.dev/219)
            'new_products_today' => [97;41m\App\Models\Product::whereDate('created_at', today())[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L117\app/Http/Controllers/Admin/[1;31mDashboardController.php:117:92[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_products_today' => \App\Models\Product::whereDate('created_at', today())->[97;41mcount[0m(),


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L300\app/Http/Controllers/Admin/[1;31mDashboardController.php:300:35[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'percentage' => round([97;41m$used / $total * 100[0m, 2),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L321\app/Http/Controllers/Admin/[1;31mDashboardController.php:321:13[0m]8;;\ - Class, interface or enum named Cache does not exist (see https://psalm.dev/019)
            [97;41m\Cache[0m::put('test_key', 'test_value', 1);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L346\app/Http/Controllers/Admin/[1;31mDashboardController.php:346:13[0m]8;;\ - Class, interface or enum named DB does not exist (see https://psalm.dev/019)
            [97;41m\DB[0m::connection()->getPdo();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L362\app/Http/Controllers/Admin/[1;31mDashboardController.php:362:13[0m]8;;\ - Class, interface or enum named Cache does not exist (see https://psalm.dev/019)
            [97;41m\Cache[0m::put('health_check', 'ok', 1);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L381\app/Http/Controllers/Admin/[1;31mDashboardController.php:381:13[0m]8;;\ - Class, interface or enum named Storage does not exist (see https://psalm.dev/019)
            [97;41m\Storage[0m::put($testFile, 'test');


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L404\app/Http/Controllers/Admin/[1;31mDashboardController.php:404:23[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $percentage = [97;41m$memoryUsage / $memoryLimitBytes * 100[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L449\app/Http/Controllers/Admin/[1;31mDashboardController.php:449:28[0m]8;;\ - Magic method App\Models\User::wheredate does not exist (see https://psalm.dev/219)
                'count' => [97;41m\App\Models\User::whereDate('created_at', $date)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/Admin/DashboardController.php#L449\app/Http/Controllers/Admin/[1;31mDashboardController.php:449:78[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                'count' => \App\Models\User::whereDate('created_at', $date)->[97;41mcount[0m(),


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L19\app/Http/Controllers/[1;31mAnalyticsController.php:19:13[0m]8;;\ - Operand of type false is always falsy (see https://psalm.dev/155)
        if ([97;41m! $user[0m) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L19\app/Http/Controllers/[1;31mAnalyticsController.php:19:15[0m]8;;\ - Docblock-defined type App\Models\User for $user is never falsy (see https://psalm.dev/155)
        if (! [97;41m$user[0m) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L45\app/Http/Controllers/[1;31mAnalyticsController.php:45:15[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/155)
        if (! [97;41mis_array($validated)[0m) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L51\app/Http/Controllers/[1;31mAnalyticsController.php:51:13[0m]8;;\ - Operand of type false is always falsy (see https://psalm.dev/155)
        if ([97;41m! $user[0m) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L51\app/Http/Controllers/[1;31mAnalyticsController.php:51:15[0m]8;;\ - Docblock-defined type App\Models\User for $user is never falsy (see https://psalm.dev/155)
        if (! [97;41m$user[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L54\app/Http/Controllers/[1;31mAnalyticsController.php:54:9[0m]8;;\ - Unable to determine the type that $actionValue is being assigned to (see https://psalm.dev/032)
        [97;41m$actionValue[0m = $validated['action'] ?? '';

  The type of $actionValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L40\app/Http/Controllers/[1;31mAnalyticsController.php:40:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L57\app/Http/Controllers/[1;31mAnalyticsController.php:57:9[0m]8;;\ - Unable to determine the type that $dataValue is being assigned to (see https://psalm.dev/032)
        [97;41m$dataValue[0m = $validated['data'] ?? [];

  The type of $dataValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L40\app/Http/Controllers/[1;31mAnalyticsController.php:40:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L63\app/Http/Controllers/[1;31mAnalyticsController.php:63:13[0m]8;;\ - Argument 3 of App\Services\BehaviorAnalysisService::trackUserBehavior expects array<string, mixed>, but parent type array<array-key, mixed> provided (see https://psalm.dev/194)
            [97;41m$data[0m

  The type of $data is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/AnalyticsController.php#L40\app/Http/Controllers/[1;31mAnalyticsController.php:40:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/Admin/BrandController.php#L24\app/Http/Controllers/Api/Admin/[1;31mBrandController.php:24:26[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/156)
        $validatedData = [97;41mis_array($validated)[0m ? $validated : [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/Api/Admin/BrandController.php#L24\app/Http/Controllers/Api/Admin/[1;31mBrandController.php:24:62[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/155)
        $validatedData = is_array($validated) ? $validated : [97;41m[][0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/Admin/CategoryController.php#L24\app/Http/Controllers/Api/Admin/[1;31mCategoryController.php:24:26[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/156)
        $validatedData = [97;41mis_array($validated)[0m ? $validated : [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/Api/Admin/CategoryController.php#L24\app/Http/Controllers/Api/Admin/[1;31mCategoryController.php:24:62[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/155)
        $validatedData = is_array($validated) ? $validated : [97;41m[][0m;


[0;31mERROR[0m: PossiblyInvalidCast - ]8;;file:///var/www/html/app/Http/Controllers/Api/BaseApiController.php#L192\app/Http/Controllers/Api/[1;31mBaseApiController.php:192:25[0m]8;;\ - array<array-key, mixed> cannot be cast to string (see https://psalm.dev/190)
        return (string) [97;41m$request->header('API-Version', '1.0')[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L26\app/Http/Controllers/Api/[1;31mPriceSearchController.php:26:13[0m]8;;\ - Unable to determine the type that $productId is being assigned to (see https://psalm.dev/032)
            [97;41m$productId[0m = $request->input('product_id');

  The type of $productId is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L27\app/Http/Controllers/Api/[1;31mPriceSearchController.php:27:13[0m]8;;\ - Unable to determine the type that $productName is being assigned to (see https://psalm.dev/032)
            [97;41m$productName[0m = $request->input('product_name');

  The type of $productName is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L32\app/Http/Controllers/Api/[1;31mPriceSearchController.php:32:55[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
                    'priceOffers' => static function ([97;41m$query[0m): void {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L57\app/Http/Controllers/Api/[1;31mPriceSearchController.php:57:53[0m]8;;\ - Magic instance property App\Models\PriceOffer::$price is not defined (see https://psalm.dev/218)
                            'price' => $bestOffer ? [97;41m$bestOffer->price[0m : $product->price,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L58\app/Http/Controllers/Api/[1;31mPriceSearchController.php:58:40[0m]8;;\ - Docblock-defined type App\Models\Store for $bestOffer->store is never falsy (see https://psalm.dev/156)
                            'store' => [97;41m$bestOffer && $bestOffer->store[0m ? $bestOffer->store->name : 'Unknown Store',


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L58\app/Http/Controllers/Api/[1;31mPriceSearchController.php:58:54[0m]8;;\ - Operand of type App\Models\Store is always truthy (see https://psalm.dev/156)
                            'store' => $bestOffer && [97;41m$bestOffer->store[0m ? $bestOffer->store->name : 'Unknown Store',


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L59\app/Http/Controllers/Api/[1;31mPriceSearchController.php:59:60[0m]8;;\ - Magic instance property App\Models\PriceOffer::$is_available is not defined (see https://psalm.dev/218)
                            'is_available' => $bestOffer ? [97;41m$bestOffer->is_available[0m : true,


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L69\app/Http/Controllers/Api/[1;31mPriceSearchController.php:69:55[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
                    'priceOffers' => static function ([97;41m$query[0m): void {


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L82\app/Http/Controllers/Api/[1;31mPriceSearchController.php:82:55[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
                    'priceOffers' => static function ([97;41m$query[0m): void {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L113\app/Http/Controllers/Api/[1;31mPriceSearchController.php:113:32[0m]8;;\ - Magic instance property App\Models\PriceOffer::$price is not defined (see https://psalm.dev/218)
                    'price' => [97;41m$bestOffer->price[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L115\app/Http/Controllers/Api/[1;31mPriceSearchController.php:115:32[0m]8;;\ - Operand of type App\Models\Store is always truthy (see https://psalm.dev/156)
                    'store' => [97;41m$bestOffer->store[0m ? $bestOffer->store->name : 'Unknown Store',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L115\app/Http/Controllers/Api/[1;31mPriceSearchController.php:115:78[0m]8;;\ - Docblock-defined type App\Models\Store for $bestOffer->store is never falsy (see https://psalm.dev/155)
                    'store' => $bestOffer->store ? $bestOffer->store->name : [97;41m'Unknown Store'[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L117\app/Http/Controllers/Api/[1;31mPriceSearchController.php:117:39[0m]8;;\ - Magic instance property App\Models\PriceOffer::$is_available is not defined (see https://psalm.dev/218)
                    'is_available' => [97;41m$bestOffer->is_available[0m,


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L120\app/Http/Controllers/Api/[1;31mPriceSearchController.php:120:29[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, array{id: int, is_available: bool, price: mixed, store: string, store_id: int, store_url: null|string}>&static expects type Illuminate\Database\Eloquent\Model, type array{id: int, is_available: bool, price: mixed, store: string, store_id: int, store_url: null|string} given (see https://psalm.dev/183)
                'offers' => [97;41m$product->priceOffers->map(static function (PriceOffer $offer): array {
                    return [
                        'id' => $offer->id,
                        'price' => $offer->price,
                        'store_id' => $offer->store_id,
                        'store' => $offer->store ? $offer->store->name : 'Unknown Store',
                        'store_url' => $offer->product_url,
                        'is_available' => (bool) $offer->is_available,
                    ];
                })[0m->toArray(),


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L123\app/Http/Controllers/Api/[1;31mPriceSearchController.php:123:36[0m]8;;\ - Magic instance property App\Models\PriceOffer::$price is not defined (see https://psalm.dev/218)
                        'price' => [97;41m$offer->price[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L125\app/Http/Controllers/Api/[1;31mPriceSearchController.php:125:36[0m]8;;\ - Operand of type App\Models\Store is always truthy (see https://psalm.dev/156)
                        'store' => [97;41m$offer->store[0m ? $offer->store->name : 'Unknown Store',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L125\app/Http/Controllers/Api/[1;31mPriceSearchController.php:125:74[0m]8;;\ - Docblock-defined type App\Models\Store for $offer->store is never falsy (see https://psalm.dev/155)
                        'store' => $offer->store ? $offer->store->name : [97;41m'Unknown Store'[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L127\app/Http/Controllers/Api/[1;31mPriceSearchController.php:127:50[0m]8;;\ - Magic instance property App\Models\PriceOffer::$is_available is not defined (see https://psalm.dev/218)
                        'is_available' => (bool) [97;41m$offer->is_available[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/PriceSearchController.php#L143\app/Http/Controllers/Api/[1;31mPriceSearchController.php:143:9[0m]8;;\ - Unable to determine the type that $countryInput is being assigned to (see https://psalm.dev/032)
        [97;41m$countryInput[0m = $request->input('country');

  The type of $countryInput is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Controllers/Api/ProductController.php#L7\app/Http/Controllers/Api/[1;31mProductController.php:7:36[0m]8;;\ - Const roller is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
use App\Http\Controllers\Contfinal [97;41mroller[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Api/ProductController.php#L22\app/Http/Controllers/Api/[1;31mProductController.php:22:33[0m]8;;\ - Class, interface or enum named App\Http\Controllers\Api\Controller does not exist (see https://psalm.dev/019)
class ProductController extends [97;41mController[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L88\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:88:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$response['errors'][0m = $errors;

  The type of $response['errors'] is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L77\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:77:15[0m]8;;\
        mixed [30;47m$errors[0m = null,



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L185\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:185:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$filters['date_from'][0m = $request->get('date_from');

  The type of $filters['date_from'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L189\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:189:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$filters['date_to'][0m = $request->get('date_to');

  The type of $filters['date_to'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L203\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:203:9[0m]8;;\ - Unable to determine the type that $include is being assigned to (see https://psalm.dev/032)
        [97;41m$include[0m = $request->get('include', '');

  The type of $include is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L222\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:222:9[0m]8;;\ - Unable to determine the type that $fields is being assigned to (see https://psalm.dev/032)
        [97;41m$fields[0m = $request->get('fields', '');

  The type of $fields is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L240\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:240:9[0m]8;;\ - Unable to determine the type that $search is being assigned to (see https://psalm.dev/032)
        [97;41m$search[0m = $request->get('search');

  The type of $search is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L241\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:241:9[0m]8;;\ - Unable to determine the type that $searchFields is being assigned to (see https://psalm.dev/032)
        [97;41m$searchFields[0m = $request->get('search_fields', []);

  The type of $searchFields is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L242\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:242:9[0m]8;;\ - Unable to determine the type that $searchMode is being assigned to (see https://psalm.dev/032)
        [97;41m$searchMode[0m = $request->get('search_mode', 'contains'); // contains, exact, starts_with, ends_with

  The type of $searchMode is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L258\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:258:9[0m]8;;\ - Unable to determine the type that $sortBy is being assigned to (see https://psalm.dev/032)
        [97;41m$sortBy[0m = $request->get('sort_by', 'created_at');

  The type of $sortBy is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L259\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:259:9[0m]8;;\ - Unable to determine the type that $sortOrder is being assigned to (see https://psalm.dev/032)
        [97;41m$sortOrder[0m = $request->get('sort_order', 'desc');

  The type of $sortOrder is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L260\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:260:9[0m]8;;\ - Unable to determine the type that $sortMode is being assigned to (see https://psalm.dev/032)
        [97;41m$sortMode[0m = $request->get('sort_mode', 'default'); // default, natural, custom

  The type of $sortMode is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/Api/V2/BaseApiController.php#L329\app/Http/Controllers/Api/V2/[1;31mBaseApiController.php:329:9[0m]8;;\ - Class, interface or enum named Log does not exist (see https://psalm.dev/019)
        [97;41m\Log[0m::info('API v2 Request', [


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L61\app/Http/Controllers/[1;31mBackupController.php:61:13[0m]8;;\ - Unable to determine the type that $type is being assigned to (see https://psalm.dev/032)
            [97;41m$type[0m = $request->input('type');

  The type of $type is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L62\app/Http/Controllers/[1;31mBackupController.php:62:13[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
            [97;41m$name[0m = $request->input('name', 'backup_'.now()->format('Y-m-d_H-i-s'));

  The type of $name is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L63\app/Http/Controllers/[1;31mBackupController.php:63:13[0m]8;;\ - Unable to determine the type that $description is being assigned to (see https://psalm.dev/032)
            [97;41m$description[0m = $request->input('description', '');

  The type of $description is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L95\app/Http/Controllers/[1;31mBackupController.php:95:17[0m]8;;\ - Operand of type array<string, mixed>|null contains type array<string, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m! $backup[0m) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L103\app/Http/Controllers/[1;31mBackupController.php:103:47[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $filePath = $this->backupPath.'/'.[97;41m(string) $filename[0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L117\app/Http/Controllers/[1;31mBackupController.php:117:96[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
                    'download_url' => url('storage/backups/'.(is_string($backup['filename']) ? [97;41m(string) $backup['filename'][0m : '')),


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L141\app/Http/Controllers/[1;31mBackupController.php:141:17[0m]8;;\ - Operand of type array<string, mixed>|null contains type array<string, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m! $backup[0m) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L149\app/Http/Controllers/[1;31mBackupController.php:149:47[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $filePath = $this->backupPath.'/'.[97;41m(string) $filename[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L180\app/Http/Controllers/[1;31mBackupController.php:180:17[0m]8;;\ - Operand of type array<string, mixed>|null contains type array<string, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m! $backup[0m) {


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L218\app/Http/Controllers/[1;31mBackupController.php:218:35[0m]8;;\ - Right operand cannot be falsable, got false|int (see https://psalm.dev/162)
                    $totalSize += [97;41mfilesize($filePath)[0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L271\app/Http/Controllers/[1;31mBackupController.php:271:51[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
                $filePath = $this->backupPath.'/'.[97;41m(string) $file[0m;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:68[0m]8;;\ - Left operand cannot be falsable, got false|int (see https://psalm.dev/162)
            usort($backups, static fn (array $a, array $b): int => [97;41mstrtotime($b['created_at'])[0m - strtotime($a['created_at']));


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:78[0m]8;;\ - Argument 1 of strtotime cannot be mixed, expecting string (see https://psalm.dev/030)
            usort($backups, static fn (array $a, array $b): int => strtotime([97;41m$b['created_at'][0m) - strtotime($a['created_at']));

  The type of $b['created_at'] is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:56[0m]8;;\
            usort($backups, static fn (array $a, array [30;47m$b[0m): int => strtotime($b['created_at']) - strtotime($a['created_at']));



[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:98[0m]8;;\ - Right operand cannot be falsable, got false|int (see https://psalm.dev/162)
            usort($backups, static fn (array $a, array $b): int => strtotime($b['created_at']) - [97;41mstrtotime($a['created_at'])[0m);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:108[0m]8;;\ - Argument 1 of strtotime cannot be mixed, expecting string (see https://psalm.dev/030)
            usort($backups, static fn (array $a, array $b): int => strtotime($b['created_at']) - strtotime([97;41m$a['created_at'][0m));

  The type of $a['created_at'] is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L287\app/Http/Controllers/[1;31mBackupController.php:287:46[0m]8;;\
            usort($backups, static fn (array [30;47m$a[0m, array $b): int => strtotime($b['created_at']) - strtotime($a['created_at']));



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L306\app/Http/Controllers/[1;31mBackupController.php:306:13[0m]8;;\ - Unable to determine the type that $type is being assigned to (see https://psalm.dev/032)
            [97;41m$type[0m = $options['type'] ?? 'full';

  The type of $type is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L303\app/Http/Controllers/[1;31mBackupController.php:303:41[0m]8;;\
    private function createBackup(array [30;47m$options[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L307\app/Http/Controllers/[1;31mBackupController.php:307:13[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
            [97;41m$name[0m = $options['name'] ?? 'backup_'.now()->format('Y-m-d_H-i-s');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L308\app/Http/Controllers/[1;31mBackupController.php:308:13[0m]8;;\ - Unable to determine the type that $description is being assigned to (see https://psalm.dev/032)
            [97;41m$description[0m = $options['description'] ?? '';

  The type of $description is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L303\app/Http/Controllers/[1;31mBackupController.php:303:41[0m]8;;\
    private function createBackup(array [30;47m$options[0m): array



[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L310\app/Http/Controllers/[1;31mBackupController.php:310:45[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $filename = (is_string($name) ? [97;41m(string) $name[0m : 'backup').'.zip';


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L311\app/Http/Controllers/[1;31mBackupController.php:311:47[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $filePath = $this->backupPath.'/'.[97;41m(string) $filename[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L388\app/Http/Controllers/[1;31mBackupController.php:388:13[0m]8;;\ - Unable to determine the type that $directories is being assigned to (see https://psalm.dev/032)
            [97;41m$directories[0m = $options['directories'] ?? [

  The type of $directories is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L385\app/Http/Controllers/[1;31mBackupController.php:385:57[0m]8;;\
    private function backupFiles(ZipArchive $zip, array [30;47m$options[0m): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L397\app/Http/Controllers/[1;31mBackupController.php:397:42[0m]8;;\ - Unable to determine the type that $dir is being assigned to (see https://psalm.dev/032)
                foreach ($directories as [97;41m$dir[0m) {

  The type of $dir is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L385\app/Http/Controllers/[1;31mBackupController.php:385:57[0m]8;;\
    private function backupFiles(ZipArchive $zip, array [30;47m$options[0m): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L422\app/Http/Controllers/[1;31mBackupController.php:422:28[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($files as [97;41m$file[0m) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L461\app/Http/Controllers/[1;31mBackupController.php:461:47[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $filePath = $this->backupPath.'/'.[97;41m(string) $filename[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L538\app/Http/Controllers/[1;31mBackupController.php:538:32[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
            foreach ($files as [97;41m$file[0m) {


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L581\app/Http/Controllers/[1;31mBackupController.php:581:22[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $pow = floor([97;41m($bytes ? log($bytes) : 0) / log(1024)[0m);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L583\app/Http/Controllers/[1;31mBackupController.php:583:9[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        [97;41m$bytes /= 1024 ** $pow[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L583\app/Http/Controllers/[1;31mBackupController.php:583:19[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $bytes /= [97;41m1024 ** $pow[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L585\app/Http/Controllers/[1;31mBackupController.php:585:16[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
        return [97;41mround($bytes, 2)[0m.' '.$units[$pow];


[0;31mERROR[0m: PossiblyInvalidArrayOffset - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L585\app/Http/Controllers/[1;31mBackupController.php:585:37[0m]8;;\ - Cannot access value on variable $units using a 4|float offset, expecting int<0, 4> (see https://psalm.dev/116)
        return round($bytes, 2).' '.[97;41m$units[$pow][0m;


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L597\app/Http/Controllers/[1;31mBackupController.php:597:29[0m]8;;\ - Argument 1 of array_diff cannot be false, possibly array<array-key, mixed> value expected (see https://psalm.dev/104)
        $files = array_diff([97;41mscandir($dir)[0m, ['.', '..']);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L598\app/Http/Controllers/[1;31mBackupController.php:598:28[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($files as [97;41m$file[0m) {

  The type of $file is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L84\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:84:12[0m]8;;\
 * @return [30;47marray<TKey, TValue>[0m



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Http/Controllers/BackupController.php#L599\app/Http/Controllers/[1;31mBackupController.php:599:30[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            $path = $dir.'/'.[97;41m$file[0m;

  The type of $file is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L84\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:84:12[0m]8;;\
 * @return [30;47marray<TKey, TValue>[0m



[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/BrandController.php#L20\app/Http/Controllers/[1;31mBrandController.php:20:31[0m]8;;\ - The declared return type 'Illuminate\View\View' for App\Http\Controllers\BrandController::create is more specific than the inferred return type 'Illuminate\Contracts\View\View' (see https://psalm.dev/070)
    public function create(): [97;41mView[0m


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/BrandController.php#L22\app/Http/Controllers/[1;31mBrandController.php:22:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\View\View' for App\Http\Controllers\BrandController::create (see https://psalm.dev/129)
        return [97;41mview('brands.create')[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/BrandController.php#L30\app/Http/Controllers/[1;31mBrandController.php:30:24[0m]8;;\ - Argument 1 of App\Models\Brand::update cannot be mixed, expecting array<string, mixed> (see https://psalm.dev/030)
        $brand->update([97;41m$request->validated()[0m);

  The type of $request->validated() is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L243\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:243:21[0m]8;;\
    public function [30;47mvalidated[0m($key = null, $default = null)



[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Controllers/CartController.php#L7\app/Http/Controllers/[1;31mCartController.php:7:26[0m]8;;\ - Const ts\CartRequest is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
use App\Http\Requesfinal [97;41mts\CartRequest[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/CartController.php#L23\app/Http/Controllers/[1;31mCartController.php:23:9[0m]8;;\ - Unable to determine the type that $validated is being assigned to (see https://psalm.dev/032)
        [97;41m$validated[0m = $request->validated();

  The type of $validated is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L243\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:243:21[0m]8;;\
    public function [30;47mvalidated[0m($key = null, $default = null)



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/CartController.php#L27\app/Http/Controllers/[1;31mCartController.php:27:31[0m]8;;\ - Cannot access array value on mixed variable $validated (see https://psalm.dev/051)
        $cartInstance->update([97;41m$validated['id'][0m, [


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/CartController.php#L30\app/Http/Controllers/[1;31mCartController.php:30:28[0m]8;;\ - Cannot access array value on mixed variable $validated (see https://psalm.dev/051)
                'value' => [97;41m$validated['quantity'][0m,


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L18\app/Http/Controllers/[1;31mErrorController.php:18:46[0m]8;;\ - The declared return type 'Illuminate\Http\JsonResponse|Illuminate\View\View' for App\Http\Controllers\ErrorController::index is more specific than the inferred return type 'Illuminate\Contracts\View\View|Illuminate\Http\JsonResponse' (see https://psalm.dev/070)
    public function index(Request $request): [97;41mView|JsonResponse[0m


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L36\app/Http/Controllers/[1;31mErrorController.php:36:9[0m]8;;\ - view-string is not a valid type (Unrecognized type App\Http\Controllers\view-string in /var/www/html/app/Http/Controllers/ErrorController.php:35) (see https://psalm.dev/008)
        [97;41m$view[0m = 'errors.dashboard';


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L38\app/Http/Controllers/[1;31mErrorController.php:38:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\Http\JsonResponse|Illuminate\View\View' for App\Http\Controllers\ErrorController::index (see https://psalm.dev/129)
        return [97;41mview($view, ['errors' => $errors, 'errorStats' => $errorStats, 'systemHealth' => $systemHealth])[0m;


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L44\app/Http/Controllers/[1;31mErrorController.php:44:57[0m]8;;\ - The declared return type 'Illuminate\Http\JsonResponse|Illuminate\View\View' for App\Http\Controllers\ErrorController::show is more specific than the inferred return type 'Illuminate\Contracts\View\View|Illuminate\Http\JsonResponse' (see https://psalm.dev/070)
    public function show(Request $request, string $id): [97;41mView|JsonResponse[0m


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L48\app/Http/Controllers/[1;31mErrorController.php:48:13[0m]8;;\ - Operand of type array<string, mixed>|null contains type array<string, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $error[0m) {


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L56\app/Http/Controllers/[1;31mErrorController.php:56:20[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\Http\JsonResponse|Illuminate\View\View' for App\Http\Controllers\ErrorController::show (see https://psalm.dev/129)
            return [97;41mview('errors.404')[0m;


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L67\app/Http/Controllers/[1;31mErrorController.php:67:9[0m]8;;\ - view-string is not a valid type (Unrecognized type App\Http\Controllers\view-string in /var/www/html/app/Http/Controllers/ErrorController.php:66) (see https://psalm.dev/008)
        [97;41m$view[0m = 'errors.details';


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L69\app/Http/Controllers/[1;31mErrorController.php:69:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\Http\JsonResponse|Illuminate\View\View' for App\Http\Controllers\ErrorController::show (see https://psalm.dev/129)
        return [97;41mview($view, ['error' => $error])[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L87\app/Http/Controllers/[1;31mErrorController.php:87:22[0m]8;;\ - Operand of type false|list<non-empty-string> contains type list<non-empty-string>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            foreach ([97;41m$logFiles[0m ? $logFiles : [] as $logFile) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L89\app/Http/Controllers/[1;31mErrorController.php:89:40[0m]8;;\ - Operand of type false|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                $lines = explode("\n", [97;41m$content[0m ? $content : '');


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L134\app/Http/Controllers/[1;31mErrorController.php:134:22[0m]8;;\ - Operand of type false|list<non-empty-string> contains type list<non-empty-string>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            foreach ([97;41m$logFiles[0m ? $logFiles : [] as $logFile) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L136\app/Http/Controllers/[1;31mErrorController.php:136:40[0m]8;;\ - Operand of type false|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                $lines = explode("\n", [97;41m$content[0m ? $content : '');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L149\app/Http/Controllers/[1;31mErrorController.php:149:25[0m]8;;\ - Unable to determine the type that $type is being assigned to (see https://psalm.dev/032)
                        [97;41m$type[0m = is_string($error['type'] ?? '') ? $error['type'] : 'Unknown';

  The type of $type is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L261\app/Http/Controllers/[1;31mErrorController.php:261:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L155\app/Http/Controllers/[1;31mErrorController.php:155:25[0m]8;;\ - Unable to determine the type that $timestampValue is being assigned to (see https://psalm.dev/032)
                        [97;41m$timestampValue[0m = $error['timestamp'] ?? null;

  The type of $timestampValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L261\app/Http/Controllers/[1;31mErrorController.php:261:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L243\app/Http/Controllers/[1;31mErrorController.php:243:18[0m]8;;\ - Operand of type false|list<non-empty-string> contains type list<non-empty-string>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        foreach ([97;41m$logFiles[0m ? $logFiles : [] as $logFile) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L245\app/Http/Controllers/[1;31mErrorController.php:245:36[0m]8;;\ - Operand of type false|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            $lines = explode("\n", [97;41m$content[0m ? $content : '');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L312\app/Http/Controllers/[1;31mErrorController.php:312:13[0m]8;;\ - Unable to determine the type that $context is being assigned to (see https://psalm.dev/032)
            [97;41m$context[0m = json_decode($matches[0], true);

  The type of $context is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L1527\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:1527:12[0m]8;;\
 * @return [30;47mmixed[0m



[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L350\app/Http/Controllers/[1;31mErrorController.php:350:13[0m]8;;\ - Class, interface or enum named Cache does not exist (see https://psalm.dev/019)
            [97;41m\Cache[0m::put($testKey, 'test', 60);


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L376\app/Http/Controllers/[1;31mErrorController.php:376:26[0m]8;;\ - Left operand cannot be falsable, got false|float (see https://psalm.dev/162)
            $usedSpace = [97;41m$totalSpace[0m - $freeSpace;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L376\app/Http/Controllers/[1;31mErrorController.php:376:40[0m]8;;\ - Right operand cannot be falsable, got false|float (see https://psalm.dev/162)
            $usedSpace = $totalSpace - [97;41m$freeSpace[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L377\app/Http/Controllers/[1;31mErrorController.php:377:32[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            $usagePercentage = [97;41m$usedSpace / $totalSpace * 100[0m;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L377\app/Http/Controllers/[1;31mErrorController.php:377:45[0m]8;;\ - Right operand cannot be falsable, got false|float (see https://psalm.dev/162)
            $usagePercentage = $usedSpace / [97;41m$totalSpace[0m * 100;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L379\app/Http/Controllers/[1;31mErrorController.php:379:89[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
                return ['status' => 'critical', 'message' => 'Storage usage critical: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L383\app/Http/Controllers/[1;31mErrorController.php:383:84[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
                return ['status' => 'warning', 'message' => 'Storage usage high: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L386\app/Http/Controllers/[1;31mErrorController.php:386:82[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
            return ['status' => 'healthy', 'message' => 'Storage usage normal: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L402\app/Http/Controllers/[1;31mErrorController.php:402:51[0m]8;;\ - Argument 1 of App\Http\Controllers\ErrorController::convertToBytes cannot be false, possibly string value expected (see https://psalm.dev/104)
        $memoryLimitBytes = $this->convertToBytes([97;41m$memoryLimit[0m);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L403\app/Http/Controllers/[1;31mErrorController.php:403:28[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $usagePercentage = [97;41m$memoryUsage / $memoryLimitBytes * 100[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L405\app/Http/Controllers/[1;31mErrorController.php:405:84[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
            return ['status' => 'critical', 'message' => 'Memory usage critical: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L409\app/Http/Controllers/[1;31mErrorController.php:409:79[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
            return ['status' => 'warning', 'message' => 'Memory usage high: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L412\app/Http/Controllers/[1;31mErrorController.php:412:77[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
        return ['status' => 'healthy', 'message' => 'Memory usage normal: '.[97;41mround($usagePercentage, 2)[0m.'%'];


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L424\app/Http/Controllers/[1;31mErrorController.php:424:24[0m]8;;\ - Left operand cannot be falsable, got false|float (see https://psalm.dev/162)
        $diskSpaceGB = [97;41m$diskSpace[0m / (1024 * 1024 * 1024);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L424\app/Http/Controllers/[1;31mErrorController.php:424:24[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $diskSpaceGB = [97;41m$diskSpace / (1024 * 1024 * 1024)[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L426\app/Http/Controllers/[1;31mErrorController.php:426:82[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
            return ['status' => 'critical', 'message' => 'Disk space critical: '.[97;41mround($diskSpaceGB, 2)[0m.'GB free'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L430\app/Http/Controllers/[1;31mErrorController.php:430:76[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
            return ['status' => 'warning', 'message' => 'Disk space low: '.[97;41mround($diskSpaceGB, 2)[0m.'GB free'];


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Controllers/ErrorController.php#L433\app/Http/Controllers/[1;31mErrorController.php:433:75[0m]8;;\ - Cannot concatenate with a float (see https://psalm.dev/058)
        return ['status' => 'healthy', 'message' => 'Disk space normal: '.[97;41mround($diskSpaceGB, 2)[0m.'GB free'];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L40\app/Http/Controllers/[1;31mLogController.php:40:17[0m]8;;\ - Unable to determine the type that $level is being assigned to (see https://psalm.dev/032)
                [97;41m$level[0m = $request->get('level');

  The type of $level is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L47\app/Http/Controllers/[1;31mLogController.php:47:13[0m]8;;\ - Unable to determine the type that $limitInput is being assigned to (see https://psalm.dev/032)
            [97;41m$limitInput[0m = $request->get('limit', 100);

  The type of $limitInput is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L74\app/Http/Controllers/[1;31mLogController.php:74:53[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            Log::info('Log file cleared by user: '.([97;41mauth()->id() ?? 'Guest'[0m));


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L74\app/Http/Controllers/[1;31mLogController.php:74:61[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::id does not exist (see https://psalm.dev/181)
            Log::info('Log file cleared by user: '.(auth()->[97;41mid[0m() ?? 'Guest'));


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L277\app/Http/Controllers/[1;31mLogController.php:277:13[0m]8;;\ - Unable to determine the type that $limit is being assigned to (see https://psalm.dev/032)
            [97;41m$limit[0m = $request->get('limit', 50);

  The type of $limit is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L287\app/Http/Controllers/[1;31mLogController.php:287:13[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
            [97;41m$data[0m = $parsedLogs['data'] ?? [];

  The type of $data is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/LogController.php#L175\app/Http/Controllers/[1;31mLogController.php:175:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L27\app/Http/Controllers/[1;31mOrderController.php:27:15[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $validated is always array<array-key, mixed> (see https://psalm.dev/155)
        if (! [97;41mis_array($validated)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L31\app/Http/Controllers/[1;31mOrderController.php:31:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $request->user();

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L36\app/Http/Controllers/[1;31mOrderController.php:36:9[0m]8;;\ - Unable to determine the type that $cartItemsValue is being assigned to (see https://psalm.dev/032)
        [97;41m$cartItemsValue[0m = $validated['cart_items'] ?? [];

  The type of $cartItemsValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L19\app/Http/Controllers/[1;31mOrderController.php:19:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L40\app/Http/Controllers/[1;31mOrderController.php:40:9[0m]8;;\ - Unable to determine the type that $shippingAddressValue is being assigned to (see https://psalm.dev/032)
        [97;41m$shippingAddressValue[0m = $validated['shipping_address'] ?? [];

  The type of $shippingAddressValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L19\app/Http/Controllers/[1;31mOrderController.php:19:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L43\app/Http/Controllers/[1;31mOrderController.php:43:9[0m]8;;\ - Unable to determine the type that $billingAddressValue is being assigned to (see https://psalm.dev/032)
        [97;41m$billingAddressValue[0m = $validated['billing_address'] ?? [];

  The type of $billingAddressValue is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L19\app/Http/Controllers/[1;31mOrderController.php:19:9[0m]8;;\
        [30;47m$validated[0m = $request->validate([



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L46\app/Http/Controllers/[1;31mOrderController.php:46:9[0m]8;;\ - Unable to determine the type that $order is being assigned to (see https://psalm.dev/032)
        [97;41m$order[0m = $this->orderService->createOrder(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L46\app/Http/Controllers/[1;31mOrderController.php:46:18[0m]8;;\ - Instance property App\Http\Controllers\OrderController::$orderService is not defined (see https://psalm.dev/041)
        $order = [97;41m$this->orderService[0m->createOrder(


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L46\app/Http/Controllers/[1;31mOrderController.php:46:39[0m]8;;\ - Cannot determine the type of $this->orderService when calling method createOrder (see https://psalm.dev/015)
        $order = $this->orderService->[97;41mcreateOrder[0m(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L56\app/Http/Controllers/[1;31mOrderController.php:56:9[0m]8;;\ - Instance property App\Http\Controllers\OrderController::$pointsService is not defined (see https://psalm.dev/041)
        [97;41m$this->pointsService[0m->awardPurchasePoints($order);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/OrderController.php#L56\app/Http/Controllers/[1;31mOrderController.php:56:31[0m]8;;\ - Cannot determine the type of $this->pointsService when calling method awardPurchasePoints (see https://psalm.dev/015)
        $this->pointsService->[97;41mawardPurchasePoints[0m($order);


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L18\app/Http/Controllers/[1;31mPriceAlertController.php:18:47[0m]8;;\ - The declared return type 'Illuminate\View\View' for App\Http\Controllers\PriceAlertController::create is more specific than the inferred return type 'Illuminate\Contracts\View\View' (see https://psalm.dev/070)
    public function create(Request $request): [97;41m\Illuminate\View\View[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L22\app/Http/Controllers/[1;31mPriceAlertController.php:22:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = app(Product::class)->findOrFail($request->product_id);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L22\app/Http/Controllers/[1;31mPriceAlertController.php:22:45[0m]8;;\ - Magic method App\Models\Product::findorfail does not exist (see https://psalm.dev/219)
            $product = app(Product::class)->[97;41mfindOrFail[0m($request->product_id);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L22\app/Http/Controllers/[1;31mPriceAlertController.php:22:56[0m]8;;\ - Magic instance property Illuminate\Http\Request::$product_id is not defined (see https://psalm.dev/218)
            $product = app(Product::class)->findOrFail([97;41m$request->product_id[0m);


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L25\app/Http/Controllers/[1;31mPriceAlertController.php:25:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\View\View' for App\Http\Controllers\PriceAlertController::create (see https://psalm.dev/129)
        return [97;41mview('price-alerts.create', ['product' => $product])[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/PriceAlertController.php#L38\app/Http/Controllers/[1;31mPriceAlertController.php:38:31[0m]8;;\ - Magic instance property App\Http\Requests\UpdatePriceAlertRequest::$target_price is not defined (see https://psalm.dev/218)
            'target_price' => [97;41m$request->target_price[0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L19\app/Http/Controllers/[1;31mPriceComparisonController.php:19:9[0m]8;;\ - Class, interface or enum named App\Services\StoreAdapterManager does not exist (see https://psalm.dev/019)
        [97;41mprivate[0m readonly StoreAdapterManager $storeAdapterManager


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L25\app/Http/Controllers/[1;31mPriceComparisonController.php:25:63[0m]8;;\ - The declared return type 'Illuminate\View\View' for App\Http\Controllers\PriceComparisonController::show is more specific than the inferred return type 'Illuminate\Contracts\View\View' (see https://psalm.dev/070)
    public function show(Request $request, Product $product): [97;41mView[0m


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L30\app/Http/Controllers/[1;31mPriceComparisonController.php:30:13[0m]8;;\ - Argument 2 of App\Services\AnalyticsService::trackPriceComparison cannot be mixed, expecting int|null (see https://psalm.dev/030)
            [97;41mauth()->id()[0m


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L30\app/Http/Controllers/[1;31mPriceComparisonController.php:30:21[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::id does not exist (see https://psalm.dev/181)
            auth()->[97;41mid[0m()


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L34\app/Http/Controllers/[1;31mPriceComparisonController.php:34:9[0m]8;;\ - Unable to determine the type that $prices is being assigned to (see https://psalm.dev/032)
        [97;41m$prices[0m = $this->cacheService->getCachedPriceComparison($product->id);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L34\app/Http/Controllers/[1;31mPriceComparisonController.php:34:40[0m]8;;\ - Method App\Services\CacheService::getCachedPriceComparison does not exist (see https://psalm.dev/022)
        $prices = $this->cacheService->[97;41mgetCachedPriceComparison[0m($product->id);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L38\app/Http/Controllers/[1;31mPriceComparisonController.php:38:34[0m]8;;\ - Method App\Services\CacheService::cachePriceComparison does not exist (see https://psalm.dev/022)
            $this->cacheService->[97;41mcachePriceComparison[0m($product->id, $prices);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L42\app/Http/Controllers/[1;31mPriceComparisonController.php:42:39[0m]8;;\ - Argument 1 of App\Http\Controllers\PriceComparisonController::markBestDeal cannot be array<array-key, mixed>|non-empty-mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
        $prices = $this->markBestDeal([97;41m$prices[0m);


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L48\app/Http/Controllers/[1;31mPriceComparisonController.php:48:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\View\View' for App\Http\Controllers\PriceComparisonController::show (see https://psalm.dev/129)
        return [97;41mview('products.price-comparison', [
            'product' => $product,
            'prices' => $prices,
            'showHistory' => $showHistory,
            'priceHistory' => $priceHistory,
            'availableStores' => $this->storeAdapterManager->getAvailableStores(),
        ])[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L53\app/Http/Controllers/[1;31mPriceComparisonController.php:53:34[0m]8;;\ - Class, interface or enum named App\Services\StoreAdapterManager does not exist (see https://psalm.dev/019)
            'availableStores' => [97;41m$this->storeAdapterManager[0m->getAvailableStores(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L65\app/Http/Controllers/[1;31mPriceComparisonController.php:65:9[0m]8;;\ - Unable to determine the type that $storeMappings is being assigned to (see https://psalm.dev/032)
        [97;41m$storeMappings[0m = $product->store_mappings ?? [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L67\app/Http/Controllers/[1;31mPriceComparisonController.php:67:36[0m]8;;\ - Unable to determine the type that $storeIdentifier is being assigned to (see https://psalm.dev/032)
        foreach ($storeMappings as [97;41m$storeIdentifier[0m => $productIdentifier) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L67\app/Http/Controllers/[1;31mPriceComparisonController.php:67:56[0m]8;;\ - Unable to determine the type that $productIdentifier is being assigned to (see https://psalm.dev/032)
        foreach ($storeMappings as $storeIdentifier => [97;41m$productIdentifier[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L68\app/Http/Controllers/[1;31mPriceComparisonController.php:68:13[0m]8;;\ - Unable to determine the type that $productData is being assigned to (see https://psalm.dev/032)
            [97;41m$productData[0m = $this->storeAdapterManager->fetchProduct(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L68\app/Http/Controllers/[1;31mPriceComparisonController.php:68:28[0m]8;;\ - Class, interface or enum named App\Services\StoreAdapterManager does not exist (see https://psalm.dev/019)
            $productData = [97;41m$this->storeAdapterManager[0m->fetchProduct(


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L75\app/Http/Controllers/[1;31mPriceComparisonController.php:75:57[0m]8;;\ - Argument 1 of App\Http\Controllers\PriceComparisonController::getStoreName cannot be mixed, expecting string (see https://psalm.dev/030)
                    'store_name' => $this->getStoreName([97;41m$storeIdentifier[0m),


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L78\app/Http/Controllers/[1;31mPriceComparisonController.php:78:32[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'price' => [97;41m$productData['price'][0m,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L79\app/Http/Controllers/[1;31mPriceComparisonController.php:79:61[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'formatted_price' => $this->formatPrice([97;41m$productData['price'][0m, $productData['currency']),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L79\app/Http/Controllers/[1;31mPriceComparisonController.php:79:61[0m]8;;\ - Argument 1 of App\Http\Controllers\PriceComparisonController::formatPrice cannot be mixed, expecting float (see https://psalm.dev/030)
                    'formatted_price' => $this->formatPrice([97;41m$productData['price'][0m, $productData['currency']),

  The type of $productData['price'] is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L68\app/Http/Controllers/[1;31mPriceComparisonController.php:68:13[0m]8;;\
            [30;47m$productData[0m = $this->storeAdapterManager->fetchProduct(



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L79\app/Http/Controllers/[1;31mPriceComparisonController.php:79:84[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'formatted_price' => $this->formatPrice($productData['price'], [97;41m$productData['currency'][0m),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L79\app/Http/Controllers/[1;31mPriceComparisonController.php:79:84[0m]8;;\ - Argument 2 of App\Http\Controllers\PriceComparisonController::formatPrice cannot be mixed, expecting string (see https://psalm.dev/030)
                    'formatted_price' => $this->formatPrice($productData['price'], [97;41m$productData['currency'][0m),

  The type of $productData['currency'] is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L68\app/Http/Controllers/[1;31mPriceComparisonController.php:68:13[0m]8;;\
            [30;47m$productData[0m = $this->storeAdapterManager->fetchProduct(



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L80\app/Http/Controllers/[1;31mPriceComparisonController.php:80:35[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'currency' => [97;41m$productData['currency'][0m,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L82\app/Http/Controllers/[1;31mPriceComparisonController.php:82:30[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'url' => [97;41m$productData['url'][0m,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L83\app/Http/Controllers/[1;31mPriceComparisonController.php:83:35[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'in_stock' => [97;41m$productData['availability'][0m === 'in_stock',


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L84\app/Http/Controllers/[1;31mPriceComparisonController.php:84:33[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'rating' => [97;41m$productData['rating'][0m,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L85\app/Http/Controllers/[1;31mPriceComparisonController.php:85:40[0m]8;;\ - Cannot access array value on mixed variable $productData (see https://psalm.dev/051)
                    'reviews_count' => [97;41m$productData['reviews_count'][0m,


[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L105\app/Http/Controllers/[1;31mPriceComparisonController.php:105:48[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
        $inStockPrices = array_filter($prices, [97;41mfn($p) => $p['in_stock'][0m);


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L105\app/Http/Controllers/[1;31mPriceComparisonController.php:105:58[0m]8;;\ - Cannot access array value on mixed variable $p (see https://psalm.dev/051)
        $inStockPrices = array_filter($prices, fn($p) => [97;41m$p['in_stock'][0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L111\app/Http/Controllers/[1;31mPriceComparisonController.php:111:9[0m]8;;\ - Unable to determine the type that $lowestPrice is being assigned to (see https://psalm.dev/032)
        [97;41m$lowestPrice[0m = min(array_column($inStockPrices, 'price'));


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L111\app/Http/Controllers/[1;31mPriceComparisonController.php:111:28[0m]8;;\ - Argument 1 of min expects non-empty-array<array-key, mixed>, but parent type list<mixed> provided (see https://psalm.dev/193)
        $lowestPrice = min([97;41marray_column($inStockPrices, 'price')[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L113\app/Http/Controllers/[1;31mPriceComparisonController.php:113:30[0m]8;;\ - Unable to determine the type that $price is being assigned to (see https://psalm.dev/032)
        foreach ($prices as &[97;41m$price[0m) {

  The type of $price is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L98\app/Http/Controllers/[1;31mPriceComparisonController.php:98:41[0m]8;;\
    private function markBestDeal(array [30;47m$prices[0m): array



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L114\app/Http/Controllers/[1;31mPriceComparisonController.php:114:17[0m]8;;\ - Cannot access array value on mixed variable $price (see https://psalm.dev/051)
            if ([97;41m$price['in_stock'][0m && $price['price'] === $lowestPrice) {


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L114\app/Http/Controllers/[1;31mPriceComparisonController.php:114:39[0m]8;;\ - Cannot access array value on mixed variable $price (see https://psalm.dev/051)
            if ($price['in_stock'] && [97;41m$price['price'][0m === $lowestPrice) {


[0;31mERROR[0m: MixedArrayAssignment - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L115\app/Http/Controllers/[1;31mPriceComparisonController.php:115:17[0m]8;;\ - Cannot access array value on mixed variable $price['is_best_deal'] (see https://psalm.dev/117)
                [97;41m$price['is_best_deal'][0m = true;


[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L126\app/Http/Controllers/[1;31mPriceComparisonController.php:126:46[0m]8;;\ - Param product is never referenced in this method (see https://psalm.dev/135)
    private function getPriceHistory(Product [97;41m$product[0m): array


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L173\app/Http/Controllers/[1;31mPriceComparisonController.php:173:30[0m]8;;\ - Method App\Services\CacheService::invalidateProduct does not exist (see https://psalm.dev/022)
        $this->cacheService->[97;41minvalidateProduct[0m($product->id);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Http/Controllers/PriceComparisonController.php#L177\app/Http/Controllers/[1;31mPriceComparisonController.php:177:30[0m]8;;\ - Method App\Services\CacheService::cachePriceComparison does not exist (see https://psalm.dev/022)
        $this->cacheService->[97;41mcachePriceComparison[0m($product->id, $prices);


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L12\app/Http/Controllers/[1;31mProductController.php:12:37[0m]8;;\ - App\Http\Controllers\ProductController has an uninitialized property App\Http\Controllers\ProductController::$productService, but no constructor (see https://psalm.dev/073)
    private readonly ProductService [97;41m$productService[0m;


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L14\app/Http/Controllers/[1;31mProductController.php:14:31[0m]8;;\ - The declared return type 'Illuminate\View\View' for App\Http\Controllers\ProductController::search is more specific than the inferred return type 'Illuminate\Contracts\View\View' (see https://psalm.dev/070)
    public function search(): [97;41mView[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L16\app/Http/Controllers/[1;31mProductController.php:16:9[0m]8;;\ - Unable to determine the type that $query is being assigned to (see https://psalm.dev/032)
        [97;41m$query[0m = request()->get('search', '');

  The type of $query is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L23\app/Http/Controllers/[1;31mProductController.php:23:13[0m]8;;\ - Unable to determine the type that $sortValue is being assigned to (see https://psalm.dev/032)
            [97;41m$sortValue[0m = $filters['sort'];

  The type of $sortValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Support/Traits/InteractsWithData.php#L391\vendor/laravel/framework/src/Illuminate/Support/Traits/[1;31mInteractsWithData.php:391:21[0m]8;;\
    public function [30;47monly[0m($keys)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L24\app/Http/Controllers/[1;31mProductController.php:24:13[0m]8;;\ - Unable to determine the type that $orderValue is being assigned to (see https://psalm.dev/032)
            [97;41m$orderValue[0m = $filters['order'];

  The type of $orderValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Support/Traits/InteractsWithData.php#L391\vendor/laravel/framework/src/Illuminate/Support/Traits/[1;31mInteractsWithData.php:391:21[0m]8;;\
    public function [30;47monly[0m($keys)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L34\app/Http/Controllers/[1;31mProductController.php:34:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$filters['category_id'][0m = $filters['category'];

  The type of $filters['category_id'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Support/Traits/InteractsWithData.php#L391\vendor/laravel/framework/src/Illuminate/Support/Traits/[1;31mInteractsWithData.php:391:21[0m]8;;\
    public function [30;47monly[0m($keys)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L38\app/Http/Controllers/[1;31mProductController.php:38:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$filters['brand_id'][0m = $filters['brand'];

  The type of $filters['brand_id'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Support/Traits/InteractsWithData.php#L391\vendor/laravel/framework/src/Illuminate/Support/Traits/[1;31mInteractsWithData.php:391:21[0m]8;;\
    public function [30;47monly[0m($keys)



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L43\app/Http/Controllers/[1;31mProductController.php:43:25[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $filters is always array<array-key, mixed> (see https://psalm.dev/156)
        $filtersArray = [97;41mis_array($filters)[0m ? $filters : [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L43\app/Http/Controllers/[1;31mProductController.php:43:57[0m]8;;\ - Docblock-defined type array<array-key, mixed> for $filters is always array<array-key, mixed> (see https://psalm.dev/155)
        $filtersArray = is_array($filters) ? $filters : [97;41m[][0m;


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/ProductController.php#L46\app/Http/Controllers/[1;31mProductController.php:46:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\View\View' for App\Http\Controllers\ProductController::search (see https://psalm.dev/129)
        return [97;41mview('products.index', [
            'products' => $products,
        ])[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L30\app/Http/Controllers/[1;31mProfileController.php:30:76[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
            'email' => 'required|string|email|max:255|unique:users,email,'.[97;41m$user->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L35\app/Http/Controllers/[1;31mProfileController.php:35:9[0m]8;;\ - Unable to determine the type that $nameValue is being assigned to (see https://psalm.dev/032)
        [97;41m$nameValue[0m = $request->name;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L35\app/Http/Controllers/[1;31mProfileController.php:35:22[0m]8;;\ - Magic instance property Illuminate\Http\Request::$name is not defined (see https://psalm.dev/218)
        $nameValue = [97;41m$request->name[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L36\app/Http/Controllers/[1;31mProfileController.php:36:9[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
        [97;41m$user->name[0m = is_string($nameValue) ? $nameValue : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L38\app/Http/Controllers/[1;31mProfileController.php:38:9[0m]8;;\ - Unable to determine the type that $emailValue is being assigned to (see https://psalm.dev/032)
        [97;41m$emailValue[0m = $request->email;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L38\app/Http/Controllers/[1;31mProfileController.php:38:23[0m]8;;\ - Magic instance property Illuminate\Http\Request::$email is not defined (see https://psalm.dev/218)
        $emailValue = [97;41m$request->email[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L39\app/Http/Controllers/[1;31mProfileController.php:39:9[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
        [97;41m$user->email[0m = is_string($emailValue) ? $emailValue : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L42\app/Http/Controllers/[1;31mProfileController.php:42:13[0m]8;;\ - Unable to determine the type that $currentPasswordValue is being assigned to (see https://psalm.dev/032)
            [97;41m$currentPasswordValue[0m = $request->current_password;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L42\app/Http/Controllers/[1;31mProfileController.php:42:37[0m]8;;\ - Magic instance property Illuminate\Http\Request::$current_password is not defined (see https://psalm.dev/218)
            $currentPasswordValue = [97;41m$request->current_password[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L45\app/Http/Controllers/[1;31mProfileController.php:45:49[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
            if (! Hash::check($currentPassword, [97;41m$user->password[0m)) {


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L45\app/Http/Controllers/[1;31mProfileController.php:45:49[0m]8;;\ - Argument 2 of Illuminate\Support\Facades\Hash::check cannot be mixed, expecting string (see https://psalm.dev/030)
            if (! Hash::check($currentPassword, [97;41m$user->password[0m)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L49\app/Http/Controllers/[1;31mProfileController.php:49:13[0m]8;;\ - Unable to determine the type that $newPasswordValue is being assigned to (see https://psalm.dev/032)
            [97;41m$newPasswordValue[0m = $request->new_password;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L49\app/Http/Controllers/[1;31mProfileController.php:49:33[0m]8;;\ - Magic instance property Illuminate\Http\Request::$new_password is not defined (see https://psalm.dev/218)
            $newPasswordValue = [97;41m$request->new_password[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L51\app/Http/Controllers/[1;31mProfileController.php:51:13[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
            [97;41m$user->password[0m = Hash::make($newPassword);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Controllers/ProfileController.php#L54\app/Http/Controllers/[1;31mProfileController.php:54:16[0m]8;;\ - Method Illuminate\Contracts\Auth\Authenticatable::save does not exist (see https://psalm.dev/181)
        $user->[97;41msave[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/RecommendationController.php#L18\app/Http/Controllers/[1;31mRecommendationController.php:18:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $request->user();

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/RecommendationController.php#L23\app/Http/Controllers/[1;31mRecommendationController.php:23:9[0m]8;;\ - Unable to determine the type that $limitValue is being assigned to (see https://psalm.dev/032)
        [97;41m$limitValue[0m = $request->get('limit', 10);

  The type of $limitValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/RecommendationController.php#L26\app/Http/Controllers/[1;31mRecommendationController.php:26:77[0m]8;;\ - Argument 1 of App\Services\RecommendationService::getRecommendations cannot be non-empty-mixed, expecting App\Models\User (see https://psalm.dev/030)
        $recommendations = $this->recommendationService->getRecommendations([97;41m$user[0m, $limit);

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L21\app/Http/Controllers/[1;31mReviewController.php:21:60[0m]8;;\ - The declared return type 'Illuminate\Http\RedirectResponse|Illuminate\View\View' for App\Http\Controllers\ReviewController::create is more specific than the inferred return type 'Illuminate\Contracts\View\View|Illuminate\Http\RedirectResponse&static' (see https://psalm.dev/070)
    public function create(Product $product, Guard $auth): [97;41m\Illuminate\View\View|\Illuminate\Http\RedirectResponse[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L24\app/Http/Controllers/[1;31mReviewController.php:24:9[0m]8;;\ - Unable to determine the type that $existingReview is being assigned to (see https://psalm.dev/032)
        [97;41m$existingReview[0m = $product->reviews()->where('user_id', $auth->id())->exists();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L24\app/Http/Controllers/[1;31mReviewController.php:24:79[0m]8;;\ - Magic method Illuminate\Database\Eloquent\Relations\HasMany::exists does not exist (see https://psalm.dev/219)
        $existingReview = $product->reviews()->where('user_id', $auth->id())->[97;41mexists[0m();


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L32\app/Http/Controllers/[1;31mReviewController.php:32:9[0m]8;;\ - view-string is not a valid type (Unrecognized type App\Http\Controllers\view-string in /var/www/html/app/Http/Controllers/ReviewController.php:31) (see https://psalm.dev/008)
        [97;41m$view[0m = 'reviews.create';


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L34\app/Http/Controllers/[1;31mReviewController.php:34:16[0m]8;;\ - The type 'Illuminate\Contracts\View\View' is more general than the declared return type 'Illuminate\Http\RedirectResponse|Illuminate\View\View' for App\Http\Controllers\ReviewController::create (see https://psalm.dev/129)
        return [97;41mview($view, ['product' => $product])[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Controllers/ReviewController.php#L47\app/Http/Controllers/[1;31mReviewController.php:47:25[0m]8;;\ - Argument 1 of App\Models\Review::update cannot be mixed, expecting array<string, mixed> (see https://psalm.dev/030)
        $review->update([97;41m$request->validated()[0m);

  The type of $request->validated() is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L243\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:243:21[0m]8;;\
    public function [30;47mvalidated[0m($key = null, $default = null)



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Http/Controllers/SettingController.php#L68\app/Http/Controllers/[1;31mSettingController.php:68:53[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            Log::info('Settings updated by user: '.([97;41mauth()->id() ?? 'Guest'[0m));


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Controllers/SettingController.php#L68\app/Http/Controllers/[1;31mSettingController.php:68:61[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::id does not exist (see https://psalm.dev/181)
            Log::info('Settings updated by user: '.(auth()->[97;41mid[0m() ?? 'Guest'));


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Controllers/SettingController.php#L214\app/Http/Controllers/[1;31mSettingController.php:214:52[0m]8;;\ - Cannot concatenate with a possibly false false|string (see https://psalm.dev/162)
        Log::info('Processing imported settings: '.[97;41mjson_encode($settings)[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L112\app/Http/Controllers/[1;31mSystemController.php:112:13[0m]8;;\ - Unable to determine the type that $includeFiles is being assigned to (see https://psalm.dev/032)
            [97;41m$includeFiles[0m = $options['include_files'] ?? true;

  The type of $includeFiles is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L108\app/Http/Controllers/[1;31mSystemController.php:108:37[0m]8;;\
    public function runBackup(array [30;47m$options[0m = []): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L113\app/Http/Controllers/[1;31mSystemController.php:113:13[0m]8;;\ - Unable to determine the type that $includeDatabase is being assigned to (see https://psalm.dev/032)
            [97;41m$includeDatabase[0m = $options['include_database'] ?? true;

  The type of $includeDatabase is sourced from here - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L108\app/Http/Controllers/[1;31mSystemController.php:108:37[0m]8;;\
    public function runBackup(array [30;47m$options[0m = []): array



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L117\app/Http/Controllers/[1;31mSystemController.php:117:17[0m]8;;\ - Operand of type mixed|true contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$includeDatabase[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L122\app/Http/Controllers/[1;31mSystemController.php:122:17[0m]8;;\ - Operand of type mixed|true contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$includeFiles[0m) {


[0;31mERROR[0m: ForbiddenCode - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L150\app/Http/Controllers/[1;31mSystemController.php:150:27[0m]8;;\ - Unsafe shell_exec (see https://psalm.dev/002)
                $uptime = [97;41mshell_exec('uptime')[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L152\app/Http/Controllers/[1;31mSystemController.php:152:24[0m]8;;\ - Operand of type false|null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                return [97;41m$uptime[0m ? trim($uptime) : 'Unknown';


[0;31mERROR[0m: ForbiddenCode - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L168\app/Http/Controllers/[1;31mSystemController.php:168:30[0m]8;;\ - Unsafe shell_exec (see https://psalm.dev/002)
                return (int) [97;41mshell_exec('nproc')[0m ?: 1;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///var/www/html/app/Http/Controllers/SystemController.php#L199\app/Http/Controllers/[1;31mSystemController.php:199:68[0m]8;;\ - Argument 2 of Illuminate\Http\Request::server expects array<array-key, mixed>|null|string, but 0 provided (see https://psalm.dev/004)
            $requestTime = request()->server('REQUEST_TIME_FLOAT', [97;41m0[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L32\app/Http/Controllers/[1;31mUserController.php:32:13[0m]8;;\ - Unable to determine the type that $searchInput is being assigned to (see https://psalm.dev/032)
            [97;41m$searchInput[0m = $request->get('search');

  The type of $searchInput is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: InvalidArgument - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L34\app/Http/Controllers/[1;31mUserController.php:34:27[0m]8;;\ - Argument 1 of Illuminate\Database\Eloquent\Builder::where expects Closure(Illuminate\Database\Eloquent\Builder<Illuminate\Database\Eloquent\Model>):mixed|Illuminate\Contracts\Database\Query\Expression|array<array-key, mixed>|string, but pure-Closure(static):void provided (see https://psalm.dev/004)
            $query->where([97;41mstatic function ($q) use ($search): void {
                $q->where('name', 'like', "%{$search}%")
                    ->orWhere('email', 'like', "%{$search}%");
            }[0m);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L35\app/Http/Controllers/[1;31mUserController.php:35:21[0m]8;;\ - Magic method App\Http\Controllers\UserController::where does not exist (see https://psalm.dev/219)
                $q->[97;41mwhere[0m('name', 'like', "%{$search}%")


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L36\app/Http/Controllers/[1;31mUserController.php:36:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morWhere[0m('email', 'like', "%{$search}%");


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L42\app/Http/Controllers/[1;31mUserController.php:42:13[0m]8;;\ - Unable to determine the type that $role is being assigned to (see https://psalm.dev/032)
            [97;41m$role[0m = $request->get('role');

  The type of $role is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L50\app/Http/Controllers/[1;31mUserController.php:50:13[0m]8;;\ - Unable to determine the type that $status is being assigned to (see https://psalm.dev/032)
            [97;41m$status[0m = $request->get('status');

  The type of $status is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L86\app/Http/Controllers/[1;31mUserController.php:86:9[0m]8;;\ - Unable to determine the type that $validated is being assigned to (see https://psalm.dev/032)
        [97;41m$validated[0m = $request->validated();

  The type of $validated is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L243\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:243:21[0m]8;;\
    public function [30;47mvalidated[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L104\app/Http/Controllers/[1;31mUserController.php:104:9[0m]8;;\ - Unable to determine the type that $currentPassword is being assigned to (see https://psalm.dev/032)
        [97;41m$currentPassword[0m = $request->current_password;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L104\app/Http/Controllers/[1;31mUserController.php:104:28[0m]8;;\ - Magic instance property App\Http\Requests\ChangePasswordRequest::$current_password is not defined (see https://psalm.dev/218)
        $currentPassword = [97;41m$request->current_password[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L113\app/Http/Controllers/[1;31mUserController.php:113:9[0m]8;;\ - Unable to determine the type that $newPassword is being assigned to (see https://psalm.dev/032)
        [97;41m$newPassword[0m = $request->new_password;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L113\app/Http/Controllers/[1;31mUserController.php:113:24[0m]8;;\ - Magic instance property App\Http\Requests\ChangePasswordRequest::$new_password is not defined (see https://psalm.dev/218)
        $newPassword = [97;41m$request->new_password[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L129\app/Http/Controllers/[1;31mUserController.php:129:9[0m]8;;\ - Unable to determine the type that $passwordValue is being assigned to (see https://psalm.dev/032)
        [97;41m$passwordValue[0m = $request->input('password');

  The type of $passwordValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Controllers/UserController.php#L166\app/Http/Controllers/[1;31mUserController.php:166:9[0m]8;;\ - Magic method App\Models\User::findorfail does not exist (see https://psalm.dev/219)
        [97;41mUser::findOrFail($userId)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Controllers/WebhookController.php#L45\app/Http/Controllers/[1;31mWebhookController.php:45:13[0m]8;;\ - Unable to determine the type that $webhook is being assigned to (see https://psalm.dev/032)
            [97;41m$webhook[0m = $this->webhookService->handleWebhook(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/WebhookController.php#L45\app/Http/Controllers/[1;31mWebhookController.php:45:24[0m]8;;\ - Instance property App\Http\Controllers\WebhookController::$webhookService is not defined (see https://psalm.dev/041)
            $webhook = [97;41m$this->webhookService[0m->handleWebhook(


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Controllers/WebhookController.php#L45\app/Http/Controllers/[1;31mWebhookController.php:45:47[0m]8;;\ - Cannot determine the type of $this->webhookService when calling method handleWebhook (see https://psalm.dev/015)
            $webhook = $this->webhookService->[97;41mhandleWebhook[0m(


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Controllers/WebhookController.php#L54\app/Http/Controllers/[1;31mWebhookController.php:54:33[0m]8;;\ - Cannot fetch property on mixed var $webhook (see https://psalm.dev/034)
                'webhook_id' => [97;41m$webhook->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/AddQueuedCookiesToResponse.php#L25\app/Http/Middleware/[1;31mAddQueuedCookiesToResponse.php:25:13[0m]8;;\ - Unable to determine the type that $cookieQueue is being assigned to (see https://psalm.dev/032)
            [97;41m$cookieQueue[0m = app('cookie.queue');

  The type of $cookieQueue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/AddQueuedCookiesToResponse.php#L27\app/Http/Middleware/[1;31mAddQueuedCookiesToResponse.php:27:17[0m]8;;\ - Unable to determine the type that $cookies is being assigned to (see https://psalm.dev/032)
                [97;41m$cookies[0m = $cookieQueue->getQueuedCookies();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/AddQueuedCookiesToResponse.php#L29\app/Http/Middleware/[1;31mAddQueuedCookiesToResponse.php:29:42[0m]8;;\ - Unable to determine the type that $cookie is being assigned to (see https://psalm.dev/032)
                    foreach ($cookies as [97;41m$cookie[0m) {

  The type of $cookie is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/AddQueuedCookiesToResponse.php#L27\app/Http/Middleware/[1;31mAddQueuedCookiesToResponse.php:27:17[0m]8;;\
                [30;47m$cookies[0m = $cookieQueue->getQueuedCookies();



[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Http/Middleware/ApiErrorHandler.php#L27\app/Http/Middleware/[1;31mApiErrorHandler.php:27:46[0m]8;;\ - Param request is never referenced in this method (see https://psalm.dev/135)
    private function handleException(Request [97;41m$request[0m, Throwable $e): JsonResponse


[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Http/Middleware/ApiErrorHandler.php#L27\app/Http/Middleware/[1;31mApiErrorHandler.php:27:66[0m]8;;\ - Param e is never referenced in this method (see https://psalm.dev/135)
    private function handleException(Request $request, Throwable [97;41m$e[0m): JsonResponse


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Middleware/ApiErrorHandler.php#L30\app/Http/Middleware/[1;31mApiErrorHandler.php:30:9[0m]8;;\ - Class, interface or enum named Log does not exist (see https://psalm.dev/019)
        [97;41m\Log[0m::error('API Error: '.$e->getMessage(), [


[0;31mERROR[0m: MissingParamType - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L30\app/Http/Middleware/[1;31mAuthenticate.php:30:40[0m]8;;\ - Parameter $request has no provided type (see https://psalm.dev/154)
    protected function unauthenticated([97;41m$request[0m, array $guards): never


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L30\app/Http/Middleware/[1;31mAuthenticate.php:30:56[0m]8;;\ - Argument 2 of App\Http\Middleware\Authenticate::unauthenticated has the more specific type 'array<int, string>', expecting 'array<array-key, mixed>' as defined by Illuminate\Auth\Middleware\Authenticate::unauthenticated (see https://psalm.dev/140)
    protected function unauthenticated($request, array [97;41m$guards[0m): never


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L32\app/Http/Middleware/[1;31mAuthenticate.php:32:23[0m]8;;\ - Cannot determine the type of $request when calling method expectsJson (see https://psalm.dev/015)
        if ($request->[97;41mexpectsJson[0m() || $request->is('api/*')) {

  The type of expectsJson is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L30\app/Http/Middleware/[1;31mAuthenticate.php:30:40[0m]8;;\
    protected function unauthenticated([30;47m$request[0m, array $guards): never



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L32\app/Http/Middleware/[1;31mAuthenticate.php:32:50[0m]8;;\ - Cannot determine the type of $request when calling method is (see https://psalm.dev/015)
        if ($request->expectsJson() || $request->[97;41mis[0m('api/*')) {

  The type of is is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/Authenticate.php#L30\app/Http/Middleware/[1;31mAuthenticate.php:30:40[0m]8;;\
    protected function unauthenticated([30;47m$request[0m, array $guards): never



[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L17\app/Http/Middleware/[1;31mAuthenticateSession.php:17:21[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::check does not exist (see https://psalm.dev/181)
        if (auth()->[97;41mcheck[0m()) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L18\app/Http/Middleware/[1;31mAuthenticateSession.php:18:13[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
            [97;41m$user[0m = auth()->user();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L18\app/Http/Middleware/[1;31mAuthenticateSession.php:18:29[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::user does not exist (see https://psalm.dev/181)
            $user = auth()->[97;41muser[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L21\app/Http/Middleware/[1;31mAuthenticateSession.php:21:17[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
            if ([97;41m$user?->session_id[0m && $user->session_id !== $sessionId) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L21\app/Http/Middleware/[1;31mAuthenticateSession.php:21:17[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$user?->session_id[0m && $user->session_id !== $sessionId) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L21\app/Http/Middleware/[1;31mAuthenticateSession.php:21:39[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
            if ($user?->session_id && [97;41m$user->session_id[0m !== $sessionId) {


[0;31mERROR[0m: PossiblyNullPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L21\app/Http/Middleware/[1;31mAuthenticateSession.php:21:39[0m]8;;\ - Cannot get property on possibly null variable $user of type mixed|null (see https://psalm.dev/082)
            if ($user?->session_id && [97;41m$user->session_id[0m !== $sessionId) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateSession.php#L22\app/Http/Middleware/[1;31mAuthenticateSession.php:22:25[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::logout does not exist (see https://psalm.dev/181)
                auth()->[97;41mlogout[0m();


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateWithBasicAuth.php#L19\app/Http/Middleware/[1;31mAuthenticateWithBasicAuth.php:19:13[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $username[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/AuthenticateWithBasicAuth.php#L24\app/Http/Middleware/[1;31mAuthenticateWithBasicAuth.php:24:13[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $password[0m) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/Authorize.php#L17\app/Http/Middleware/[1;31mAuthorize.php:17:21[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::check does not exist (see https://psalm.dev/181)
        if (auth()->[97;41mcheck[0m() && auth()->user()?->can($ability)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/Authorize.php#L17\app/Http/Middleware/[1;31mAuthorize.php:17:32[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (auth()->check() && [97;41mauth()->user()?->can($ability)[0m) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/Authorize.php#L17\app/Http/Middleware/[1;31mAuthorize.php:17:40[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::user does not exist (see https://psalm.dev/181)
        if (auth()->check() && auth()->[97;41muser[0m()?->can($ability)) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/Authorize.php#L17\app/Http/Middleware/[1;31mAuthorize.php:17:49[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        if (auth()->check() && auth()->user()?->[97;41mcan[0m($ability)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/CheckPermission.php#L21\app/Http/Middleware/[1;31mCheckPermission.php:21:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $request->user();

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/CheckPermission.php#L29\app/Http/Middleware/[1;31mCheckPermission.php:29:17[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
            if ([97;41m$user->role[0m->hasPermission($permission)) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/CheckPermission.php#L29\app/Http/Middleware/[1;31mCheckPermission.php:29:30[0m]8;;\ - Cannot determine the type of $user->role when calling method hasPermission (see https://psalm.dev/015)
            if ($user->role->[97;41mhasPermission[0m($permission)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/CheckUserRole.php#L22\app/Http/Middleware/[1;31mCheckUserRole.php:22:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $request->user();

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/CheckUserRole.php#L35\app/Http/Middleware/[1;31mCheckUserRole.php:35:24[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
        if (! in_array([97;41m$user->role[0m, $allowedRoles, true)) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Http/Middleware/CompressionMiddleware.php#L40\app/Http/Middleware/[1;31mCompressionMiddleware.php:40:30[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $contentString = [97;41m(string) $compressed[0m;


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Http/Middleware/CompressionMiddleware.php#L93\app/Http/Middleware/[1;31mCompressionMiddleware.php:93:64[0m]8;;\ - Argument 1 of str_contains expects string, but possibly different type array<array-key, mixed>|string provided (see https://psalm.dev/092)
        if (function_exists('brotli_compress') && str_contains([97;41m$request->header('Accept-Encoding') ?? ''[0m, 'br')) {


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Middleware/CompressionMiddleware.php#L96\app/Http/Middleware/[1;31mCompressionMiddleware.php:96:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41m$compressed[0m;

  The type of $compressed is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/CompressionMiddleware.php#L94\app/Http/Middleware/[1;31mCompressionMiddleware.php:94:13[0m]8;;\
            [30;47m$compressed[0m = brotli_compress($content, 6);



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L18\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:18:9[0m]8;;\ - Unable to determine the type that $convertedInput is being assigned to (see https://psalm.dev/032)
        [97;41m$convertedInput[0m = $this->convertEmptyStringsToNull($input);

  The type of $convertedInput is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L31\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:31:63[0m]8;;\
    private function convertEmptyStringsToNull(array $input): [30;47mmixed[0m



[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L33\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:33:15[0m]8;;\ - Type array<array-key, mixed> for $input is always !array<array-key, mixed> (see https://psalm.dev/056)
        if (! [97;41mis_array($input)[0m) {


[0;31mERROR[0m: NoValue - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L34\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:34:13[0m]8;;\ - All possible types for this return were invalidated - This may be dead code (see https://psalm.dev/179)
            [97;41mreturn $input;[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L37\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:37:36[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
        foreach ($input as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L31\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:31:54[0m]8;;\
    private function convertEmptyStringsToNull(array [30;47m$input[0m): mixed



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L41\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:41:17[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                [97;41m$input[$key][0m = $this->convertEmptyStringsToNull($value);

  The type of $input[$key] is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/ConvertEmptyStringsToNull.php#L31\app/Http/Middleware/[1;31mConvertEmptyStringsToNull.php:31:63[0m]8;;\
    private function convertEmptyStringsToNull(array $input): [30;47mmixed[0m



[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/EnsureEmailIsVerified.php#L17\app/Http/Middleware/[1;31mEnsureEmailIsVerified.php:17:21[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::check does not exist (see https://psalm.dev/181)
        if (auth()->[97;41mcheck[0m() && ! auth()->user()?->hasVerifiedEmail()) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/EnsureEmailIsVerified.php#L17\app/Http/Middleware/[1;31mEnsureEmailIsVerified.php:17:32[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (auth()->check() && [97;41m! auth()->user()?->hasVerifiedEmail()[0m) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/EnsureEmailIsVerified.php#L17\app/Http/Middleware/[1;31mEnsureEmailIsVerified.php:17:42[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::user does not exist (see https://psalm.dev/181)
        if (auth()->check() && ! auth()->[97;41muser[0m()?->hasVerifiedEmail()) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/EnsureEmailIsVerified.php#L17\app/Http/Middleware/[1;31mEnsureEmailIsVerified.php:17:51[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        if (auth()->check() && ! auth()->user()?->[97;41mhasVerifiedEmail[0m()) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/HandleCors.php#L23\app/Http/Middleware/[1;31mHandleCors.php:23:9[0m]8;;\ - Unable to determine the type that $appUrl is being assigned to (see https://psalm.dev/032)
        [97;41m$appUrl[0m = config('app.url', '*');

  The type of $appUrl is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/HandlePrecognitiveRequests.php#L17\app/Http/Middleware/[1;31mHandlePrecognitiveRequests.php:17:13[0m]8;;\ - Operand of type array<array-key, mixed>|null|string contains types array<array-key, mixed>|string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$request->header('X-Livewire')[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/InputSanitizationMiddleware.php#L49\app/Http/Middleware/[1;31mInputSanitizationMiddleware.php:49:13[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
            [97;41m$data[0m = $response->getData(true);

  The type of $data is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/JsonResponse.php#L61\vendor/laravel/framework/src/Illuminate/Http/[1;31mJsonResponse.php:61:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/InputSanitizationMiddleware.php#L65\app/Http/Middleware/[1;31mInputSanitizationMiddleware.php:65:35[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
        foreach ($data as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/app/Http/Middleware/InputSanitizationMiddleware.php#L63\app/Http/Middleware/[1;31mInputSanitizationMiddleware.php:63:42[0m]8;;\
    private function sanitizeArray(array [30;47m$data[0m): array



[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L21\app/Http/Middleware/[1;31mLocaleMiddleware.php:21:13[0m]8;;\ - Instance property App\Http\Middleware\LocaleMiddleware::$auth is not defined (see https://psalm.dev/041)
        if ([97;41m$this->auth[0m->check()) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L21\app/Http/Middleware/[1;31mLocaleMiddleware.php:21:26[0m]8;;\ - Cannot determine the type of $this->auth when calling method check (see https://psalm.dev/015)
        if ($this->auth->[97;41mcheck[0m()) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L22\app/Http/Middleware/[1;31mLocaleMiddleware.php:22:13[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
            [97;41m$user[0m = $this->auth->user();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L22\app/Http/Middleware/[1;31mLocaleMiddleware.php:22:34[0m]8;;\ - Cannot determine the type of $this->auth when calling method user (see https://psalm.dev/015)
            $user = $this->auth->[97;41muser[0m();


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L23\app/Http/Middleware/[1;31mLocaleMiddleware.php:23:17[0m]8;;\ - Docblock-defined type App\Models\Language for $user->localeSetting->language is always App\Models\Language (see https://psalm.dev/156)
            if ([97;41m$user instanceof User && $user->localeSetting && $user->localeSetting->language instanceof Language[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L26\app/Http/Middleware/[1;31mLocaleMiddleware.php:26:21[0m]8;;\ - Docblock-defined type string for $language->code is always string (see https://psalm.dev/156)
                if ([97;41mis_string($language->code)[0m) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L33\app/Http/Middleware/[1;31mLocaleMiddleware.php:33:13[0m]8;;\ - Instance property App\Http\Middleware\LocaleMiddleware::$session is not defined (see https://psalm.dev/041)
        if ([97;41m$this->session[0m->has('locale_language')) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L33\app/Http/Middleware/[1;31mLocaleMiddleware.php:33:29[0m]8;;\ - Cannot determine the type of $this->session when calling method has (see https://psalm.dev/015)
        if ($this->session->[97;41mhas[0m('locale_language')) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L34\app/Http/Middleware/[1;31mLocaleMiddleware.php:34:13[0m]8;;\ - Unable to determine the type that $sessionLang is being assigned to (see https://psalm.dev/032)
            [97;41m$sessionLang[0m = $this->session->get('locale_language');


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L34\app/Http/Middleware/[1;31mLocaleMiddleware.php:34:44[0m]8;;\ - Cannot determine the type of $this->session when calling method get (see https://psalm.dev/015)
            $sessionLang = $this->session->[97;41mget[0m('locale_language');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L55\app/Http/Middleware/[1;31mLocaleMiddleware.php:55:9[0m]8;;\ - Unable to determine the type that $defaultLang is being assigned to (see https://psalm.dev/032)
        [97;41m$defaultLang[0m = Language::active()->ordered()->first();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L55\app/Http/Middleware/[1;31mLocaleMiddleware.php:55:24[0m]8;;\ - Magic method App\Models\Language::active does not exist (see https://psalm.dev/219)
        $defaultLang = [97;41mLanguage::active()[0m->ordered()->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L55\app/Http/Middleware/[1;31mLocaleMiddleware.php:55:44[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $defaultLang = Language::active()->[97;41mordered[0m()->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L55\app/Http/Middleware/[1;31mLocaleMiddleware.php:55:55[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $defaultLang = Language::active()->ordered()->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L57\app/Http/Middleware/[1;31mLocaleMiddleware.php:57:20[0m]8;;\ - Cannot fetch property on mixed var $defaultLang (see https://psalm.dev/034)
            return [97;41m$defaultLang->code[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L57\app/Http/Middleware/[1;31mLocaleMiddleware.php:57:20[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
            return [97;41m$defaultLang->code[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L60\app/Http/Middleware/[1;31mLocaleMiddleware.php:60:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41mis_string(config('app.fallback_locale')) ? config('app.fallback_locale') : 'en'[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Middleware/LocaleMiddleware.php#L60\app/Http/Middleware/[1;31mLocaleMiddleware.php:60:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mis_string(config('app.fallback_locale')) ? config('app.fallback_locale') : 'en'[0m;


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L17\app/Http/Middleware/[1;31mRequirePassword.php:17:21[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::check does not exist (see https://psalm.dev/181)
        if (auth()->[97;41mcheck[0m()) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L18\app/Http/Middleware/[1;31mRequirePassword.php:18:13[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
            [97;41m$user[0m = auth()->user();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L18\app/Http/Middleware/[1;31mRequirePassword.php:18:29[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::user does not exist (see https://psalm.dev/181)
            $user = auth()->[97;41muser[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L19\app/Http/Middleware/[1;31mRequirePassword.php:19:32[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
            if ($user && isset([97;41m$user->password_confirmed_at[0m) && $user->password_confirmed_at) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L20\app/Http/Middleware/[1;31mRequirePassword.php:20:17[0m]8;;\ - Unable to determine the type that $lastConfirmation is being assigned to (see https://psalm.dev/032)
                [97;41m$lastConfirmation[0m = is_string($user->password_confirmed_at) ? strtotime($user->password_confirmed_at) : $user->password_confirmed_at->timestamp;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L20\app/Http/Middleware/[1;31mRequirePassword.php:20:89[0m]8;;\ - Argument 1 of strtotime cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
                $lastConfirmation = is_string($user->password_confirmed_at) ? strtotime([97;41m$user->password_confirmed_at[0m) : $user->password_confirmed_at->timestamp;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L20\app/Http/Middleware/[1;31mRequirePassword.php:20:121[0m]8;;\ - Cannot fetch property on mixed var $user->password_confirmed_at (see https://psalm.dev/034)
                $lastConfirmation = is_string($user->password_confirmed_at) ? strtotime($user->password_confirmed_at) : [97;41m$user->password_confirmed_at->timestamp[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L21\app/Http/Middleware/[1;31mRequirePassword.php:21:17[0m]8;;\ - Unable to determine the type that $timeout is being assigned to (see https://psalm.dev/032)
                [97;41m$timeout[0m = config('auth.password_timeout', 10800); // 3 hours default

  The type of $timeout is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L23\app/Http/Middleware/[1;31mRequirePassword.php:23:30[0m]8;;\ - Right operand cannot be falsable, got false|int|mixed (see https://psalm.dev/162)
                if (time() - [97;41m$lastConfirmation[0m <= $timeout) {


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Http/Middleware/RequirePassword.php#L23\app/Http/Middleware/[1;31mRequirePassword.php:23:30[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                if (time() - [97;41m$lastConfirmation[0m <= $timeout) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeaders.php#L46\app/Http/Middleware/[1;31mSecurityHeaders.php:46:13[0m]8;;\ - Operand of type bool|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41mapp()->environment('production')[0m && ! $request->secure()) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeaders.php#L111\app/Http/Middleware/[1;31mSecurityHeaders.php:111:29[0m]8;;\ - Operand of type false|non-empty-string contains type non-empty-string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        $input = strtolower([97;41mjson_encode($request->all())[0m ?: '');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L21\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:21:9[0m]8;;\ - Unable to determine the type that $xFrameOptions is being assigned to (see https://psalm.dev/032)
        [97;41m$xFrameOptions[0m = config('security.headers.X-Frame-Options', 'SAMEORIGIN');

  The type of $xFrameOptions is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L25\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:25:9[0m]8;;\ - Unable to determine the type that $xContentTypeOptions is being assigned to (see https://psalm.dev/032)
        [97;41m$xContentTypeOptions[0m = config('security.headers.X-Content-Type-Options', 'nosniff');

  The type of $xContentTypeOptions is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L29\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:29:9[0m]8;;\ - Unable to determine the type that $xXSSProtection is being assigned to (see https://psalm.dev/032)
        [97;41m$xXSSProtection[0m = config('security.headers.X-XSS-Protection', '1; mode=block');

  The type of $xXSSProtection is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L33\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:33:9[0m]8;;\ - Unable to determine the type that $referrerPolicy is being assigned to (see https://psalm.dev/032)
        [97;41m$referrerPolicy[0m = config('security.headers.Referrer-Policy', 'strict-origin-when-cross-origin');

  The type of $referrerPolicy is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L63\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:63:9[0m]8;;\ - Unable to determine the type that $csp is being assigned to (see https://psalm.dev/032)
        [97;41m$csp[0m = config('security.headers.Content-Security-Policy');

  The type of $csp is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L75\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:75:13[0m]8;;\ - Unable to determine the type that $sts is being assigned to (see https://psalm.dev/032)
            [97;41m$sts[0m = config('security.headers.Strict-Transport-Security', 'max-age=31536000; includeSubDomains; preload');

  The type of $sts is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SecurityHeadersMiddleware.php#L88\app/Http/Middleware/[1;31mSecurityHeadersMiddleware.php:88:9[0m]8;;\ - Unable to determine the type that $permissions is being assigned to (see https://psalm.dev/032)
        [97;41m$permissions[0m = config('security.headers.Permissions-Policy');

  The type of $permissions is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L56\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:56:51[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        if ($request->user() && $request->user()->[97;41mwasChanged[0m('role')) {

  The type of wasChanged is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L59\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:59:30[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
                'user_id' => [97;41m$request->user()->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L70\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:70:9[0m]8;;\ - Unable to determine the type that $lastRegeneration is being assigned to (see https://psalm.dev/032)
        [97;41m$lastRegeneration[0m = Session::get('last_regeneration', 0);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L71\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:71:9[0m]8;;\ - Unable to determine the type that $regenerationInterval is being assigned to (see https://psalm.dev/032)
        [97;41m$regenerationInterval[0m = config('session.regeneration_interval', 300); // 5 minutes

  The type of $regenerationInterval is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L79\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:79:30[0m]8;;\ - Cannot fetch property on mixed var $__tmp_nullsafe__2476 (see https://psalm.dev/034)
                'user_id' => [97;41m$request->user()?->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L89\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:89:9[0m]8;;\ - Unable to determine the type that $lastActivity is being assigned to (see https://psalm.dev/032)
        [97;41m$lastActivity[0m = Session::get('last_activity', time());


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L90\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:90:9[0m]8;;\ - Unable to determine the type that $inactivityTimeout is being assigned to (see https://psalm.dev/032)
        [97;41m$inactivityTimeout[0m = config('session.inactivity_timeout', 1800); // 30 minutes

  The type of $inactivityTimeout is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L97\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:97:30[0m]8;;\ - Cannot fetch property on mixed var $__tmp_nullsafe__3067 (see https://psalm.dev/034)
                'user_id' => [97;41m$request->user()?->id[0m,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L98\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:98:42[0m]8;;\ - Cannot process different numeric types together in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                'inactivity_duration' => [97;41mtime() - $lastActivity[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SessionManagementMiddleware.php#L113\app/Http/Middleware/[1;31mSessionManagementMiddleware.php:113:13[0m]8;;\ - Unable to determine the type that $sessionCookie is being assigned to (see https://psalm.dev/032)
            [97;41m$sessionCookie[0m = config('session.cookie');

  The type of $sessionCookie is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocale.php#L19\app/Http/Middleware/[1;31mSetLocale.php:19:9[0m]8;;\ - Unable to determine the type that $requestLang is being assigned to (see https://psalm.dev/032)
        [97;41m$requestLang[0m = $request->get('lang');

  The type of $requestLang is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocale.php#L20\app/Http/Middleware/[1;31mSetLocale.php:20:9[0m]8;;\ - Unable to determine the type that $sessionLocale is being assigned to (see https://psalm.dev/032)
        [97;41m$sessionLocale[0m = Session::get('locale');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocale.php#L22\app/Http/Middleware/[1;31mSetLocale.php:22:9[0m]8;;\ - Unable to determine the type that $configLocale is being assigned to (see https://psalm.dev/032)
        [97;41m$configLocale[0m = config('app.locale');

  The type of $configLocale is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocale.php#L37\app/Http/Middleware/[1;31mSetLocale.php:37:13[0m]8;;\ - Unable to determine the type that $defaultLocale is being assigned to (see https://psalm.dev/032)
            [97;41m$defaultLocale[0m = config('app.locale');

  The type of $defaultLocale is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L27\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:27:33[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        if ($request->user() && [97;41m$request->user()->localeSetting[0m && $request->user()->localeSetting->language) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L27\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:27:68[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        if ($request->user() && $request->user()->localeSetting && [97;41m$request->user()->localeSetting[0m->language) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L28\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:28:13[0m]8;;\ - Unable to determine the type that $language is being assigned to (see https://psalm.dev/032)
            [97;41m$language[0m = $request->user()->localeSetting->language;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L28\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:28:25[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
            $language = [97;41m$request->user()->localeSetting[0m->language;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L29\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:29:13[0m]8;;\ - Unable to determine the type that $locale is being assigned to (see https://psalm.dev/032)
            [97;41m$locale[0m = is_string($language->code) ? $language->code : null;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L29\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:29:33[0m]8;;\ - Cannot fetch property on mixed var $language (see https://psalm.dev/034)
            $locale = is_string([97;41m$language->code[0m) ? $language->code : null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L33\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:33:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $locale[0m && Session::has('locale')) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L34\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:34:13[0m]8;;\ - Unable to determine the type that $locale is being assigned to (see https://psalm.dev/032)
            [97;41m$locale[0m = Session::get('locale');


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L38\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:38:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $locale[0m && $request->has('lang')) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L39\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:39:13[0m]8;;\ - Unable to determine the type that $locale is being assigned to (see https://psalm.dev/032)
            [97;41m$locale[0m = $request->get('lang');

  The type of $locale is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L43\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:43:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $locale[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L48\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:48:13[0m]8;;\ - Operand of type non-empty-mixed|null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $locale[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L49\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:49:13[0m]8;;\ - Unable to determine the type that $locale is being assigned to (see https://psalm.dev/032)
            [97;41m$locale[0m = config('coprra.default_language', 'en');

  The type of $locale is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L53\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:53:9[0m]8;;\ - Unable to determine the type that $validLocale is being assigned to (see https://psalm.dev/032)
        [97;41m$validLocale[0m = Language::where('code', $locale)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L53\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:53:24[0m]8;;\ - Magic method App\Models\Language::where does not exist (see https://psalm.dev/219)
        $validLocale = [97;41mLanguage::where('code', $locale)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L54\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:54:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L55\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:55:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L58\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:58:28[0m]8;;\ - Cannot fetch property on mixed var $validLocale (see https://psalm.dev/034)
            App::setLocale([97;41m$validLocale->code[0m);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L58\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:58:28[0m]8;;\ - Argument 1 of Illuminate\Support\Facades\App::setlocale cannot be mixed, expecting string (see https://psalm.dev/030)
            App::setLocale([97;41m$validLocale->code[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L62\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:62:13[0m]8;;\ - Unable to determine the type that $defaultLanguage is being assigned to (see https://psalm.dev/032)
            [97;41m$defaultLanguage[0m = Language::where('is_default', true)->first();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L62\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:62:32[0m]8;;\ - Magic method App\Models\Language::where does not exist (see https://psalm.dev/219)
            $defaultLanguage = [97;41mLanguage::where('is_default', true)[0m->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L62\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:62:69[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            $defaultLanguage = Language::where('is_default', true)->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L64\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:64:32[0m]8;;\ - Cannot fetch property on mixed var $defaultLanguage (see https://psalm.dev/034)
                App::setLocale([97;41m$defaultLanguage->code[0m);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L64\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:64:32[0m]8;;\ - Argument 1 of Illuminate\Support\Facades\App::setlocale cannot be mixed, expecting string (see https://psalm.dev/030)
                App::setLocale([97;41m$defaultLanguage->code[0m);


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L78\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:78:33[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        if ($request->user() && [97;41m$request->user()->localeSetting[0m && $request->user()->localeSetting->currency) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L78\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:78:68[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        if ($request->user() && $request->user()->localeSetting && [97;41m$request->user()->localeSetting[0m->currency) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L79\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:79:13[0m]8;;\ - Unable to determine the type that $currencyModel is being assigned to (see https://psalm.dev/032)
            [97;41m$currencyModel[0m = $request->user()->localeSetting->currency;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L79\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:79:30[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
            $currencyModel = [97;41m$request->user()->localeSetting[0m->currency;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L80\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:80:13[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
            [97;41m$currency[0m = is_string($currencyModel->code) ? $currencyModel->code : null;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L80\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:80:35[0m]8;;\ - Cannot fetch property on mixed var $currencyModel (see https://psalm.dev/034)
            $currency = is_string([97;41m$currencyModel->code[0m) ? $currencyModel->code : null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L84\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:84:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $currency[0m && Session::has('currency')) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L85\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:85:13[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
            [97;41m$currency[0m = Session::get('currency');


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L89\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:89:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $currency[0m && $request->has('currency')) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L90\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:90:13[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
            [97;41m$currency[0m = $request->get('currency');

  The type of $currency is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L94\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:94:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $currency[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L95\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:95:13[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
            [97;41m$currency[0m = config('coprra.default_currency', 'USD');

  The type of $currency is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L99\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:99:9[0m]8;;\ - Unable to determine the type that $validCurrency is being assigned to (see https://psalm.dev/032)
        [97;41m$validCurrency[0m = Currency::where('code', $currency)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L99\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:99:26[0m]8;;\ - Magic method App\Models\Currency::where does not exist (see https://psalm.dev/219)
        $validCurrency = [97;41mCurrency::where('code', $currency)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L100\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:100:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L101\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:101:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L104\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:104:38[0m]8;;\ - Cannot fetch property on mixed var $validCurrency (see https://psalm.dev/034)
            Session::put('currency', [97;41m$validCurrency->code[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L108\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:108:13[0m]8;;\ - Unable to determine the type that $defaultCurrency is being assigned to (see https://psalm.dev/032)
            [97;41m$defaultCurrency[0m = Currency::where('is_default', true)->first();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L108\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:108:32[0m]8;;\ - Magic method App\Models\Currency::where does not exist (see https://psalm.dev/219)
            $defaultCurrency = [97;41mCurrency::where('is_default', true)[0m->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L108\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:108:69[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            $defaultCurrency = Currency::where('is_default', true)->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/SetLocaleAndCurrency.php#L110\app/Http/Middleware/[1;31mSetLocaleAndCurrency.php:110:42[0m]8;;\ - Cannot fetch property on mixed var $defaultCurrency (see https://psalm.dev/034)
                Session::put('currency', [97;41m$defaultCurrency->code[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ShareErrorsFromSession.php#L24\app/Http/Middleware/[1;31mShareErrorsFromSession.php:24:13[0m]8;;\ - Unable to determine the type that $errors is being assigned to (see https://psalm.dev/032)
            [97;41m$errors[0m = $request->session()->get('errors');

  The type of $errors is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Contracts/Session/Session.php#L79\vendor/laravel/framework/src/Illuminate/Contracts/Session/[1;31mSession.php:79:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Middleware/StartSession.php#L19\app/Http/Middleware/[1;31mStartSession.php:19:17[0m]8;;\ - Argument 1 of Illuminate\Http\Request::setLaravelSession cannot be mixed, expecting Illuminate\Contracts\Session\Session (see https://psalm.dev/030)
                [97;41mapp('session.store')[0m

  The type of app('session.store') is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Http/Middleware/SubstituteBindings.php#L19\app/Http/Middleware/[1;31mSubstituteBindings.php:19:13[0m]8;;\ - Operand of type Illuminate\Routing\Route is always truthy (see https://psalm.dev/156)
        if ([97;41m$route[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/SubstituteBindings.php#L21\app/Http/Middleware/[1;31mSubstituteBindings.php:21:45[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
            foreach ($parameters as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php#L468\vendor/laravel/framework/src/Illuminate/Routing/[1;31mRoute.php:468:16[0m]8;;\
     * @return [30;47marray[0m



[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Http/Middleware/SubstituteBindings.php#L23\app/Http/Middleware/[1;31mSubstituteBindings.php:23:42[0m]8;;\ - Argument 1 of Illuminate\Routing\Route::setParameter expects string, but parent type array-key provided (see https://psalm.dev/194)
                    $route->setParameter([97;41m$key[0m, $value);

  The type of $key is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php#L468\vendor/laravel/framework/src/Illuminate/Routing/[1;31mRoute.php:468:16[0m]8;;\
     * @return [30;47marray[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleRequests.php#L21\app/Http/Middleware/[1;31mThrottleRequests.php:21:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        if (app('cache')->[97;41mhas[0m("throttle:{$key}")) {

  The type of has is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleRequests.php#L22\app/Http/Middleware/[1;31mThrottleRequests.php:22:13[0m]8;;\ - Unable to determine the type that $attempts is being assigned to (see https://psalm.dev/032)
            [97;41m$attempts[0m = app('cache')->get("throttle:{$key}");


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleRequests.php#L22\app/Http/Middleware/[1;31mThrottleRequests.php:22:39[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            $attempts = app('cache')->[97;41mget[0m("throttle:{$key}");

  The type of get is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleRequests.php#L29\app/Http/Middleware/[1;31mThrottleRequests.php:29:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            app('cache')->[97;41mput[0m("throttle:{$key}", (is_numeric($attempts) ? (int) $attempts : 0) + 1, $decayMinutes);

  The type of put is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleRequests.php#L31\app/Http/Middleware/[1;31mThrottleRequests.php:31:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            app('cache')->[97;41mput[0m("throttle:{$key}", 1, $decayMinutes);

  The type of put is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L130\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:130:16[0m]8;;\
     * @return [30;47m($abstract is class-string<TClass> ? TClass : ($abstract is null ? \Illuminate\Foundation\Application : mixed))[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleSensitiveOperations.php#L32\app/Http/Middleware/[1;31mThrottleSensitiveOperations.php:32:30[0m]8;;\ - Cannot fetch property on mixed var $__tmp_nullsafe__980 (see https://psalm.dev/034)
                'user_id' => [97;41m$request->user()?->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleSensitiveOperations.php#L57\app/Http/Middleware/[1;31mThrottleSensitiveOperations.php:57:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $request->user();

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L627\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:627:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Middleware/ThrottleSensitiveOperations.php#L61\app/Http/Middleware/[1;31mThrottleSensitiveOperations.php:61:49[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
            return "throttle:{$operation}:user:{[97;41m$user->id[0m}";


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L19\app/Http/Middleware/[1;31mValidateApiRequest.php:19:13[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $rules[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L32\app/Http/Middleware/[1;31mValidateApiRequest.php:32:13[0m]8;;\ - Unable to determine the type that $response is being assigned to (see https://psalm.dev/032)
            [97;41m$response[0m = $next($request);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L51\app/Http/Middleware/[1;31mValidateApiRequest.php:51:9[0m]8;;\ - Unable to determine the type that $response is being assigned to (see https://psalm.dev/032)
        [97;41m$response[0m = $next($request);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L66\app/Http/Middleware/[1;31mValidateApiRequest.php:66:9[0m]8;;\ - Unable to determine the type that $configRules is being assigned to (see https://psalm.dev/032)
        [97;41m$configRules[0m = config("validation.rules.{$rules}", []);

  The type of $configRules is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L70\app/Http/Middleware/[1;31mValidateApiRequest.php:70:13[0m]8;;\ - Unable to determine the type that $decoded is being assigned to (see https://psalm.dev/032)
            [97;41m$decoded[0m = json_decode($configRules, true);

  The type of $decoded is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L1527\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:1527:12[0m]8;;\
 * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L75\app/Http/Middleware/[1;31mValidateApiRequest.php:75:46[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
                foreach ($decoded as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L1527\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:1527:12[0m]8;;\
 * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Middleware/ValidateApiRequest.php#L92\app/Http/Middleware/[1;31mValidateApiRequest.php:92:46[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
            foreach ($configRules as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$container is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$redirector is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$redirect is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$redirectRoute is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$redirectAction is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$validator is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$convertedFiles is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$userResolver is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BanUserRequest.php#L9\app/Http/Requests/[1;31mBanUserRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\BanUserRequest::$routeResolver is not defined in constructor of App\Http\Requests\BanUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBanUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$container is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$redirector is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$redirect is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$redirectRoute is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$redirectAction is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$validator is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$convertedFiles is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$userResolver is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/BaseApiRequest.php#L11\app/Http/Requests/[1;31mBaseApiRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\BaseApiRequest::$routeResolver is not defined in constructor of App\Http\Requests\BaseApiRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mBaseApiRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$container is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$redirector is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$redirect is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$redirectRoute is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$redirectAction is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$validator is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$convertedFiles is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$userResolver is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/CartRequest.php#L9\app/Http/Requests/[1;31mCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\CartRequest::$routeResolver is not defined in constructor of App\Http\Requests\CartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$container is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$redirector is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$redirect is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$redirectAction is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$validator is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$userResolver is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ChangePasswordRequest.php#L9\app/Http/Requests/[1;31mChangePasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ChangePasswordRequest::$routeResolver is not defined in constructor of App\Http\Requests\ChangePasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mChangePasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$container is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$redirector is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$redirect is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$redirectAction is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$validator is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$userResolver is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ForgotPasswordRequest.php#L9\app/Http/Requests/[1;31mForgotPasswordRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ForgotPasswordRequest::$routeResolver is not defined in constructor of App\Http\Requests\ForgotPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mForgotPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$container is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$redirector is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$redirect is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$redirectRoute is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$redirectAction is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$validator is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$convertedFiles is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$userResolver is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/LoginRequest.php#L9\app/Http/Requests/[1;31mLoginRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\LoginRequest::$routeResolver is not defined in constructor of App\Http\Requests\LoginRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mLoginRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$container is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$redirector is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$redirect is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$redirectAction is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$validator is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$userResolver is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L9\app/Http/Requests/[1;31mProductCreateRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductCreateRequest::$routeResolver is not defined in constructor of App\Http\Requests\ProductCreateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductCreateRequest[0m extends FormRequest


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L16\app/Http/Requests/[1;31mProductCreateRequest.php:16:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41m$this->user()?->can('create', \App\Models\Product::class) ?? false[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L16\app/Http/Requests/[1;31mProductCreateRequest.php:16:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->user()?->can('create', \App\Models\Product::class) ?? false[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L16\app/Http/Requests/[1;31mProductCreateRequest.php:16:32[0m]8;;\ - Cannot determine the type of $__tmp_nullsafe__303 when calling method can (see https://psalm.dev/015)
        return $this->user()?->[97;41mcan[0m('create', \App\Models\Product::class) ?? false;

  The type of can is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L629\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:629:21[0m]8;;\
    public function [30;47muser[0m($guard = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L194\app/Http/Requests/[1;31mProductCreateRequest.php:194:17[0m]8;;\ - Unable to determine the type that $dimensions is being assigned to (see https://psalm.dev/032)
                [97;41m$dimensions[0m = $this->input('dimensions');

  The type of $dimensions is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L210\app/Http/Requests/[1;31mProductCreateRequest.php:210:17[0m]8;;\ - Class, interface or enum named Log does not exist (see https://psalm.dev/019)
                [97;41m\Log[0m::info('Price validation for category', [


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L224\app/Http/Requests/[1;31mProductCreateRequest.php:224:9[0m]8;;\ - Unable to determine the type that $validated is being assigned to (see https://psalm.dev/032)
        [97;41m$validated[0m = parent::validated($key, $default);

  The type of $validated is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L241\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:241:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L229\app/Http/Requests/[1;31mProductCreateRequest.php:229:34[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
            $validated['slug'] = [97;41m\Str[0m::slug(is_string($name) ? $name : '');


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L244\app/Http/Requests/[1;31mProductCreateRequest.php:244:33[0m]8;;\ - Instance property App\Http\Requests\ProductCreateRequest::$name is not defined (see https://psalm.dev/041)
            'name' => is_string([97;41m$this->name[0m) ? trim($this->name) : '',


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L245\app/Http/Requests/[1;31mProductCreateRequest.php:245:40[0m]8;;\ - Instance property App\Http\Requests\ProductCreateRequest::$description is not defined (see https://psalm.dev/041)
            'description' => is_string([97;41m$this->description[0m) ? trim($this->description) : '',


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L246\app/Http/Requests/[1;31mProductCreateRequest.php:246:32[0m]8;;\ - Instance property App\Http\Requests\ProductCreateRequest::$sku is not defined (see https://psalm.dev/041)
            'sku' => is_string([97;41m$this->sku[0m) ? strtoupper(trim($this->sku)) : '',


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductCreateRequest.php#L247\app/Http/Requests/[1;31mProductCreateRequest.php:247:32[0m]8;;\ - Instance property App\Http\Requests\ProductCreateRequest::$tags is not defined (see https://psalm.dev/041)
            'tags' => is_array([97;41m$this->tags[0m) ? array_map(static fn ($tag): string => is_string($tag) ? trim($tag) : '', $this->tags) : null,


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$container is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$redirector is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$redirect is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$redirectAction is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$validator is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$userResolver is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductIndexRequest.php#L9\app/Http/Requests/[1;31mProductIndexRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductIndexRequest::$routeResolver is not defined in constructor of App\Http\Requests\ProductIndexRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductIndexRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$container is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$redirector is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$redirect is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$redirectAction is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$validator is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$userResolver is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L9\app/Http/Requests/[1;31mProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductRequest::$routeResolver is not defined in constructor of App\Http\Requests\ProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductRequest[0m extends FormRequest


[0;31mERROR[0m: PossiblyNullOperand - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L28\app/Http/Requests/[1;31mProductRequest.php:28:81[0m]8;;\ - Cannot concatenate with a possibly null null|object|string (see https://psalm.dev/080)
            'slug' => ['required', 'string', 'max:255', 'unique:products,slug,'.[97;41m$this->route('product')[0m],


[0;31mERROR[0m: PossiblyInvalidOperand - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L28\app/Http/Requests/[1;31mProductRequest.php:28:81[0m]8;;\ - Cannot concatenate with a null|object|string (see https://psalm.dev/163)
            'slug' => ['required', 'string', 'max:255', 'unique:products,slug,'.[97;41m$this->route('product')[0m],


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Requests/ProductRequest.php#L68\app/Http/Requests/[1;31mProductRequest.php:68:27[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                'slug' => [97;41m\Str[0m::slug(is_string($this->name) ? $this->name : ''),


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$container is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$redirector is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$redirect is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$redirectAction is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$validator is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$userResolver is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L9\app/Http/Requests/[1;31mProductSearchRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\ProductSearchRequest::$routeResolver is not defined in constructor of App\Http\Requests\ProductSearchRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductSearchRequest[0m extends FormRequest


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L173\app/Http/Requests/[1;31mProductSearchRequest.php:173:43[0m]8;;\ - Argument 1 of App\Http\Requests\ProductSearchRequest::validated has the more specific type ''order'|'q'|'sort'|null', expecting 'array<array-key, mixed>|int|null|string' as defined by Illuminate\Foundation\Http\FormRequest::validated (see https://psalm.dev/140)
    public function validated(string|null [97;41m$key[0m = null, string|null $default = null)


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L173\app/Http/Requests/[1;31mProductSearchRequest.php:173:68[0m]8;;\ - Argument 2 of App\Http\Requests\ProductSearchRequest::validated has the more specific type '''|'desc'|'popularity'|null', expecting 'mixed|null' as defined by Illuminate\Foundation\Http\FormRequest::validated (see https://psalm.dev/140)
    public function validated(string|null $key = null, string|null [97;41m$default[0m = null)


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L175\app/Http/Requests/[1;31mProductSearchRequest.php:175:9[0m]8;;\ - Unable to determine the type that $validated is being assigned to (see https://psalm.dev/032)
        [97;41m$validated[0m = parent::validated($key, $default);

  The type of $validated is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L241\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:241:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L179\app/Http/Requests/[1;31mProductSearchRequest.php:179:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$validated['sort'][0m = is_string($this->input('sort')) ? $this->input('sort') : 'popularity';

  The type of $validated['sort'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L180\app/Http/Requests/[1;31mProductSearchRequest.php:180:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$validated['order'][0m = is_string($this->input('order')) ? $this->input('order') : 'desc';

  The type of $validated['order'] is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: PossiblyInvalidMethodCall - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L196\app/Http/Requests/[1;31mProductSearchRequest.php:196:35[0m]8;;\ - Cannot call method on possible array<array-key, mixed> variable  (see https://psalm.dev/113)
        $filters = $this->safe()->[97;41mexcept[0m(['q', 'sort', 'order', 'page', 'per_page']);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L206\app/Http/Requests/[1;31mProductSearchRequest.php:206:9[0m]8;;\ - Unable to determine the type that $query is being assigned to (see https://psalm.dev/032)
        [97;41m$query[0m = $this->validated('q', '');

  The type of $query is sourced from here - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L164\app/Http/Requests/[1;31mProductSearchRequest.php:164:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L218\app/Http/Requests/[1;31mProductSearchRequest.php:218:9[0m]8;;\ - Unable to determine the type that $page is being assigned to (see https://psalm.dev/032)
        [97;41m$page[0m = $this->input('page', 1);

  The type of $page is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L219\app/Http/Requests/[1;31mProductSearchRequest.php:219:9[0m]8;;\ - Unable to determine the type that $perPage is being assigned to (see https://psalm.dev/032)
        [97;41m$perPage[0m = $this->input('per_page', 15);

  The type of $perPage is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L234\app/Http/Requests/[1;31mProductSearchRequest.php:234:9[0m]8;;\ - Unable to determine the type that $sort is being assigned to (see https://psalm.dev/032)
        [97;41m$sort[0m = $this->validated('sort', 'popularity');

  The type of $sort is sourced from here - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L164\app/Http/Requests/[1;31mProductSearchRequest.php:164:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L235\app/Http/Requests/[1;31mProductSearchRequest.php:235:9[0m]8;;\ - Unable to determine the type that $order is being assigned to (see https://psalm.dev/032)
        [97;41m$order[0m = $this->validated('order', 'desc');

  The type of $order is sourced from here - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L164\app/Http/Requests/[1;31mProductSearchRequest.php:164:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L253\app/Http/Requests/[1;31mProductSearchRequest.php:253:36[0m]8;;\ - Instance property App\Http\Requests\ProductSearchRequest::$q is not defined (see https://psalm.dev/041)
            $data['q'] = is_string([97;41m$this->q[0m) ? trim($this->q) : '';


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductSearchRequest.php#L257\app/Http/Requests/[1;31mProductSearchRequest.php:257:38[0m]8;;\ - Instance property App\Http\Requests\ProductSearchRequest::$tags is not defined (see https://psalm.dev/041)
            $data['tags'] = is_array([97;41m$this->tags[0m) ? array_map(static fn ($tag): string => is_string($tag) ? trim($tag) : '', $this->tags) : [];


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$container is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$redirector is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$redirect is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$redirectAction is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$validator is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$userResolver is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L11\app/Http/Requests/[1;31mProductUpdateRequest.php:11:7[0m]8;;\ - Property App\Http\Requests\ProductUpdateRequest::$routeResolver is not defined in constructor of App\Http\Requests\ProductUpdateRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductUpdateRequest[0m extends FormRequest


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L20\app/Http/Requests/[1;31mProductUpdateRequest.php:20:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41m$this->user()?->can('update', $product) ?? false[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L20\app/Http/Requests/[1;31mProductUpdateRequest.php:20:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->user()?->can('update', $product) ?? false[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L20\app/Http/Requests/[1;31mProductUpdateRequest.php:20:32[0m]8;;\ - Cannot determine the type of $__tmp_nullsafe__408 when calling method can (see https://psalm.dev/015)
        return $this->user()?->[97;41mcan[0m('update', $product) ?? false;

  The type of can is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L629\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:629:21[0m]8;;\
    public function [30;47muser[0m($guard = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L194\app/Http/Requests/[1;31mProductUpdateRequest.php:194:17[0m]8;;\ - Unable to determine the type that $dimensions is being assigned to (see https://psalm.dev/032)
                [97;41m$dimensions[0m = $this->input('dimensions');

  The type of $dimensions is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L207\app/Http/Requests/[1;31mProductUpdateRequest.php:207:17[0m]8;;\ - Unable to determine the type that $newPrice is being assigned to (see https://psalm.dev/032)
                [97;41m$newPrice[0m = $this->input('price');

  The type of $newPrice is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L209\app/Http/Requests/[1;31mProductUpdateRequest.php:209:21[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                if ([97;41m$oldPrice[0m && $newPrice && is_numeric($oldPrice) && $oldPrice > 0) {


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L213\app/Http/Requests/[1;31mProductUpdateRequest.php:213:45[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                        $changePercentage = [97;41mabs($newPriceFloat - $oldPriceFloat) / $oldPriceFloat * 100[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L216\app/Http/Requests/[1;31mProductUpdateRequest.php:216:29[0m]8;;\ - Class, interface or enum named Log does not exist (see https://psalm.dev/019)
                            [97;41m\Log[0m::warning('تغيير السعر بنسبة '.round($changePercentage, 2).'% - يرجى التأكد من صحة السعر');


[0;31mERROR[0m: MissingParamType - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L230\app/Http/Requests/[1;31mProductUpdateRequest.php:230:31[0m]8;;\ - Parameter $key has no provided type (see https://psalm.dev/154)
    public function validated([97;41m$key[0m = null, $default = null)


[0;31mERROR[0m: MissingParamType - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L230\app/Http/Requests/[1;31mProductUpdateRequest.php:230:44[0m]8;;\ - Parameter $default has no provided type (see https://psalm.dev/154)
    public function validated($key = null, [97;41m$default[0m = null)


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L232\app/Http/Requests/[1;31mProductUpdateRequest.php:232:9[0m]8;;\ - Unable to determine the type that $validated is being assigned to (see https://psalm.dev/032)
        [97;41m$validated[0m = parent::validated($key, $default);

  The type of $validated is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L241\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:241:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L232\app/Http/Requests/[1;31mProductUpdateRequest.php:232:40[0m]8;;\ - Argument 1 of Illuminate\Foundation\Http\FormRequest::validated cannot be mixed, expecting array<array-key, mixed>|int|null|string (see https://psalm.dev/030)
        $validated = parent::validated([97;41m$key[0m, $default);

  The type of $key is sourced from here - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L230\app/Http/Requests/[1;31mProductUpdateRequest.php:230:31[0m]8;;\
    public function validated([30;47m$key[0m = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L236\app/Http/Requests/[1;31mProductUpdateRequest.php:236:13[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
            [97;41m$name[0m = $validated['name'];

  The type of $name is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php#L241\vendor/laravel/framework/src/Illuminate/Foundation/Http/[1;31mFormRequest.php:241:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L241\app/Http/Requests/[1;31mProductUpdateRequest.php:241:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$validated['updated_by'][0m = $this->user()?->id;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L241\app/Http/Requests/[1;31mProductUpdateRequest.php:241:40[0m]8;;\ - Cannot fetch property on mixed var $__tmp_nullsafe__8412 (see https://psalm.dev/034)
            $validated['updated_by'] = [97;41m$this->user()?->id[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L257\app/Http/Requests/[1;31mProductUpdateRequest.php:257:13[0m]8;;\ - Unable to determine the type that $name is being assigned to (see https://psalm.dev/032)
            [97;41m$name[0m = $this->input('name');

  The type of $name is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L262\app/Http/Requests/[1;31mProductUpdateRequest.php:262:13[0m]8;;\ - Unable to determine the type that $description is being assigned to (see https://psalm.dev/032)
            [97;41m$description[0m = $this->input('description');

  The type of $description is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L267\app/Http/Requests/[1;31mProductUpdateRequest.php:267:13[0m]8;;\ - Unable to determine the type that $sku is being assigned to (see https://psalm.dev/032)
            [97;41m$sku[0m = $this->input('sku');

  The type of $sku is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Http/Requests/ProductUpdateRequest.php#L272\app/Http/Requests/[1;31mProductUpdateRequest.php:272:13[0m]8;;\ - Unable to determine the type that $tags is being assigned to (see https://psalm.dev/032)
            [97;41m$tags[0m = $this->input('tags');

  The type of $tags is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Concerns/InteractsWithInput.php#L110\vendor/laravel/framework/src/Illuminate/Http/Concerns/[1;31mInteractsWithInput.php:110:21[0m]8;;\
    public function [30;47minput[0m($key = null, $default = null)



[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$container is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$redirector is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$redirect is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$redirectRoute is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$redirectAction is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$validator is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$convertedFiles is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$userResolver is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/RegisterRequest.php#L10\app/Http/Requests/[1;31mRegisterRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\RegisterRequest::$routeResolver is not defined in constructor of App\Http\Requests\RegisterRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mRegisterRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$container is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$redirector is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$redirect is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$redirectRoute is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$redirectAction is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$validator is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$convertedFiles is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$userResolver is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/ResetPasswordRequest.php#L10\app/Http/Requests/[1;31mResetPasswordRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\ResetPasswordRequest::$routeResolver is not defined in constructor of App\Http\Requests\ResetPasswordRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mResetPasswordRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$container is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$redirector is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$redirect is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$redirectRoute is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$redirectAction is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$validator is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$convertedFiles is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$userResolver is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreBrandRequest.php#L9\app/Http/Requests/[1;31mStoreBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreBrandRequest::$routeResolver is not defined in constructor of App\Http\Requests\StoreBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$container is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$redirector is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$redirect is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$redirectRoute is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$redirectAction is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$validator is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$convertedFiles is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$userResolver is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreCategoryRequest.php#L9\app/Http/Requests/[1;31mStoreCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreCategoryRequest::$routeResolver is not defined in constructor of App\Http\Requests\StoreCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$container is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$redirector is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$redirect is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$redirectRoute is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$redirectAction is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$validator is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$convertedFiles is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$userResolver is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StorePriceAlertRequest.php#L9\app/Http/Requests/[1;31mStorePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StorePriceAlertRequest::$routeResolver is not defined in constructor of App\Http\Requests\StorePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStorePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$container is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$redirector is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$redirect is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$redirectRoute is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$redirectAction is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$validator is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$convertedFiles is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$userResolver is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreProductRequest.php#L9\app/Http/Requests/[1;31mStoreProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreProductRequest::$routeResolver is not defined in constructor of App\Http\Requests\StoreProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$container is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$redirector is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$redirect is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$redirectRoute is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$redirectAction is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$validator is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$convertedFiles is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$userResolver is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/StoreReviewRequest.php#L9\app/Http/Requests/[1;31mStoreReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\StoreReviewRequest::$routeResolver is not defined in constructor of App\Http\Requests\StoreReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mStoreReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$container is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$redirector is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$redirect is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$redirectRoute is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$redirectAction is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$validator is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$convertedFiles is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$userResolver is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/SwitchLanguageRequest.php#L9\app/Http/Requests/[1;31mSwitchLanguageRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\SwitchLanguageRequest::$routeResolver is not defined in constructor of App\Http\Requests\SwitchLanguageRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSwitchLanguageRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$container is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$validator is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateBrandRequest.php#L9\app/Http/Requests/[1;31mUpdateBrandRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateBrandRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateBrandRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateBrandRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$container is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$validator is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCartRequest.php#L9\app/Http/Requests/[1;31mUpdateCartRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCartRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateCartRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCartRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$container is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$validator is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateCategoryRequest.php#L9\app/Http/Requests/[1;31mUpdateCategoryRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateCategoryRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateCategoryRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateCategoryRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$container is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$redirector is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$redirect is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$validator is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdatePriceAlertRequest.php#L9\app/Http/Requests/[1;31mUpdatePriceAlertRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdatePriceAlertRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdatePriceAlertRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdatePriceAlertRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$container is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$validator is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateProductRequest.php#L9\app/Http/Requests/[1;31mUpdateProductRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateProductRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateProductRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateProductRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$container is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$validator is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateReviewRequest.php#L9\app/Http/Requests/[1;31mUpdateReviewRequest.php:9:7[0m]8;;\ - Property App\Http\Requests\UpdateReviewRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateReviewRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateReviewRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$container is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$redirector is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$redirect is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$redirectRoute is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$redirectAction is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$validator is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$convertedFiles is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$userResolver is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Http/Requests/UpdateUserRequest.php#L10\app/Http/Requests/[1;31mUpdateUserRequest.php:10:7[0m]8;;\ - Property App\Http\Requests\UpdateUserRequest::$routeResolver is not defined in constructor of App\Http\Requests\UpdateUserRequest or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUpdateUserRequest[0m extends FormRequest


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L5\app/Http/Resources/[1;31mOrderItemResource.php:5:1[0m]8;;\ - Const namespafinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnamespafinal[0m ce App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L5\app/Http/Resources/[1;31mOrderItemResource.php:5:14[0m]8;;\ - Const ce is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespafinal [97;41mce[0m App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L5\app/Http/Resources/[1;31mOrderItemResource.php:5:17[0m]8;;\ - Const App\Http\Resources is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespafinal ce [97;41mApp\Http\Resources[0m;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L24\app/Http/Resources/[1;31mOrderItemResource.php:24:21[0m]8;;\ - Instance property OrderItemResource::$id is not defined (see https://psalm.dev/041)
            'id' => [97;41m$this->id[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L25\app/Http/Resources/[1;31mOrderItemResource.php:25:29[0m]8;;\ - Instance property OrderItemResource::$product_id is not defined (see https://psalm.dev/041)
            'product_id' => [97;41m$this->product_id[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L26\app/Http/Resources/[1;31mOrderItemResource.php:26:27[0m]8;;\ - Instance property OrderItemResource::$quantity is not defined (see https://psalm.dev/041)
            'quantity' => [97;41m$this->quantity[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L27\app/Http/Resources/[1;31mOrderItemResource.php:27:24[0m]8;;\ - Instance property OrderItemResource::$price is not defined (see https://psalm.dev/041)
            'price' => [97;41m$this->price[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderItemResource.php#L28\app/Http/Resources/[1;31mOrderItemResource.php:28:27[0m]8;;\ - Instance property OrderItemResource::$subtotal is not defined (see https://psalm.dev/041)
            'subtotal' => [97;41m$this->subtotal[0m,


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L5\app/Http/Resources/[1;31mOrderResource.php:5:1[0m]8;;\ - Const namfinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnamfinal[0m espace App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L5\app/Http/Resources/[1;31mOrderResource.php:5:10[0m]8;;\ - Const espace is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namfinal [97;41mespace[0m App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L5\app/Http/Resources/[1;31mOrderResource.php:5:17[0m]8;;\ - Const App\Http\Resources is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namfinal espace [97;41mApp\Http\Resources[0m;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L24\app/Http/Resources/[1;31mOrderResource.php:24:21[0m]8;;\ - Instance property OrderResource::$id is not defined (see https://psalm.dev/041)
            'id' => [97;41m$this->id[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L25\app/Http/Resources/[1;31mOrderResource.php:25:31[0m]8;;\ - Instance property OrderResource::$order_number is not defined (see https://psalm.dev/041)
            'order_number' => [97;41m$this->order_number[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L27\app/Http/Resources/[1;31mOrderResource.php:27:28[0m]8;;\ - Instance property OrderResource::$status is not defined (see https://psalm.dev/041)
                'value' => [97;41m$this->status[0m->value,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L27\app/Http/Resources/[1;31mOrderResource.php:27:28[0m]8;;\ - Cannot fetch property on mixed var $this->status (see https://psalm.dev/034)
                'value' => [97;41m$this->status->value[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L28\app/Http/Resources/[1;31mOrderResource.php:28:43[0m]8;;\ - Cannot determine the type of $this->status when calling method label (see https://psalm.dev/015)
                'label' => $this->status->[97;41mlabel[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L29\app/Http/Resources/[1;31mOrderResource.php:29:43[0m]8;;\ - Cannot determine the type of $this->status when calling method color (see https://psalm.dev/015)
                'color' => $this->status->[97;41mcolor[0m(),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L31\app/Http/Resources/[1;31mOrderResource.php:31:31[0m]8;;\ - Instance property OrderResource::$total_amount is not defined (see https://psalm.dev/041)
            'total_amount' => [97;41m$this->total_amount[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L32\app/Http/Resources/[1;31mOrderResource.php:32:27[0m]8;;\ - Instance property OrderResource::$subtotal is not defined (see https://psalm.dev/041)
            'subtotal' => [97;41m$this->subtotal[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L33\app/Http/Resources/[1;31mOrderResource.php:33:29[0m]8;;\ - Instance property OrderResource::$tax_amount is not defined (see https://psalm.dev/041)
            'tax_amount' => [97;41m$this->tax_amount[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L34\app/Http/Resources/[1;31mOrderResource.php:34:34[0m]8;;\ - Instance property OrderResource::$shipping_amount is not defined (see https://psalm.dev/041)
            'shipping_amount' => [97;41m$this->shipping_amount[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L35\app/Http/Resources/[1;31mOrderResource.php:35:34[0m]8;;\ - Instance property OrderResource::$discount_amount is not defined (see https://psalm.dev/041)
            'discount_amount' => [97;41m$this->discount_amount[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L36\app/Http/Resources/[1;31mOrderResource.php:36:27[0m]8;;\ - Instance property OrderResource::$currency is not defined (see https://psalm.dev/041)
            'currency' => [97;41m$this->currency[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L37\app/Http/Resources/[1;31mOrderResource.php:37:35[0m]8;;\ - Instance property OrderResource::$shipping_address is not defined (see https://psalm.dev/041)
            'shipping_address' => [97;41m$this->shipping_address[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L38\app/Http/Resources/[1;31mOrderResource.php:38:34[0m]8;;\ - Instance property OrderResource::$billing_address is not defined (see https://psalm.dev/041)
            'billing_address' => [97;41m$this->billing_address[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L39\app/Http/Resources/[1;31mOrderResource.php:39:24[0m]8;;\ - Instance property OrderResource::$notes is not defined (see https://psalm.dev/041)
            'notes' => [97;41m$this->notes[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L40\app/Http/Resources/[1;31mOrderResource.php:40:29[0m]8;;\ - Instance property OrderResource::$shipped_at is not defined (see https://psalm.dev/041)
            'shipped_at' => [97;41m$this->shipped_at[0m?->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L40\app/Http/Resources/[1;31mOrderResource.php:40:49[0m]8;;\ - Cannot determine the type of $__tmp_nullsafe__1178 when calling method toIso8601String (see https://psalm.dev/015)
            'shipped_at' => $this->shipped_at?->[97;41mtoIso8601String[0m(),

  The type of toIso8601String is sourced from here - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L40\app/Http/Resources/[1;31mOrderResource.php:40:29[0m]8;;\
            'shipped_at' => [30;47m$this->shipped_at[0m?->toIso8601String(),



[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L41\app/Http/Resources/[1;31mOrderResource.php:41:31[0m]8;;\ - Instance property OrderResource::$delivered_at is not defined (see https://psalm.dev/041)
            'delivered_at' => [97;41m$this->delivered_at[0m?->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L41\app/Http/Resources/[1;31mOrderResource.php:41:53[0m]8;;\ - Cannot determine the type of $__tmp_nullsafe__1247 when calling method toIso8601String (see https://psalm.dev/015)
            'delivered_at' => $this->delivered_at?->[97;41mtoIso8601String[0m(),

  The type of toIso8601String is sourced from here - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L41\app/Http/Resources/[1;31mOrderResource.php:41:31[0m]8;;\
            'delivered_at' => [30;47m$this->delivered_at[0m?->toIso8601String(),



[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L42\app/Http/Resources/[1;31mOrderResource.php:42:29[0m]8;;\ - Instance property OrderResource::$created_at is not defined (see https://psalm.dev/041)
            'created_at' => [97;41m$this->created_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L42\app/Http/Resources/[1;31mOrderResource.php:42:48[0m]8;;\ - Cannot determine the type of $this->created_at when calling method toIso8601String (see https://psalm.dev/015)
            'created_at' => $this->created_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L43\app/Http/Resources/[1;31mOrderResource.php:43:29[0m]8;;\ - Instance property OrderResource::$updated_at is not defined (see https://psalm.dev/041)
            'updated_at' => [97;41m$this->updated_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/OrderResource.php#L43\app/Http/Resources/[1;31mOrderResource.php:43:48[0m]8;;\ - Cannot determine the type of $this->updated_at when calling method toIso8601String (see https://psalm.dev/015)
            'updated_at' => $this->updated_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L5\app/Http/Resources/[1;31mProductResource.php:5:1[0m]8;;\ - Const namesfinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnamesfinal[0m pace App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L5\app/Http/Resources/[1;31mProductResource.php:5:12[0m]8;;\ - Const pace is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namesfinal [97;41mpace[0m App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L5\app/Http/Resources/[1;31mProductResource.php:5:17[0m]8;;\ - Const App\Http\Resources is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namesfinal pace [97;41mApp\Http\Resources[0m;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L29\app/Http/Resources/[1;31mProductResource.php:29:32[0m]8;;\ - Instance property ProductResource::$compare_price is not defined (see https://psalm.dev/041)
            'compare_price' => [97;41m$this->compare_price[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L30\app/Http/Resources/[1;31mProductResource.php:30:29[0m]8;;\ - Instance property ProductResource::$cost_price is not defined (see https://psalm.dev/041)
            'cost_price' => [97;41m$this->cost_price[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L32\app/Http/Resources/[1;31mProductResource.php:32:26[0m]8;;\ - Instance property ProductResource::$barcode is not defined (see https://psalm.dev/041)
            'barcode' => [97;41m$this->barcode[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L33\app/Http/Resources/[1;31mProductResource.php:33:27[0m]8;;\ - Instance property ProductResource::$quantity is not defined (see https://psalm.dev/041)
            'quantity' => [97;41m$this->quantity[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L35\app/Http/Resources/[1;31mProductResource.php:35:30[0m]8;;\ - Instance property ProductResource::$is_featured is not defined (see https://psalm.dev/041)
            'is_featured' => [97;41m$this->is_featured[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L37\app/Http/Resources/[1;31mProductResource.php:37:25[0m]8;;\ - Instance property ProductResource::$images is not defined (see https://psalm.dev/041)
            'images' => [97;41m$this->images[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L38\app/Http/Resources/[1;31mProductResource.php:38:25[0m]8;;\ - Instance property ProductResource::$rating is not defined (see https://psalm.dev/041)
            'rating' => [97;41m$this->rating[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L39\app/Http/Resources/[1;31mProductResource.php:39:32[0m]8;;\ - Instance property ProductResource::$reviews_count is not defined (see https://psalm.dev/041)
            'reviews_count' => [97;41m$this->reviews_count[0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L40\app/Http/Resources/[1;31mProductResource.php:40:31[0m]8;;\ - Class, interface or enum named CategoryResource does not exist (see https://psalm.dev/019)
            'category' => new [97;41mCategoryResource[0m($this->whenLoaded('category')),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L41\app/Http/Resources/[1;31mProductResource.php:41:28[0m]8;;\ - Class, interface or enum named BrandResource does not exist (see https://psalm.dev/019)
            'brand' => new [97;41mBrandResource[0m($this->whenLoaded('brand')),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L42\app/Http/Resources/[1;31mProductResource.php:42:28[0m]8;;\ - Class, interface or enum named StoreResource does not exist (see https://psalm.dev/019)
            'store' => new [97;41mStoreResource[0m($this->whenLoaded('store')),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L43\app/Http/Resources/[1;31mProductResource.php:43:29[0m]8;;\ - Instance property ProductResource::$created_at is not defined (see https://psalm.dev/041)
            'created_at' => [97;41m$this->created_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L43\app/Http/Resources/[1;31mProductResource.php:43:48[0m]8;;\ - Cannot determine the type of $this->created_at when calling method toIso8601String (see https://psalm.dev/015)
            'created_at' => $this->created_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L44\app/Http/Resources/[1;31mProductResource.php:44:29[0m]8;;\ - Instance property ProductResource::$updated_at is not defined (see https://psalm.dev/041)
            'updated_at' => [97;41m$this->updated_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/ProductResource.php#L44\app/Http/Resources/[1;31mProductResource.php:44:48[0m]8;;\ - Cannot determine the type of $this->updated_at when calling method toIso8601String (see https://psalm.dev/015)
            'updated_at' => $this->updated_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L5\app/Http/Resources/[1;31mUserResource.php:5:1[0m]8;;\ - Const nafinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnafinal[0m mespace App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L5\app/Http/Resources/[1;31mUserResource.php:5:9[0m]8;;\ - Const mespace is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
nafinal [97;41mmespace[0m App\Http\Resources;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L5\app/Http/Resources/[1;31mUserResource.php:5:17[0m]8;;\ - Const App\Http\Resources is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
nafinal mespace [97;41mApp\Http\Resources[0m;


[0;31mERROR[0m: InvalidPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L28\app/Http/Resources/[1;31mUserResource.php:28:28[0m]8;;\ - Cannot fetch property on non-object $this->role of type string (see https://psalm.dev/029)
                'value' => [97;41m$this->role->value[0m,


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L29\app/Http/Resources/[1;31mUserResource.php:29:41[0m]8;;\ - Cannot call method on string variable $this->role (see https://psalm.dev/091)
                'label' => $this->role->[97;41mlabel[0m(),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L31\app/Http/Resources/[1;31mUserResource.php:31:25[0m]8;;\ - Instance property UserResource::$avatar is not defined (see https://psalm.dev/041)
            'avatar' => [97;41m$this->avatar[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L32\app/Http/Resources/[1;31mUserResource.php:32:24[0m]8;;\ - Instance property UserResource::$phone is not defined (see https://psalm.dev/041)
            'phone' => [97;41m$this->phone[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L35\app/Http/Resources/[1;31mUserResource.php:35:29[0m]8;;\ - Instance property UserResource::$created_at is not defined (see https://psalm.dev/041)
            'created_at' => [97;41m$this->created_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L35\app/Http/Resources/[1;31mUserResource.php:35:48[0m]8;;\ - Cannot determine the type of $this->created_at when calling method toIso8601String (see https://psalm.dev/015)
            'created_at' => $this->created_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L36\app/Http/Resources/[1;31mUserResource.php:36:29[0m]8;;\ - Instance property UserResource::$updated_at is not defined (see https://psalm.dev/041)
            'updated_at' => [97;41m$this->updated_at[0m->toIso8601String(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Http/Resources/UserResource.php#L36\app/Http/Resources/[1;31mUserResource.php:36:48[0m]8;;\ - Cannot determine the type of $this->updated_at when calling method toIso8601String (see https://psalm.dev/015)
            'updated_at' => $this->updated_at->[97;41mtoIso8601String[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L78\app/Jobs/[1;31mProcessHeavyOperation.php:78:9[0m]8;;\ - Unable to determine the type that $reportType is being assigned to (see https://psalm.dev/032)
        [97;41m$reportType[0m = is_string($this->data['type'] ?? null) ? $this->data['type'] : 'general';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L79\app/Jobs/[1;31mProcessHeavyOperation.php:79:9[0m]8;;\ - Unable to determine the type that $startDate is being assigned to (see https://psalm.dev/032)
        [97;41m$startDate[0m = $this->data['start_date'] ?? Carbon::now()->subMonth();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L80\app/Jobs/[1;31mProcessHeavyOperation.php:80:9[0m]8;;\ - Unable to determine the type that $endDate is being assigned to (see https://psalm.dev/032)
        [97;41m$endDate[0m = $this->data['end_date'] ?? Carbon::now();

  The type of $endDate is sourced from here - ]8;;file:///var/www/html/vendor/nesbot/carbon/src/Carbon/Traits/Creator.php#L245\vendor/nesbot/carbon/src/Carbon/Traits/[1;31mCreator.php:245:80[0m]8;;\
    public static function now(DateTimeZone|string|int|null $timezone = null): [30;47mstatic[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L101\app/Jobs/[1;31mProcessHeavyOperation.php:101:9[0m]8;;\ - Unable to determine the type that $imageIds is being assigned to (see https://psalm.dev/032)
        [97;41m$imageIds[0m = is_array($this->data['image_ids'] ?? []) ? $this->data['image_ids'] : [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L105\app/Jobs/[1;31mProcessHeavyOperation.php:105:35[0m]8;;\ - Unable to determine the type that $imageId is being assigned to (see https://psalm.dev/032)
            foreach ($imageIds as [97;41m$imageId[0m) {


[0;31mERROR[0m: UnusedForeachValue - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L105\app/Jobs/[1;31mProcessHeavyOperation.php:105:35[0m]8;;\ - $imageId is never referenced or the value is not used (see https://psalm.dev/275)
            foreach ($imageIds as [97;41m$imageId[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L126\app/Jobs/[1;31mProcessHeavyOperation.php:126:9[0m]8;;\ - Unable to determine the type that $source is being assigned to (see https://psalm.dev/032)
        [97;41m$source[0m = is_string($this->data['source'] ?? null) ? $this->data['source'] : 'external_api';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L146\app/Jobs/[1;31mProcessHeavyOperation.php:146:9[0m]8;;\ - Unable to determine the type that $userIds is being assigned to (see https://psalm.dev/032)
        [97;41m$userIds[0m = is_array($this->data['user_ids'] ?? []) ? $this->data['user_ids'] : [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L147\app/Jobs/[1;31mProcessHeavyOperation.php:147:9[0m]8;;\ - Unable to determine the type that $message is being assigned to (see https://psalm.dev/032)
        [97;41m$message[0m = is_string($this->data['message'] ?? '') ? $this->data['message'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L151\app/Jobs/[1;31mProcessHeavyOperation.php:151:34[0m]8;;\ - Unable to determine the type that $userId is being assigned to (see https://psalm.dev/032)
            foreach ($userIds as [97;41m$userId[0m) {


[0;31mERROR[0m: UnusedForeachValue - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L151\app/Jobs/[1;31mProcessHeavyOperation.php:151:34[0m]8;;\ - $userId is never referenced or the value is not used (see https://psalm.dev/275)
            foreach ($userIds as [97;41m$userId[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L173\app/Jobs/[1;31mProcessHeavyOperation.php:173:9[0m]8;;\ - Unable to determine the type that $statTypes is being assigned to (see https://psalm.dev/032)
        [97;41m$statTypes[0m = is_array($this->data['stat_types'] ?? []) ? $this->data['stat_types'] : ['users', 'products', 'orders'];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L177\app/Jobs/[1;31mProcessHeavyOperation.php:177:36[0m]8;;\ - Unable to determine the type that $statType is being assigned to (see https://psalm.dev/032)
            foreach ($statTypes as [97;41m$statType[0m) {


[0;31mERROR[0m: UnusedForeachValue - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L177\app/Jobs/[1;31mProcessHeavyOperation.php:177:36[0m]8;;\ - $statType is never referenced or the value is not used (see https://psalm.dev/275)
            foreach ($statTypes as [97;41m$statType[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L218\app/Jobs/[1;31mProcessHeavyOperation.php:218:9[0m]8;;\ - Unable to determine the type that $format is being assigned to (see https://psalm.dev/032)
        [97;41m$format[0m = is_string($this->data['format'] ?? '') ? $this->data['format'] : 'csv';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L219\app/Jobs/[1;31mProcessHeavyOperation.php:219:9[0m]8;;\ - Unable to determine the type that $table is being assigned to (see https://psalm.dev/032)
        [97;41m$table[0m = is_string($this->data['table'] ?? '') ? $this->data['table'] : 'products';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L239\app/Jobs/[1;31mProcessHeavyOperation.php:239:9[0m]8;;\ - Unable to determine the type that $filePath is being assigned to (see https://psalm.dev/032)
        [97;41m$filePath[0m = is_string($this->data['file_path'] ?? null) ? $this->data['file_path'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Jobs/ProcessHeavyOperation.php#L259\app/Jobs/[1;31mProcessHeavyOperation.php:259:9[0m]8;;\ - Unable to determine the type that $jobIdValue is being assigned to (see https://psalm.dev/032)
        [97;41m$jobIdValue[0m = is_object($this->jobInstance) && method_exists($this->jobInstance, 'getJobId') ? $this->jobInstance->getJobId() : 'unknown';


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Listeners/SendOrderStatusNotification.php#L22\app/Listeners/[1;31mSendOrderStatusNotification.php:22:62[0m]8;;\ - Magic instance property App\Models\Order::$order_number is not defined (see https://psalm.dev/218)
        $message = $this->getNotificationMessage($newStatus, [97;41m$order->order_number[0m);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Listeners/SendOrderStatusNotification.php#L22\app/Listeners/[1;31mSendOrderStatusNotification.php:22:62[0m]8;;\ - Argument 2 of App\Listeners\SendOrderStatusNotification::getNotificationMessage cannot be mixed, expecting string (see https://psalm.dev/030)
        $message = $this->getNotificationMessage($newStatus, [97;41m$order->order_number[0m);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Listeners/SendOrderStatusNotification.php#L24\app/Listeners/[1;31mSendOrderStatusNotification.php:24:9[0m]8;;\ - Magic method App\Models\Notification::create does not exist (see https://psalm.dev/219)
        [97;41mNotification::create([
            'user_id' => $order->user_id,
            'type' => 'order_status',
            'title' => 'تحديث حالة الطلب',
            'message' => $message,
            'data' => [
                'order_id' => $order->id,
                'order_number' => $order->order_number,
                'old_status' => $event->oldStatus->value,
                'new_status' => $newStatus->value,
            ],
            'status' => 'pending',
        ])[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Listeners/SendOrderStatusNotification.php#L25\app/Listeners/[1;31mSendOrderStatusNotification.php:25:26[0m]8;;\ - Magic instance property App\Models\Order::$user_id is not defined (see https://psalm.dev/218)
            'user_id' => [97;41m$order->user_id[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Listeners/SendOrderStatusNotification.php#L30\app/Listeners/[1;31mSendOrderStatusNotification.php:30:31[0m]8;;\ - Magic instance property App\Models\Order::$id is not defined (see https://psalm.dev/218)
                'order_id' => [97;41m$order->id[0m,


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/AnalyticsEvent.php#L29\app/Models/[1;31mAnalyticsEvent.php:29:9[0m]8;;\ - App\Models\AnalyticsEvent has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/AnalyticsEvent.php#L65\app/Models/[1;31mAnalyticsEvent.php:65:15[0m]8;;\ - Property App\Models\AnalyticsEvent::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Brand.php#L34\app/Models/[1;31mBrand.php:34:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\BrandFactory does not exist (see https://psalm.dev/200)
class [97;41mBrand[0m extends ValidatableModel


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Brand.php#L37\app/Models/[1;31mBrand.php:37:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\BrandFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Brand.php#L44\app/Models/[1;31mBrand.php:44:33[0m]8;;\ - Class, interface or enum named Database\Factories\BrandFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\BrandFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Brand.php#L58\app/Models/[1;31mBrand.php:58:15[0m]8;;\ - Property App\Models\Brand::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Brand.php#L72\app/Models/[1;31mBrand.php:72:15[0m]8;;\ - Property App\Models\Brand::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Brand.php#L105\app/Models/[1;31mBrand.php:105:32[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $brand->slug = [97;41m\Str[0m::slug($brand->name);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Brand.php#L111\app/Models/[1;31mBrand.php:111:32[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $brand->slug = [97;41m\Str[0m::slug($brand->name);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Category.php#L36\app/Models/[1;31mCategory.php:36:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\CategoryFactory does not exist (see https://psalm.dev/200)
class [97;41mCategory[0m extends ValidatableModel


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Category.php#L39\app/Models/[1;31mCategory.php:39:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\CategoryFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Category.php#L46\app/Models/[1;31mCategory.php:46:33[0m]8;;\ - Class, interface or enum named Database\Factories\CategoryFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\CategoryFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Category.php#L58\app/Models/[1;31mCategory.php:58:15[0m]8;;\ - Property App\Models\Category::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Category.php#L72\app/Models/[1;31mCategory.php:72:15[0m]8;;\ - Property App\Models\Category::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Category.php#L96\app/Models/[1;31mCategory.php:96:5[0m]8;;\ - Unexpected space in docblock for App\Models\Category::products (see https://psalm.dev/008)
    /**
     * Products relationship.
     *
     * @return HasMany<Product, $this>
     */
    [97;41mpublic function products(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Category.php#L98\app/Models/[1;31mCategory.php:98:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Product::class, 'category_id')[0m;

  The type of $this->hasMany(Product::class, 'category_id') is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Category.php#L116\app/Models/[1;31mCategory.php:116:35[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $category->slug = [97;41m\Str[0m::slug($category->name);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Category.php#L127\app/Models/[1;31mCategory.php:127:35[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $category->slug = [97;41m\Str[0m::slug($category->name);


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Currency.php#L28\app/Models/[1;31mCurrency.php:28:9[0m]8;;\ - App\Models\Currency has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Currency.php#L33\app/Models/[1;31mCurrency.php:33:33[0m]8;;\ - Class, interface or enum named Database\Factories\CurrencyFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\CurrencyFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Currency.php#L38\app/Models/[1;31mCurrency.php:38:15[0m]8;;\ - Property App\Models\Currency::$guarded has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$guarded of type array<array-key, string> (see https://psalm.dev/267)
    protected [97;41m$guarded[0m = [];


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L23\app/Models/[1;31mExchangeRate.php:23:9[0m]8;;\ - App\Models\ExchangeRate has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L43\app/Models/[1;31mExchangeRate.php:43:15[0m]8;;\ - Property App\Models\ExchangeRate::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L57\app/Models/[1;31mExchangeRate.php:57:9[0m]8;;\ - Unable to determine the type that $rate is being assigned to (see https://psalm.dev/032)
        [97;41m$rate[0m = self::where('from_currency', $fromCurrency)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L57\app/Models/[1;31mExchangeRate.php:57:17[0m]8;;\ - Magic method App\Models\ExchangeRate::where does not exist (see https://psalm.dev/219)
        $rate = [97;41mself::where('from_currency', $fromCurrency)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L58\app/Models/[1;31mExchangeRate.php:58:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('to_currency', $toCurrency)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L59\app/Models/[1;31mExchangeRate.php:59:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlatest[0m('updated_at')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L60\app/Models/[1;31mExchangeRate.php:60:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Models/ExchangeRate.php#L62\app/Models/[1;31mExchangeRate.php:62:32[0m]8;;\ - Cannot fetch property on mixed var $rate (see https://psalm.dev/034)
        return $rate ? (float) [97;41m$rate->rate[0m : null;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Language.php#L31\app/Models/[1;31mLanguage.php:31:9[0m]8;;\ - App\Models\Language has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Language.php#L36\app/Models/[1;31mLanguage.php:36:33[0m]8;;\ - Class, interface or enum named Database\Factories\LanguageFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\LanguageFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Language.php#L41\app/Models/[1;31mLanguage.php:41:15[0m]8;;\ - Property App\Models\Language::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Language.php#L60\app/Models/[1;31mLanguage.php:60:5[0m]8;;\ - Unexpected space in docblock for App\Models\Language::currencies (see https://psalm.dev/008)
    /**
     * العملات المرتبطة بهذه اللغة.
     *
     * @return BelongsToMany<Currency, $this>
     */
    [97;41mpublic function currencies(): BelongsToMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Language.php#L62\app/Models/[1;31mLanguage.php:62:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->belongsToMany(Currency::class, 'language_currency')
            ->withPivot('is_default')
            ->withTimestamps()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/Language.php#L63\app/Models/[1;31mLanguage.php:63:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwithPivot[0m('is_default')

  The type of withPivot is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L676\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:676:21[0m]8;;\
    public function [30;47mbelongsToMany[0m(



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/Language.php#L64\app/Models/[1;31mLanguage.php:64:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwithTimestamps[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Models/Language.php#L72\app/Models/[1;31mLanguage.php:72:16[0m]8;;\ - Magic method App\Models\Language::where does not exist (see https://psalm.dev/219)
        return [97;41mstatic::where('code', $code)[0m->first();


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Language.php#L72\app/Models/[1;31mLanguage.php:72:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mstatic::where('code', $code)->first()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/Language.php#L72\app/Models/[1;31mLanguage.php:72:46[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        return static::where('code', $code)->[97;41mfirst[0m();


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Notification.php#L36\app/Models/[1;31mNotification.php:36:9[0m]8;;\ - App\Models\Notification has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Notification.php#L43\app/Models/[1;31mNotification.php:43:15[0m]8;;\ - Property App\Models\Notification::$table has type string, not invariant with Illuminate\Database\Eloquent\Model::$table of type null|string (see https://psalm.dev/267)
    protected [97;41m$table[0m = 'custom_notifications';


[0;31mERROR[0m: MissingDependency - ]8;;file:///var/www/html/app/Models/Notification.php#L48\app/Models/[1;31mNotification.php:48:33[0m]8;;\ - Database\Factories\NotificationFactory depends on class or interface database\factories\factory that does not exist (see https://psalm.dev/157)
    protected static $factory = [97;41m\Database\Factories\NotificationFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Notification.php#L55\app/Models/[1;31mNotification.php:55:15[0m]8;;\ - Property App\Models\Notification::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Notification.php#L75\app/Models/[1;31mNotification.php:75:15[0m]8;;\ - Property App\Models\Notification::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Notification.php#L90\app/Models/[1;31mNotification.php:90:15[0m]8;;\ - Property App\Models\Notification::$hidden has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\HidesAttributes::$hidden of type array<array-key, string> (see https://psalm.dev/267)
    protected [97;41m$hidden[0m = [


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Models/Notification.php#L136\app/Models/[1;31mNotification.php:136:20[0m]8;;\ - Docblock-defined type array<string, App\Models\mfinalixed> for $this->data is always isset (see https://psalm.dev/156)
            return [97;41m$this->data[0m ?? [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Models/Notification.php#L136\app/Models/[1;31mNotification.php:136:35[0m]8;;\ - Cannot resolve types for $this->data with docblock-defined type array<string, App\Models\mfinalixed> and !isset assertion (see https://psalm.dev/155)
            return $this->data ?? [97;41m[][0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Models/Notification.php#L151\app/Models/[1;31mNotification.php:151:17[0m]8;;\ - Docblock-defined type array<string, App\Models\mfinalixed> for $this->data is always isset (see https://psalm.dev/156)
        $data = [97;41m$this->data[0m ?? [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Models/Notification.php#L151\app/Models/[1;31mNotification.php:151:32[0m]8;;\ - Cannot resolve types for $this->data with docblock-defined type array<string, App\Models\mfinalixed> and !isset assertion (see https://psalm.dev/155)
        $data = $this->data ?? [97;41m[][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/Notification.php#L162\app/Models/[1;31mNotification.php:162:9[0m]8;;\ - Unable to determine the type that $url is being assigned to (see https://psalm.dev/032)
        [97;41m$url[0m = $this->getData('url');

  The type of $url is sourced from here - ]8;;file:///var/www/html/app/Models/Notification.php#L133\app/Models/[1;31mNotification.php:133:90[0m]8;;\
    public function getData(?string $key = null, array|string|int|null $default = null): [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/Notification.php#L172\app/Models/[1;31mNotification.php:172:9[0m]8;;\ - Unable to determine the type that $expirationDays is being assigned to (see https://psalm.dev/032)
        [97;41m$expirationDays[0m = $this->getData('expiration_days');

  The type of $expirationDays is sourced from here - ]8;;file:///var/www/html/app/Models/Notification.php#L133\app/Models/[1;31mNotification.php:133:90[0m]8;;\
    public function getData(?string $key = null, array|string|int|null $default = null): [30;47mmixed[0m



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Models/Notification.php#L175\app/Models/[1;31mNotification.php:175:20[0m]8;;\ - Operand of type Carbon\Carbon is always truthy (see https://psalm.dev/156)
            return [97;41m$this->created_at[0m ? $this->created_at->addDays((int) $expirationDays) : now()->addDays((int) $expirationDays);


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Models/Notification.php#L175\app/Models/[1;31mNotification.php:175:92[0m]8;;\ - Docblock-defined type Carbon\Carbon for $this->created_at is never falsy (see https://psalm.dev/155)
            return $this->created_at ? $this->created_at->addDays((int) $expirationDays) : [97;41mnow()->addDays((int) $expirationDays)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/Notification.php#L186\app/Models/[1;31mNotification.php:186:9[0m]8;;\ - Unable to determine the type that $retryCount is being assigned to (see https://psalm.dev/032)
        [97;41m$retryCount[0m = $this->getData('retry_count', 0);

  The type of $retryCount is sourced from here - ]8;;file:///var/www/html/app/Models/Notification.php#L133\app/Models/[1;31mNotification.php:133:90[0m]8;;\
    public function getData(?string $key = null, array|string|int|null $default = null): [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/Notification.php#L198\app/Models/[1;31mNotification.php:198:9[0m]8;;\ - Unable to determine the type that $tags is being assigned to (see https://psalm.dev/032)
        [97;41m$tags[0m = $this->getData('tags', []);

  The type of $tags is sourced from here - ]8;;file:///var/www/html/app/Models/Notification.php#L133\app/Models/[1;31mNotification.php:133:90[0m]8;;\
    public function getData(?string $key = null, array|string|int|null $default = null): [30;47mmixed[0m



[0;31mERROR[0m: MissingDependency - ]8;;file:///var/www/html/app/Models/Notification.php#L216\app/Models/[1;31mNotification.php:216:45[0m]8;;\ - Database\Factories\NotificationFactory depends on class or interface database\factories\factory that does not exist (see https://psalm.dev/157)
    protected static function newFactory(): [97;41mNotificationFactory[0m


[0;31mERROR[0m: MissingDependency - ]8;;file:///var/www/html/app/Models/Notification.php#L218\app/Models/[1;31mNotification.php:218:16[0m]8;;\ - Database\Factories\NotificationFactory depends on class or interface database\factories\factory that does not exist (see https://psalm.dev/157)
        return [97;41mNotificationFactory[0m::new();


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Order.php#L17\app/Models/[1;31mOrder.php:17:9[0m]8;;\ - App\Models\Order has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Order.php#L47\app/Models/[1;31mOrder.php:47:5[0m]8;;\ - Unexpected space in docblock for App\Models\Order::payments (see https://psalm.dev/008)
    /**
     * @return HasMany<Payment, $this>
     */
    [97;41mpublic function payments(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Order.php#L49\app/Models/[1;31mOrder.php:49:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Payment::class)[0m;

  The type of $this->hasMany(Payment::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/OrderItem.php#L14\app/Models/[1;31mOrderItem.php:14:9[0m]8;;\ - App\Models\OrderItem has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Payment.php#L15\app/Models/[1;31mPayment.php:15:9[0m]8;;\ - App\Models\Payment has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/PaymentMethod.php#L15\app/Models/[1;31mPaymentMethod.php:15:9[0m]8;;\ - App\Models\PaymentMethod has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/PriceAlert.php#L32\app/Models/[1;31mPriceAlert.php:32:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\PriceAlertFactory does not exist (see https://psalm.dev/200)
class [97;41mPriceAlert[0m extends ValidatableModel


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/PriceAlert.php#L35\app/Models/[1;31mPriceAlert.php:35:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\PriceAlertFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/PriceAlert.php#L42\app/Models/[1;31mPriceAlert.php:42:33[0m]8;;\ - Class, interface or enum named Database\Factories\PriceAlertFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\PriceAlertFactory[0m::class;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/PriceOffer.php#L29\app/Models/[1;31mPriceOffer.php:29:9[0m]8;;\ - App\Models\PriceOffer has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/PriceOffer.php#L34\app/Models/[1;31mPriceOffer.php:34:33[0m]8;;\ - Class, interface or enum named Database\Factories\PriceOfferFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\PriceOfferFactory[0m::class;


[0;31mERROR[0m: MismatchingDocblockReturnType - ]8;;file:///var/www/html/app/Models/Product.php#L36\app/Models/[1;31mProduct.php:36:19[0m]8;;\ - The inherited return type 'Illuminate\Database\Eloquent\Factories\Factory<App\Models\Product>' for App\Models\Product::factory is different to the corresponding @method annotation 'Database\Factories\ProductFactory' (see https://psalm.dev/142)
/**
 * @property int $id
 * @property string $name
 * @property string $slug
 * @property string $description
 * @property string $price
 * @property string $sku
 * @property string|null $image
 * @property bool $is_active
 * @property int $stock_quantity
 * @property int $category_id
 * @property int $brand_id
 * @property int $purchase_count
 * @property Category $category
 * @property Brand $brand
 * @property \Illuminate\Database\Eloquent\Collection<int, PriceAlert> $priceAfinal lerts
 * @property \Illuminate\Database\Eloquent\Collection<int, Review> $reviews
 * @property \Illuminate\Database\Eloquent\Collection<int, Wishlist> $wishlists
 * @property \Illuminate\Database\Eloquent\Collection<int, PriceOffer> $priceOffers
 *
 * @method static [97;41mProductFactory[0m factory(...$parameters)
 *
 * @phpstan-type TFactory \Database\Factories\ProductFactory
 *
 * @mixin \Illuminate\Database\Eloquent\Model
 */
class Product extends Model


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Product.php#L42\app/Models/[1;31mProduct.php:42:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\ProductFactory does not exist (see https://psalm.dev/200)
class [97;41mProduct[0m extends Model


[0;31mERROR[0m: MethodSignatureMismatch - ]8;;file:///var/www/html/app/Models/Product.php#L42\app/Models/[1;31mProduct.php:42:7[0m]8;;\ - Method App\Models\Product::factory has fewer parameters than parent method App\Models\Product::factory (see https://psalm.dev/042)
class [97;41mProduct[0m extends Model


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Product.php#L45\app/Models/[1;31mProduct.php:45:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\ProductFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Product.php#L52\app/Models/[1;31mProduct.php:52:33[0m]8;;\ - Class, interface or enum named Database\Factories\ProductFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\ProductFactory[0m::class;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Models/Product.php#L99\app/Models/[1;31mProduct.php:99:13[0m]8;;\ - Unable to determine the type that $factory is being assigned to (see https://psalm.dev/032)
            [97;41m$factory[0m = $factory->count($count);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Product.php#L99\app/Models/[1;31mProduct.php:99:24[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\ProductFactory does not exist (see https://psalm.dev/200)
            $factory = [97;41m$factory[0m->count($count);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Models/Product.php#L102\app/Models/[1;31mProduct.php:102:16[0m]8;;\ - Operand of type Database\Factories\ProductFactory|mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        return [97;41m$factory[0m ? $factory->state($state)->connection('testing') : \Database\Factories\ProductFactory::new();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Product.php#L102\app/Models/[1;31mProduct.php:102:27[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\ProductFactory does not exist (see https://psalm.dev/200)
        return $factory ? [97;41m$factory[0m->state($state)->connection('testing') : \Database\Factories\ProductFactory::new();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/Product.php#L102\app/Models/[1;31mProduct.php:102:37[0m]8;;\ - Cannot determine the type of $factory when calling method state (see https://psalm.dev/015)
        return $factory ? $factory->[97;41mstate[0m($state)->connection('testing') : \Database\Factories\ProductFactory::new();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Models/Product.php#L102\app/Models/[1;31mProduct.php:102:52[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        return $factory ? $factory->state($state)->[97;41mconnection[0m('testing') : \Database\Factories\ProductFactory::new();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Product.php#L102\app/Models/[1;31mProduct.php:102:76[0m]8;;\ - Class, interface or enum named Database\Factories\ProductFactory does not exist (see https://psalm.dev/019)
        return $factory ? $factory->state($state)->connection('testing') : [97;41m\Database\Factories\ProductFactory[0m::new();


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Product.php#L111\app/Models/[1;31mProduct.php:111:5[0m]8;;\ - Unexpected space in docblock for App\Models\Product::priceAlerts (see https://psalm.dev/008)
    /**
     * @return HasMany<PriceAlert, $this>
     */
    [97;41mpublic function priceAlerts(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Product.php#L113\app/Models/[1;31mProduct.php:113:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(PriceAlert::class)[0m;

  The type of $this->hasMany(PriceAlert::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Product.php#L119\app/Models/[1;31mProduct.php:119:5[0m]8;;\ - Unexpected space in docblock for App\Models\Product::reviews (see https://psalm.dev/008)
    /**
     * @return HasMany<Review, $this>
     */
    [97;41mpublic function reviews(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Product.php#L121\app/Models/[1;31mProduct.php:121:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Review::class)[0m;

  The type of $this->hasMany(Review::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Product.php#L127\app/Models/[1;31mProduct.php:127:5[0m]8;;\ - Unexpected space in docblock for App\Models\Product::wishlists (see https://psalm.dev/008)
    /**
     * @return HasMany<Wishlist, $this>
     */
    [97;41mpublic function wishlists(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Product.php#L129\app/Models/[1;31mProduct.php:129:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Wishlist::class)[0m;

  The type of $this->hasMany(Wishlist::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/Product.php#L135\app/Models/[1;31mProduct.php:135:5[0m]8;;\ - Unexpected space in docblock for App\Models\Product::priceOffers (see https://psalm.dev/008)
    /**
     * @return HasMany<PriceOffer, $this>
     */
    [97;41mpublic function priceOffers(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Product.php#L137\app/Models/[1;31mProduct.php:137:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(PriceOffer::class)[0m;

  The type of $this->hasMany(PriceOffer::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Review.php#L32\app/Models/[1;31mReview.php:32:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\ReviewFactory does not exist (see https://psalm.dev/200)
class [97;41mReview[0m extends Model


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Review.php#L35\app/Models/[1;31mReview.php:35:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\ReviewFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Review.php#L40\app/Models/[1;31mReview.php:40:33[0m]8;;\ - Class, interface or enum named Database\Factories\ReviewFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\ReviewFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Review.php#L45\app/Models/[1;31mReview.php:45:15[0m]8;;\ - Property App\Models\Review::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Models/Reward.php#L8\app/Models/[1;31mReward.php:8:22[0m]8;;\ - Const Database\Eloquent\Builder is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
use Illuminate\final [97;41mDatabase\Eloquent\Builder[0m;


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Store.php#L42\app/Models/[1;31mStore.php:42:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\StoreFactory does not exist (see https://psalm.dev/200)
class [97;41mStore[0m extends ValidatableModel


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Store.php#L45\app/Models/[1;31mStore.php:45:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\StoreFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Store.php#L52\app/Models/[1;31mStore.php:52:33[0m]8;;\ - Class, interface or enum named Database\Factories\StoreFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\StoreFactory[0m::class;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Store.php#L57\app/Models/[1;31mStore.php:57:15[0m]8;;\ - Property App\Models\Store::$fillable has type list<string>, not invariant with Illuminate\Database\Eloquent\Concerns\GuardsAttributes::$fillable of type array<int, string> (see https://psalm.dev/267)
    protected [97;41m$fillable[0m = [


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Models/Store.php#L108\app/Models/[1;31mStore.php:108:13[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41mempty($this->affiliate_base_url)[0m || empty($this->affiliate_code)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Models/Store.php#L108\app/Models/[1;31mStore.php:108:49[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (empty($this->affiliate_base_url) || [97;41mempty($this->affiliate_code)[0m) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Models/Store.php#L112\app/Models/[1;31mStore.php:112:26[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
        $affiliateCode = [97;41m(string) $this->affiliate_code[0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Models/Store.php#L113\app/Models/[1;31mStore.php:113:29[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
        $affiliateBaseUrl = [97;41m(string) $this->affiliate_base_url[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Store.php#L130\app/Models/[1;31mStore.php:130:32[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $store->slug = [97;41m\Str[0m::slug($store->name);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Store.php#L136\app/Models/[1;31mStore.php:136:32[0m]8;;\ - Class, interface or enum named Str does not exist (see https://psalm.dev/019)
                $store->slug = [97;41m\Str[0m::slug($store->name);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/User.php#L45\app/Models/[1;31mUser.php:45:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\UserFactory does not exist (see https://psalm.dev/200)
class [97;41mUser[0m extends Authenticatable


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Models/User.php#L45\app/Models/[1;31mUser.php:45:7[0m]8;;\ - Property App\Models\User::$accessToken is not defined in constructor of App\Models\User or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mUser[0m extends Authenticatable


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/User.php#L48\app/Models/[1;31mUser.php:48:9[0m]8;;\ - Extended template param TToken expects type Laravel\Sanctum\Contracts\HasAbilities, type App\Models\User given (see https://psalm.dev/183)
    use [97;41mHasApiTokens[0m;


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/User.php#L51\app/Models/[1;31mUser.php:51:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\UserFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/User.php#L58\app/Models/[1;31mUser.php:58:33[0m]8;;\ - Class, interface or enum named Database\Factories\UserFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\UserFactory[0m::class;


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/User.php#L86\app/Models/[1;31mUser.php:86:5[0m]8;;\ - Unexpected space in docblock for App\Models\User::reviews (see https://psalm.dev/008)
    /**
     * Get the reviews for the user.
     *
     * @return HasMany<Review, $this>
     */
    [97;41mpublic function reviews(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/User.php#L88\app/Models/[1;31mUser.php:88:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Review::class)[0m;

  The type of $this->hasMany(Review::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/User.php#L96\app/Models/[1;31mUser.php:96:5[0m]8;;\ - Unexpected space in docblock for App\Models\User::wishlists (see https://psalm.dev/008)
    /**
     * Intentional PHPMD violation: ElseExpression.
     *
     * @return HasMany<Wishlist, $this>
     */
    [97;41mpublic function wishlists(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/User.php#L98\app/Models/[1;31mUser.php:98:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Wishlist::class)[0m;

  The type of $this->hasMany(Wishlist::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/User.php#L104\app/Models/[1;31mUser.php:104:5[0m]8;;\ - Unexpected space in docblock for App\Models\User::priceAlerts (see https://psalm.dev/008)
    /**
     * @return HasMany<PriceAlert, $this>
     */
    [97;41mpublic function priceAlerts(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/User.php#L106\app/Models/[1;31mUser.php:106:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(PriceAlert::class)[0m;

  The type of $this->hasMany(PriceAlert::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/User.php#L114\app/Models/[1;31mUser.php:114:5[0m]8;;\ - Unexpected space in docblock for App\Models\User::orders (see https://psalm.dev/008)
    /**
     * Get the orders for the user.
     *
     * @return HasMany<Order, $this>
     */
    [97;41mpublic function orders(): HasMany[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/User.php#L116\app/Models/[1;31mUser.php:116:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(Order::class)[0m;

  The type of $this->hasMany(Order::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: InvalidDocblock - ]8;;file:///var/www/html/app/Models/User.php#L124\app/Models/[1;31mUser.php:124:5[0m]8;;\ - Unexpected space in docblock for App\Models\User::localeSetting (see https://psalm.dev/008)
    /**
     * Get the locale setting for the user.
     *
     * @return HasOne<UserLocaleSetting, $this>
     */
    [97;41mpublic function localeSetting(): HasOne[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/User.php#L126\app/Models/[1;31mUser.php:126:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasOne(UserLocaleSetting::class)[0m;

  The type of $this->hasOne(UserLocaleSetting::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L212\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:212:21[0m]8;;\
    public function [30;47mhasOne[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Models/User.php#L134\app/Models/[1;31mUser.php:134:16[0m]8;;\ - Docblock-defined type bool for $this->is_admin is always isset (see https://psalm.dev/156)
        return [97;41m$this->is_admin[0m ?? false;


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Models/User.php#L134\app/Models/[1;31mUser.php:134:35[0m]8;;\ - Cannot resolve types for $this->is_admin with docblock-defined type bool and !isset assertion (see https://psalm.dev/155)
        return $this->is_admin ?? [97;41mfalse[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Models/User.php#L142\app/Models/[1;31mUser.php:142:16[0m]8;;\ - Docblock-defined type bool for $this->is_blocked is always isset (see https://psalm.dev/156)
        return [97;41m$this->is_blocked[0m ?? false;


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Models/User.php#L142\app/Models/[1;31mUser.php:142:37[0m]8;;\ - Cannot resolve types for $this->is_blocked with docblock-defined type bool and !isset assertion (see https://psalm.dev/155)
        return $this->is_blocked ?? [97;41mfalse[0m;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/UserLocaleSetting.php#L32\app/Models/[1;31mUserLocaleSetting.php:32:9[0m]8;;\ - App\Models\UserLocaleSetting has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/UserLocaleSetting.php#L37\app/Models/[1;31mUserLocaleSetting.php:37:33[0m]8;;\ - Class, interface or enum named Database\Factories\UserLocaleSettingFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\UserLocaleSettingFactory[0m::class;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/UserPoint.php#L15\app/Models/[1;31mUserPoint.php:15:9[0m]8;;\ - App\Models\UserPoint has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/Webhook.php#L28\app/Models/[1;31mWebhook.php:28:9[0m]8;;\ - App\Models\Webhook has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/Webhook.php#L67\app/Models/[1;31mWebhook.php:67:15[0m]8;;\ - Property App\Models\Webhook::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Models/Webhook.php#L77\app/Models/[1;31mWebhook.php:77:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$this->hasMany(WebhookLog::class)[0m;

  The type of $this->hasMany(WebhookLog::class) is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L534\vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/[1;31mHasRelationships.php:534:21[0m]8;;\
    public function [30;47mhasMany[0m($related, $foreignKey = null, $localKey = null)



[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///var/www/html/app/Models/WebhookLog.php#L22\app/Models/[1;31mWebhookLog.php:22:9[0m]8;;\ - App\Models\WebhookLog has missing template params when extending Illuminate\Database\Eloquent\Factories\HasFactory, expecting 1 (see https://psalm.dev/182)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Models/WebhookLog.php#L41\app/Models/[1;31mWebhookLog.php:41:15[0m]8;;\ - Property App\Models\WebhookLog::$casts has type array<string, string>, not invariant with Illuminate\Database\Eloquent\Concerns\HasAttributes::$casts of type array<array-key, mixed> (see https://psalm.dev/267)
    protected [97;41m$casts[0m = [


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///var/www/html/app/Models/Wishlist.php#L30\app/Models/[1;31mWishlist.php:30:7[0m]8;;\ - Docblock-defined class, interface or enum named Database\Factories\WishlistFactory does not exist (see https://psalm.dev/200)
class [97;41mWishlist[0m extends ValidatableModel


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Models/Wishlist.php#L33\app/Models/[1;31mWishlist.php:33:9[0m]8;;\ - Extended template param TFactory expects type Illuminate\Database\Eloquent\Factories\Factory, type Database\Factories\WishlistFactory given (see https://psalm.dev/183)
    use [97;41mHasFactory[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Models/Wishlist.php#L40\app/Models/[1;31mWishlist.php:40:33[0m]8;;\ - Class, interface or enum named Database\Factories\WishlistFactory does not exist (see https://psalm.dev/019)
    protected static $factory = [97;41m\Database\Factories\WishlistFactory[0m::class;


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/OrderStatusUpdateNotification.php#L13\app/Notifications/[1;31mOrderStatusUpdateNotification.php:13:7[0m]8;;\ - Property App\Notifications\OrderStatusUpdateNotification::$id is not defined in constructor of App\Notifications\OrderStatusUpdateNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mOrderStatusUpdateNotification[0m extends Notification implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/PriceDropNotification.php#L13\app/Notifications/[1;31mPriceDropNotification.php:13:7[0m]8;;\ - Property App\Notifications\PriceDropNotification::$id is not defined in constructor of App\Notifications\PriceDropNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mPriceDropNotification[0m extends Notification implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ProductAddedNotification.php#L11\app/Notifications/[1;31mProductAddedNotification.php:11:7[0m]8;;\ - Property App\Notifications\ProductAddedNotification::$id is not defined in constructor of App\Notifications\ProductAddedNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mProductAddedNotification[0m extends Notification


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$locale is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$subject is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$markdown is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$html is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$view is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$textView is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$mailer is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/ReviewNotification.php#L13\app/Notifications/[1;31mReviewNotification.php:13:7[0m]8;;\ - Property App\Notifications\ReviewNotification::$assertionableRenderStrings is not defined in constructor of App\Notifications\ReviewNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mReviewNotification[0m extends Mailable implements ShouldQueue


[0;31mERROR[0m: PropertyNotSetInConstructor - ]8;;file:///var/www/html/app/Notifications/SystemNotification.php#L11\app/Notifications/[1;31mSystemNotification.php:11:7[0m]8;;\ - Property App\Notifications\SystemNotification::$id is not defined in constructor of App\Notifications\SystemNotification or in any methods called in the constructor (see https://psalm.dev/074)
class [97;41mSystemNotification[0m extends Notification


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/AppServiceProvider.php#L22\app/Providers/[1;31mAppServiceProvider.php:22:75[0m]8;;\ - Parameter $app has no provided type (see https://psalm.dev/153)
        $this->app->singleton(PriceSearchService::class, static function ([97;41m$app[0m) {


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/AppServiceProvider.php#L35\app/Providers/[1;31mAppServiceProvider.php:35:71[0m]8;;\ - Parameter $app has no provided type (see https://psalm.dev/153)
        $this->app->singleton(ProductService::class, static function ([97;41m$app[0m) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Providers/BroadcastServiceProvider.php#L16\app/Providers/[1;31mBroadcastServiceProvider.php:16:78[0m]8;;\ - Method Illuminate\Contracts\Broadcasting\Factory::routes does not exist (see https://psalm.dev/181)
        $this->app->make(\Illuminate\Contracts\Broadcasting\Factory::class)->[97;41mroutes[0m();


[0;31mERROR[0m: UnresolvableInclude - ]8;;file:///var/www/html/app/Providers/BroadcastServiceProvider.php#L18\app/Providers/[1;31mBroadcastServiceProvider.php:18:9[0m]8;;\ - Cannot resolve the given expression to a file path (see https://psalm.dev/106)
        [97;41mrequire_once base_path('routes/channels.php')[0m;


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/CoprraServiceProvider.php#L32\app/Providers/[1;31mCoprraServiceProvider.php:32:55[0m]8;;\ - Parameter $expression has no provided type (see https://psalm.dev/153)
        Blade::directive('currency', static function ([97;41m$expression[0m): string {


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/CoprraServiceProvider.php#L39\app/Providers/[1;31mCoprraServiceProvider.php:39:59[0m]8;;\ - Parameter $expression has no provided type (see https://psalm.dev/153)
        Blade::directive('pricecompare', static function ([97;41m$expression[0m): string {


[0;31mERROR[0m: NonInvariantDocblockPropertyType - ]8;;file:///var/www/html/app/Providers/EventServiceProvider.php#L18\app/Providers/[1;31mEventServiceProvider.php:18:15[0m]8;;\ - Property App\Providers\EventServiceProvider::$listen has type array<class-string, array<int, class-string>>, not invariant with Illuminate\Foundation\Support\Providers\EventServiceProvider::$listen of type array<string, array<int, string>> (see https://psalm.dev/267)
    protected [97;41m$listen[0m = [


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Providers/TelescopeServiceProvider.php#L27\app/Providers/[1;31mTelescopeServiceProvider.php:27:20[0m]8;;\ - Operand of type bool|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            return [97;41m$isLocal[0m ||


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Providers/TelescopeServiceProvider.php#L41\app/Providers/[1;31mTelescopeServiceProvider.php:41:13[0m]8;;\ - Operand of type bool|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$this->app->environment('local')[0m) {


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/TelescopeServiceProvider.php#L62\app/Providers/[1;31mTelescopeServiceProvider.php:62:56[0m]8;;\ - Parameter $user has no provided type (see https://psalm.dev/153)
        Gate::define('viewTelescope', static function ([97;41m$user[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Providers/TelescopeServiceProvider.php#L64\app/Providers/[1;31mTelescopeServiceProvider.php:64:26[0m]8;;\ - Docblock-defined type string for $user->email is always string (see https://psalm.dev/156)
            $userEmail = [97;41mis_string($user->email)[0m ? $user->email : '';


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Providers/TelescopeServiceProvider.php#L64\app/Providers/[1;31mTelescopeServiceProvider.php:64:67[0m]8;;\ - Docblock-defined type string for $user->email is always string (see https://psalm.dev/155)
            $userEmail = is_string($user->email) ? $user->email : [97;41m''[0m;


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L28\app/Providers/[1;31mViewServiceProvider.php:28:75[0m]8;;\ - Parameter $view has no provided type (see https://psalm.dev/153)
        View::composer(['layouts.app', 'layouts.admin'], static function ([97;41m$view[0m): void {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L30\app/Providers/[1;31mViewServiceProvider.php:30:41[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::user does not exist (see https://psalm.dev/181)
            $view->with('user', auth()->[97;41muser[0m());


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L33\app/Providers/[1;31mViewServiceProvider.php:33:78[0m]8;;\ - Parameter $view has no provided type (see https://psalm.dev/153)
        View::composer(['products.*', 'categories.*', 'brands.*'], function ([97;41m$view[0m): void {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L52\app/Providers/[1;31mViewServiceProvider.php:52:13[0m]8;;\ - Operand of type Illuminate\Routing\Route is always truthy (see https://psalm.dev/156)
        if ([97;41m$route[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L59\app/Providers/[1;31mViewServiceProvider.php:59:25[0m]8;;\ - Operand of type null|object|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                    if ([97;41m$product[0m && isset($product->name)) {


[0;31mERROR[0m: PossiblyInvalidPropertyFetch - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L59\app/Providers/[1;31mViewServiceProvider.php:59:43[0m]8;;\ - Cannot fetch property on possible non-object $product of type non-falsy-string (see https://psalm.dev/114)
                    if ($product && isset([97;41m$product->name[0m)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L67\app/Providers/[1;31mViewServiceProvider.php:67:25[0m]8;;\ - Operand of type null|object|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                    if ([97;41m$category[0m && isset($category->name)) {


[0;31mERROR[0m: PossiblyInvalidPropertyFetch - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L67\app/Providers/[1;31mViewServiceProvider.php:67:44[0m]8;;\ - Cannot fetch property on possible non-object $category of type non-falsy-string (see https://psalm.dev/114)
                    if ($category && isset([97;41m$category->name[0m)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L75\app/Providers/[1;31mViewServiceProvider.php:75:25[0m]8;;\ - Operand of type null|object|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                    if ([97;41m$brand[0m && isset($brand->name)) {


[0;31mERROR[0m: PossiblyInvalidPropertyFetch - ]8;;file:///var/www/html/app/Providers/ViewServiceProvider.php#L75\app/Providers/[1;31mViewServiceProvider.php:75:41[0m]8;;\ - Cannot fetch property on possible non-object $brand of type non-falsy-string (see https://psalm.dev/114)
                    if ($brand && isset([97;41m$brand->name[0m)) {


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L22\app/Repositories/[1;31mProductRepository.php:22:16[0m]8;;\ - The declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Repositories\ProductRepository::getPaginatedActive is more specific than the inferred return type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' (see https://psalm.dev/197)
     * @return [97;41mLengthAwarePaginator<int, Product>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L26\app/Repositories/[1;31mProductRepository.php:26:16[0m]8;;\ - The type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' is more general than the declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Repositories\ProductRepository::getPaginatedActive (see https://psalm.dev/197)
        return [97;41mProduct::query()
            ->with(['category', 'brand'])
            ->where('is_active', true)
            ->latest()
            ->paginate($perPage)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L48\app/Repositories/[1;31mProductRepository.php:48:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = Cache::remember($cacheKey, now()->addHours(1), static fn () => Product::query()


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L60\app/Repositories/[1;31mProductRepository.php:60:16[0m]8;;\ - The declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\Product>' for App\Repositories\ProductRepository::getRelated is more specific than the inferred return type 'Illuminate\Database\Eloquent\Collection|Illuminate\Database\Eloquent\Collection<never, never>' (see https://psalm.dev/070)
     * @return [97;41mCollection<int, Product>[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L75\app/Repositories/[1;31mProductRepository.php:75:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = Cache::remember($cacheKey, $cacheDuration, static fn () => Product::query()


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L84\app/Repositories/[1;31mProductRepository.php:84:16[0m]8;;\ - The type 'Illuminate\Database\Eloquent\Collection|Illuminate\Database\Eloquent\Collection<never, never>' is more general than the declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\Product>' for App\Repositories\ProductRepository::getRelated (see https://psalm.dev/129)
        return [97;41m$result instanceof Collection ? $result : new Collection[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L91\app/Repositories/[1;31mProductRepository.php:91:16[0m]8;;\ - The declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Repositories\ProductRepository::search is more specific than the inferred return type 'Illuminate\Pagination\LengthAwarePaginator|Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' (see https://psalm.dev/197)
     * @return [97;41mLengthAwarePaginator<int, Product>[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L127\app/Repositories/[1;31mProductRepository.php:127:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = Cache::remember($cacheKey, now()->addMinutes(15), static function () use ($query, $filters, $perPage) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L135\app/Repositories/[1;31mProductRepository.php:135:25[0m]8;;\ - Argument 1 of Illuminate\Database\Eloquent\Builder::where expects Closure(Illuminate\Database\Eloquent\Builder<Illuminate\Database\Eloquent\Model>):mixed|Illuminate\Contracts\Database\Query\Expression|array<array-key, mixed>|string, but pure-Closure(static):void provided (see https://psalm.dev/004)
                ->where([97;41mstatic function ($q) use ($query): void {
                    $searchTerm = '%'.addcslashes($query, '%_').'%';
                    $q->where('name', 'like', $searchTerm)
                        ->orWhere('description', 'like', $searchTerm);
                }[0m);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L137\app/Repositories/[1;31mProductRepository.php:137:25[0m]8;;\ - Method App\Repositories\ProductRepository::where does not exist (see https://psalm.dev/022)
                    $q->[97;41mwhere[0m('name', 'like', $searchTerm)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L138\app/Repositories/[1;31mProductRepository.php:138:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41morWhere[0m('description', 'like', $searchTerm);


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L170\app/Repositories/[1;31mProductRepository.php:170:16[0m]8;;\ - The type 'Illuminate\Pagination\LengthAwarePaginator|Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' is more general than the declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Repositories\ProductRepository::search (see https://psalm.dev/197)
        return [97;41m$result instanceof LengthAwarePaginator ? $result : Product::query()->paginate($perPage)[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L201\app/Repositories/[1;31mProductRepository.php:201:20[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
            return [97;41mDB::transaction(static function () use ($product, $newPrice, $cacheKeys): bool {
                $oldPrice = $product->price;

                // Lock the row for update
                $lockedProduct = Product::where('id', $product->id)->lockForUpdate()->firstOrFail();

                $updated = $lockedProduct->update(['price' => $newPrice]);

                if (! $updated) {
                    throw new \RuntimeException('Failed to update product price');
                }

                $userId = auth()->id();

                // Log price change
                Log::info('Product price updated', [
                    'product_id' => $lockedProduct->id,
                    'old_price' => $oldPrice,
                    'new_price' => $newPrice,
                    'user_id' => $userId,
                    'ip' => request()->ip(),
                ]);

                // Create price history record (if priceHistory method exists)
                if (method_exists($lockedProduct, 'priceHistory')) {
                    $priceHistory = $lockedProduct->priceHistory();
                    if (is_object($priceHistory) && method_exists($priceHistory, 'create')) {
                        $priceHistory->create([
                            'old_price' => $oldPrice,
                            'new_price' => $newPrice,
                            'changed_by' => $userId,
                        ]);
                    }
                }

                // Invalidate cache
                foreach ($cacheKeys as $key) {
                    Cache::forget($key);
                }

                return true;
            })[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:17[0m]8;;\ - Unable to determine the type that $lockedProduct is being assigned to (see https://psalm.dev/032)
                [97;41m$lockedProduct[0m = Product::where('id', $product->id)->lockForUpdate()->firstOrFail();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:34[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
                $lockedProduct = [97;41mProduct::where('id', $product->id)[0m->lockForUpdate()->firstOrFail();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:70[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                $lockedProduct = Product::where('id', $product->id)->[97;41mlockForUpdate[0m()->firstOrFail();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:87[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                $lockedProduct = Product::where('id', $product->id)->lockForUpdate()->[97;41mfirstOrFail[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L207\app/Repositories/[1;31mProductRepository.php:207:17[0m]8;;\ - Unable to determine the type that $updated is being assigned to (see https://psalm.dev/032)
                [97;41m$updated[0m = $lockedProduct->update(['price' => $newPrice]);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L207\app/Repositories/[1;31mProductRepository.php:207:44[0m]8;;\ - Cannot determine the type of $lockedProduct when calling method update (see https://psalm.dev/015)
                $updated = $lockedProduct->[97;41mupdate[0m(['price' => $newPrice]);

  The type of update is sourced from here - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:17[0m]8;;\
                [30;47m$lockedProduct[0m = Product::where('id', $product->id)->lockForUpdate()->firstOrFail();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L213\app/Repositories/[1;31mProductRepository.php:213:17[0m]8;;\ - Unable to determine the type that $userId is being assigned to (see https://psalm.dev/032)
                [97;41m$userId[0m = auth()->id();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L213\app/Repositories/[1;31mProductRepository.php:213:35[0m]8;;\ - Method Illuminate\Contracts\Auth\Factory::id does not exist (see https://psalm.dev/181)
                $userId = auth()->[97;41mid[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L217\app/Repositories/[1;31mProductRepository.php:217:37[0m]8;;\ - Cannot fetch property on mixed var $lockedProduct (see https://psalm.dev/034)
                    'product_id' => [97;41m$lockedProduct->id[0m,


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L225\app/Repositories/[1;31mProductRepository.php:225:35[0m]8;;\ - Argument 1 of method_exists cannot be mixed, expecting class-string|object (see https://psalm.dev/030)
                if (method_exists([97;41m$lockedProduct[0m, 'priceHistory')) {

  The type of $lockedProduct is sourced from here - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L205\app/Repositories/[1;31mProductRepository.php:205:17[0m]8;;\
                [30;47m$lockedProduct[0m = Product::where('id', $product->id)->lockForUpdate()->firstOrFail();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Repositories/ProductRepository.php#L226\app/Repositories/[1;31mProductRepository.php:226:21[0m]8;;\ - Unable to determine the type that $priceHistory is being assigned to (see https://psalm.dev/032)
                    [97;41m$priceHistory[0m = $lockedProduct->priceHistory();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L36\app/Rules/[1;31mPasswordValidator.php:36:9[0m]8;;\ - Unable to determine the type that $configValue is being assigned to (see https://psalm.dev/032)
        [97;41m$configValue[0m = $configRepository->get('password_policy', $defaultConfig);

  The type of $configValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Contracts/Config/Repository.php#L20\vendor/laravel/framework/src/Illuminate/Contracts/Config/[1;31mRepository.php:20:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L52\app/Rules/[1;31mPasswordValidator.php:52:22[0m]8;;\ - Docblock-defined type int for $this->config['min_length'] is always numeric (see https://psalm.dev/156)
        $minLength = [97;41mis_numeric($this->config['min_length'])[0m ? (int) $this->config['min_length'] : 8;


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L52\app/Rules/[1;31mPasswordValidator.php:52:64[0m]8;;\ - Redundant cast to int given docblock-provided type (see https://psalm.dev/263)
        $minLength = is_numeric($this->config['min_length']) ? [97;41m(int) $this->config['min_length'][0m : 8;


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L52\app/Rules/[1;31mPasswordValidator.php:52:100[0m]8;;\ - Docblock-defined type int for $this->config['min_length'] is always numeric (see https://psalm.dev/155)
        $minLength = is_numeric($this->config['min_length']) ? (int) $this->config['min_length'] : [97;41m8[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L79\app/Rules/[1;31mPasswordValidator.php:79:13[0m]8;;\ - Docblock-defined type array<int, string> for $forbiddenPatterns is always array<array-key, mixed> (see https://psalm.dev/156)
        if ([97;41mis_array($forbiddenPatterns)[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L81\app/Rules/[1;31mPasswordValidator.php:81:21[0m]8;;\ - Docblock-defined type string for $pattern is always string (see https://psalm.dev/156)
                if ([97;41mis_string($pattern)[0m && preg_match($pattern, $password)) {


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L81\app/Rules/[1;31mPasswordValidator.php:81:55[0m]8;;\ - Argument 1 of preg_match expects non-empty-string, but parent type string provided (see https://psalm.dev/193)
                if (is_string($pattern) && preg_match([97;41m$pattern[0m, $password)) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Rules/PasswordValidator.php#L125\app/Rules/[1;31mPasswordValidator.php:125:16[0m]8;;\ - Redundant cast to int<min, 7> (see https://psalm.dev/262)
        return [97;41m(int) min($score, 10)[0m;


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L28\app/Rules/[1;31mValidOrderStatusTransition.php:28:35[0m]8;;\ - Argument 1 of App\Rules\ValidOrderStatusTransition::setData has the more specific type 'array<string, mixed>', expecting 'array<array-key, mixed>' as defined by Illuminate\Contracts\Validation\DataAwareRule::setData (see https://psalm.dev/140)
    public function setData(array [97;41m$data[0m): static


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L55\app/Rules/[1;31mValidOrderStatusTransition.php:55:15[0m]8;;\ - Instance property App\Rules\ValidOrderStatusTransition::$order is not defined (see https://psalm.dev/041)
        if (! [97;41m$this->order[0m->status->canTransitionTo($newStatus)) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L55\app/Rules/[1;31mValidOrderStatusTransition.php:55:15[0m]8;;\ - Cannot fetch property on mixed var $this->order (see https://psalm.dev/034)
        if (! [97;41m$this->order->status[0m->canTransitionTo($newStatus)) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L55\app/Rules/[1;31mValidOrderStatusTransition.php:55:37[0m]8;;\ - Cannot determine the type of $this->order->status when calling method canTransitionTo (see https://psalm.dev/015)
        if (! $this->order->status->[97;41mcanTransitionTo[0m($newStatus)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L56\app/Rules/[1;31mValidOrderStatusTransition.php:56:13[0m]8;;\ - Unable to determine the type that $currentLabel is being assigned to (see https://psalm.dev/032)
            [97;41m$currentLabel[0m = $this->order->status->label();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Rules/ValidOrderStatusTransition.php#L56\app/Rules/[1;31mValidOrderStatusTransition.php:56:51[0m]8;;\ - Cannot determine the type of $this->order->status when calling method label (see https://psalm.dev/015)
            $currentLabel = $this->order->status->[97;41mlabel[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L58\app/Services/AI/[1;31mContinuousQualityMonitor.php:58:55[0m]8;;\ - Unable to determine the type that $rule is being assigned to (see https://psalm.dev/032)
        foreach ($this->monitoringRules as $ruleId => [97;41m$rule[0m) {


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L60\app/Services/AI/[1;31mContinuousQualityMonitor.php:60:44[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
                $result = $this->checkRule([97;41m(string) $ruleId[0m, (array) $rule);


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L60\app/Services/AI/[1;31mContinuousQualityMonitor.php:60:62[0m]8;;\ - Redundant cast to array (see https://psalm.dev/262)
                $result = $this->checkRule((string) $ruleId, [97;41m(array) $rule[0m);


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L61\app/Services/AI/[1;31mContinuousQualityMonitor.php:61:26[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
                $results[[97;41m(string) $ruleId[0m] = $result;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L70\app/Services/AI/[1;31mContinuousQualityMonitor.php:70:29[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                        if ([97;41m$rule['critical'] ?? false[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L96\app/Services/AI/[1;31mContinuousQualityMonitor.php:96:9[0m]8;;\ - Unable to determine the type that $score is being assigned to (see https://psalm.dev/032)
        [97;41m$score[0m = Cache::get('quality_health_score', 0);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L97\app/Services/AI/[1;31mContinuousQualityMonitor.php:97:9[0m]8;;\ - Unable to determine the type that $lastCheck is being assigned to (see https://psalm.dev/032)
        [97;41m$lastCheck[0m = Cache::get('quality_last_check');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L98\app/Services/AI/[1;31mContinuousQualityMonitor.php:98:9[0m]8;;\ - Unable to determine the type that $detailedResults is being assigned to (see https://psalm.dev/032)
        [97;41m$detailedResults[0m = Cache::get('quality_detailed_results', []);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L185\app/Services/AI/[1;31mContinuousQualityMonitor.php:185:13[0m]8;;\ - Unable to determine the type that $command is being assigned to (see https://psalm.dev/032)
            [97;41m$command[0m = is_string($rule['command'] ?? null) ? $rule['command'] : '';

  The type of $command is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L180\app/Services/AI/[1;31mContinuousQualityMonitor.php:180:54[0m]8;;\
    private function checkRule(string $ruleId, array [30;47m$rule[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L187\app/Services/AI/[1;31mContinuousQualityMonitor.php:187:40[0m]8;;\ - Argument 1 of Illuminate\Support\Facades\Process::run cannot be ''|mixed, expecting array<array-key, mixed>|null|string (see https://psalm.dev/030)
                $result = Process::run([97;41m$command[0m);

  The type of $command is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L180\app/Services/AI/[1;31mContinuousQualityMonitor.php:180:54[0m]8;;\
    private function checkRule(string $ruleId, array [30;47m$rule[0m): array



[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L189\app/Services/AI/[1;31mContinuousQualityMonitor.php:189:35[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
                $duration = round([97;41m(float) ($endTime - $startTime)[0m, 2);


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L196\app/Services/AI/[1;31mContinuousQualityMonitor.php:196:35[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
                $duration = round([97;41m(float) ($endTime - $startTime)[0m, 2);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L230\app/Services/AI/[1;31mContinuousQualityMonitor.php:230:13[0m]8;;\ - Operand of type false is always falsy (see https://psalm.dev/056)
        if ([97;41m! $result[0m || ! is_object($result) || ! method_exists($result, 'successful') || ! $result->successful()) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L230\app/Services/AI/[1;31mContinuousQualityMonitor.php:230:13[0m]8;;\ - Type Illuminate\Contracts\Process\ProcessResult for $result is never !falsy (see https://psalm.dev/056)
        if ([97;41m! $result[0m || ! is_object($result) || ! method_exists($result, 'successful') || ! $result->successful()) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L230\app/Services/AI/[1;31mContinuousQualityMonitor.php:230:13[0m]8;;\ - Type Illuminate\Contracts\Process\ProcessResult for $result is always object (see https://psalm.dev/056)
        if ([97;41m! $result || ! is_object($result)[0m || ! method_exists($result, 'successful') || ! $result->successful()) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L230\app/Services/AI/[1;31mContinuousQualityMonitor.php:230:26[0m]8;;\ - Type Illuminate\Contracts\Process\ProcessResult for $result is always !object (see https://psalm.dev/056)
        if (! $result || [97;41m! is_object($result)[0m || ! method_exists($result, 'successful') || ! $result->successful()) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L235\app/Services/AI/[1;31mContinuousQualityMonitor.php:235:25[0m]8;;\ - Docblock-defined type string for $output is always string (see https://psalm.dev/156)
        $outputString = [97;41mis_string($output)[0m ? $output : '';


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L235\app/Services/AI/[1;31mContinuousQualityMonitor.php:235:56[0m]8;;\ - Docblock-defined type string for $output is always string (see https://psalm.dev/155)
        $outputString = is_string($output) ? $output : [97;41m''[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L317\app/Services/AI/[1;31mContinuousQualityMonitor.php:317:33[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            return (int) max(0, [97;41m100 - ($memoryUsage / $maxMemory * 100)[0m);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L317\app/Services/AI/[1;31mContinuousQualityMonitor.php:317:40[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            return (int) max(0, 100 - ([97;41m$memoryUsage / $maxMemory * 100[0m));


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L333\app/Services/AI/[1;31mContinuousQualityMonitor.php:333:61[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'message' => 'تنبيه حرج: فشل في '.([97;41mis_string($result['name'] ?? null) ? $result['name'] : ''[0m),

  The type of is_string($result['name'] ?? null) ? $result['name'] : '' is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L328\app/Services/AI/[1;31mContinuousQualityMonitor.php:328:65[0m]8;;\
    private function triggerCriticalAlert(string $ruleId, array [30;47m$result[0m): void



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L355\app/Services/AI/[1;31mContinuousQualityMonitor.php:355:58[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'message' => 'تحذير: مشكلة في '.([97;41mis_string($result['name'] ?? null) ? $result['name'] : ''[0m),

  The type of is_string($result['name'] ?? null) ? $result['name'] : '' is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L350\app/Services/AI/[1;31mContinuousQualityMonitor.php:350:64[0m]8;;\
    private function triggerWarningAlert(string $ruleId, array [30;47m$result[0m): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L386\app/Services/AI/[1;31mContinuousQualityMonitor.php:386:9[0m]8;;\ - Unable to determine the type that $message is being assigned to (see https://psalm.dev/032)
        [97;41m$message[0m = is_string($alert['message'] ?? null) ? $alert['message'] : '';

  The type of $message is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L383\app/Services/AI/[1;31mContinuousQualityMonitor.php:383:45[0m]8;;\
    private function sendNotification(array [30;47m$alert[0m): void



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L387\app/Services/AI/[1;31mContinuousQualityMonitor.php:387:50[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        Log::info('📧 إرسال إشعار: '.[97;41m$message[0m);

  The type of $message is sourced from here - ]8;;file:///var/www/html/app/Services/AI/ContinuousQualityMonitor.php#L383\app/Services/AI/[1;31mContinuousQualityMonitor.php:383:45[0m]8;;\
    private function sendNotification(array [30;47m$alert[0m): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L41\app/Services/AI/[1;31mStrictQualityAgent.php:41:47[0m]8;;\ - Unable to determine the type that $stage is being assigned to (see https://psalm.dev/032)
        foreach ($this->stages as $stageId => [97;41m$stage[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L43\app/Services/AI/[1;31mStrictQualityAgent.php:43:17[0m]8;;\ - Unable to determine the type that $stageName is being assigned to (see https://psalm.dev/032)
                [97;41m$stageName[0m = is_string($stage['name'] ?? null) ? $stage['name'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L44\app/Services/AI/[1;31mStrictQualityAgent.php:44:63[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                $this->log('📋 تنفيذ المرحلة: '.[97;41m$stageName[0m);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L50\app/Services/AI/[1;31mStrictQualityAgent.php:50:21[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                if ([97;41m! ($result['success'] ?? false)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L52\app/Services/AI/[1;31mStrictQualityAgent.php:52:21[0m]8;;\ - Unable to determine the type that $stageNameForError is being assigned to (see https://psalm.dev/032)
                    [97;41m$stageNameForError[0m = is_string($stage['name'] ?? null) ? $stage['name'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L53\app/Services/AI/[1;31mStrictQualityAgent.php:53:67[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $this->log('❌ فشل في المرحلة: '.[97;41m$stageNameForError[0m);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L55\app/Services/AI/[1;31mStrictQualityAgent.php:55:25[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                    if ([97;41m$stage['strict'] ?? false[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L60\app/Services/AI/[1;31mStrictQualityAgent.php:60:21[0m]8;;\ - Unable to determine the type that $stageNameForSuccess is being assigned to (see https://psalm.dev/032)
                    [97;41m$stageNameForSuccess[0m = is_string($stage['name'] ?? null) ? $stage['name'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L61\app/Services/AI/[1;31mStrictQualityAgent.php:61:67[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $this->log('✅ نجح في المرحلة: '.[97;41m$stageNameForSuccess[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L128\app/Services/AI/[1;31mStrictQualityAgent.php:128:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = $this->results[$stageId] ?? null;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L296\app/Services/AI/[1;31mStrictQualityAgent.php:296:9[0m]8;;\ - Unable to determine the type that $files is being assigned to (see https://psalm.dev/032)
        [97;41m$files[0m = $stage['files'] ?? [];

  The type of $files is sourced from here - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L291\app/Services/AI/[1;31mStrictQualityAgent.php:291:50[0m]8;;\
    private function executeFileBasedStage(array [30;47m$stage[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L298\app/Services/AI/[1;31mStrictQualityAgent.php:298:32[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
            foreach ($files as [97;41m$file[0m) {

  The type of $file is sourced from here - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L291\app/Services/AI/[1;31mStrictQualityAgent.php:291:50[0m]8;;\
    private function executeFileBasedStage(array [30;47m$stage[0m): array



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L300\app/Services/AI/[1;31mStrictQualityAgent.php:300:33[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                    $command = ([97;41mis_string($stage['command'] ?? null) ? $stage['command'] : ''[0m).' '.$file;

  The type of is_string($stage['command'] ?? null) ? $stage['command'] : '' is sourced from here - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L291\app/Services/AI/[1;31mStrictQualityAgent.php:291:50[0m]8;;\
    private function executeFileBasedStage(array [30;47m$stage[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L326\app/Services/AI/[1;31mStrictQualityAgent.php:326:9[0m]8;;\ - Unable to determine the type that $command is being assigned to (see https://psalm.dev/032)
        [97;41m$command[0m = is_string($stage['command'] ?? null) ? $stage['command'] : '';

  The type of $command is sourced from here - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L324\app/Services/AI/[1;31mStrictQualityAgent.php:324:48[0m]8;;\
    private function executeCommandStage(array [30;47m$stage[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L327\app/Services/AI/[1;31mStrictQualityAgent.php:327:32[0m]8;;\ - Argument 1 of Illuminate\Support\Facades\Process::run cannot be ''|mixed, expecting array<array-key, mixed>|null|string (see https://psalm.dev/030)
        $result = Process::run([97;41m$command[0m);

  The type of $command is sourced from here - ]8;;file:///var/www/html/app/Services/AI/StrictQualityAgent.php#L324\app/Services/AI/[1;31mStrictQualityAgent.php:324:48[0m]8;;\
    private function executeCommandStage(array [30;47m$stage[0m): array



[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/AIService.php#L14\app/Services/[1;31mAIService.php:14:20[0m]8;;\ - App\Services\AIService has an uninitialized property App\Services\AIService::$apiKey, but no constructor (see https://psalm.dev/073)
    private string [97;41m$apiKey[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/AIService.php#L16\app/Services/[1;31mAIService.php:16:20[0m]8;;\ - App\Services\AIService has an uninitialized property App\Services\AIService::$baseUrl, but no constructor (see https://psalm.dev/073)
    private string [97;41m$baseUrl[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/AIService.php#L18\app/Services/[1;31mAIService.php:18:17[0m]8;;\ - App\Services\AIService has an uninitialized property App\Services\AIService::$timeout, but no constructor (see https://psalm.dev/073)
    private int [97;41m$timeout[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/AIService.php#L20\app/Services/[1;31mAIService.php:20:24[0m]8;;\ - App\Services\AIService has an uninitialized property App\Services\AIService::$log, but no constructor (see https://psalm.dev/073)
    private LogManager [97;41m$log[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/AIService.php#L22\app/Services/[1;31mAIService.php:22:18[0m]8;;\ - App\Services\AIService has an uninitialized property App\Services\AIService::$isTesting, but no constructor (see https://psalm.dev/073)
    private bool [97;41m$isTesting[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AIService.php#L46\app/Services/[1;31mAIService.php:46:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = $response['result'] ?? 'Uncategorized';

  The type of $result is sourced from here - ]8;;file:///var/www/html/app/Services/AIService.php#L25\app/Services/[1;31mAIService.php:25:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/AIService.php#L58\app/Services/[1;31mAIService.php:58:50[0m]8;;\ - Cannot concatenate with a possibly false false|string (see https://psalm.dev/162)
        $prompt = 'Based on these preferences: '.[97;41mjson_encode($userPreferences)[0m.', recommend products from this list: '.json_encode($products);


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/AIService.php#L58\app/Services/[1;31mAIService.php:58:120[0m]8;;\ - Cannot concatenate with a possibly false false|string (see https://psalm.dev/162)
        $prompt = 'Based on these preferences: '.json_encode($userPreferences).', recommend products from this list: '.[97;41mjson_encode($products)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AIService.php#L110\app/Services/[1;31mAIService.php:110:17[0m]8;;\ - Unable to determine the type that $jsonResponse is being assigned to (see https://psalm.dev/032)
                [97;41m$jsonResponse[0m = $response->json();

  The type of $jsonResponse is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AIService.php#L116\app/Services/[1;31mAIService.php:116:13[0m]8;;\ - Unable to determine the type that $jsonResponse is being assigned to (see https://psalm.dev/032)
            [97;41m$jsonResponse[0m = $response->json();

  The type of $jsonResponse is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L143\app/Services/[1;31mAIService.php:143:19[0m]8;;\ - Docblock-defined type array<int, array{text?: string}> for $choices is always array<array-key, mixed> (see https://psalm.dev/156)
        $choice = [97;41mis_array($choices)[0m && isset($choices[0]) ? $choices[0] : null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/AIService.php#L144\app/Services/[1;31mAIService.php:144:13[0m]8;;\ - Operand of type array{text?: string}|null contains type array{text?: string}, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$choice[0m && is_array($choice) && isset($choice['text']) && is_string($choice['text'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L144\app/Services/[1;31mAIService.php:144:13[0m]8;;\ - Docblock-defined type array{text?: string} for $choice is always array<array-key, mixed> (see https://psalm.dev/156)
        if ([97;41m$choice && is_array($choice)[0m && isset($choice['text']) && is_string($choice['text'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L144\app/Services/[1;31mAIService.php:144:13[0m]8;;\ - Docblock-defined type string for $choice['text'] is always string (see https://psalm.dev/156)
        if ([97;41m$choice && is_array($choice) && isset($choice['text']) && is_string($choice['text'])[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L144\app/Services/[1;31mAIService.php:144:24[0m]8;;\ - Docblock-defined type array{text?: string} for $choice is always array<array-key, mixed> (see https://psalm.dev/156)
        if ($choice && [97;41mis_array($choice)[0m && isset($choice['text']) && is_string($choice['text'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L144\app/Services/[1;31mAIService.php:144:71[0m]8;;\ - Docblock-defined type string for $choice['text'] is always string (see https://psalm.dev/156)
        if ($choice && is_array($choice) && isset($choice['text']) && [97;41mis_string($choice['text'])[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L162\app/Services/[1;31mAIService.php:162:20[0m]8;;\ - Docblock-defined type array<int, array{message?: array{content?: string}}> for $choices is always array<array-key, mixed> (see https://psalm.dev/156)
        $message = [97;41mis_array($choices)[0m && isset($choices[0]) && is_array($choices[0]) ? $choices[0]['message'] ?? null : null;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L162\app/Services/[1;31mAIService.php:162:20[0m]8;;\ - Docblock-defined type array{message?: array{content?: string}} for $choices[0] is always array<array-key, mixed> (see https://psalm.dev/156)
        $message = [97;41mis_array($choices) && isset($choices[0]) && is_array($choices[0])[0m ? $choices[0]['message'] ?? null : null;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L162\app/Services/[1;31mAIService.php:162:64[0m]8;;\ - Docblock-defined type array{message?: array{content?: string}} for $choices[0] is always array<array-key, mixed> (see https://psalm.dev/156)
        $message = is_array($choices) && isset($choices[0]) && [97;41mis_array($choices[0])[0m ? $choices[0]['message'] ?? null : null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/AIService.php#L163\app/Services/[1;31mAIService.php:163:13[0m]8;;\ - Operand of type array{content?: string}|null contains type array{content?: string}, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$message[0m && is_array($message) && isset($message['content']) && is_string($message['content'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L163\app/Services/[1;31mAIService.php:163:13[0m]8;;\ - Docblock-defined type array{content?: string} for $message is always array<array-key, mixed> (see https://psalm.dev/156)
        if ([97;41m$message && is_array($message)[0m && isset($message['content']) && is_string($message['content'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L163\app/Services/[1;31mAIService.php:163:13[0m]8;;\ - Docblock-defined type string for $message['content'] is always string (see https://psalm.dev/156)
        if ([97;41m$message && is_array($message) && isset($message['content']) && is_string($message['content'])[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L163\app/Services/[1;31mAIService.php:163:25[0m]8;;\ - Docblock-defined type array{content?: string} for $message is always array<array-key, mixed> (see https://psalm.dev/156)
        if ($message && [97;41mis_array($message)[0m && isset($message['content']) && is_string($message['content'])) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/AIService.php#L163\app/Services/[1;31mAIService.php:163:77[0m]8;;\ - Docblock-defined type string for $message['content'] is always string (see https://psalm.dev/156)
        if ($message && is_array($message) && isset($message['content']) && [97;41mis_string($message['content'])[0m) {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L32\app/Services/[1;31mAnalyticsService.php:32:28[0m]8;;\ - Magic method App\Models\AnalyticsEvent::create does not exist (see https://psalm.dev/219)
                    return [97;41mAnalyticsEvent::create([
                        'event_type' => $eventType,
                        'event_name' => $eventName,
                        'user_id' => $userId,
                        'product_id' => $productId,
                        'category_id' => $categoryId,
                        'store_id' => $storeId,
                        'metadata' => $metadata,
                        'ip_address' => request()->ip(),
                        'user_agent' => request()->userAgent(),
                        'session_id' => session()->getId(),
                    ])[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L32\app/Services/[1;31mAnalyticsService.php:32:28[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                    return [97;41mAnalyticsEvent::create([
                        'event_type' => $eventType,
                        'event_name' => $eventName,
                        'user_id' => $userId,
                        'product_id' => $productId,
                        'category_id' => $categoryId,
                        'store_id' => $storeId,
                        'metadata' => $metadata,
                        'ip_address' => request()->ip(),
                        'user_agent' => request()->userAgent(),
                        'session_id' => session()->getId(),
                    ])[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L75\app/Services/[1;31mAnalyticsService.php:75:24[0m]8;;\ - Magic method App\Models\AnalyticsEvent::oftype does not exist (see https://psalm.dev/219)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRODUCT_VIEW)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L75\app/Services/[1;31mAnalyticsService.php:75:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRODUCT_VIEW)
                    ->recent($days)
                    ->select('product_id', DB::raw('COUNT(*) as view_count'))
                    ->groupBy('product_id')
                    ->orderByDesc('view_count')
                    ->limit($limit)
                    ->with('product')
                    ->get()
                    ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L76\app/Services/[1;31mAnalyticsService.php:76:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mrecent[0m($days)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L77\app/Services/[1;31mAnalyticsService.php:77:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mselect[0m('product_id', DB::raw('COUNT(*) as view_count'))


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L78\app/Services/[1;31mAnalyticsService.php:78:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mgroupBy[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L79\app/Services/[1;31mAnalyticsService.php:79:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morderByDesc[0m('view_count')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L80\app/Services/[1;31mAnalyticsService.php:80:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L81\app/Services/[1;31mAnalyticsService.php:81:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mwith[0m('product')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L82\app/Services/[1;31mAnalyticsService.php:82:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L83\app/Services/[1;31mAnalyticsService.php:83:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L91\app/Services/[1;31mAnalyticsService.php:91:24[0m]8;;\ - Magic method App\Models\AnalyticsEvent::oftype does not exist (see https://psalm.dev/219)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_SEARCH)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L91\app/Services/[1;31mAnalyticsService.php:91:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_SEARCH)
                    ->recent($days)
                    ->get()
                    ->pluck('metadata.query')
                    ->filter()
                    ->countBy()
                    ->sortDesc()
                    ->take($limit)
                    ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L92\app/Services/[1;31mAnalyticsService.php:92:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mrecent[0m($days)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L93\app/Services/[1;31mAnalyticsService.php:93:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L94\app/Services/[1;31mAnalyticsService.php:94:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mpluck[0m('metadata.query')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L95\app/Services/[1;31mAnalyticsService.php:95:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mfilter[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L96\app/Services/[1;31mAnalyticsService.php:96:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mcountBy[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L97\app/Services/[1;31mAnalyticsService.php:97:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41msortDesc[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L98\app/Services/[1;31mAnalyticsService.php:98:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mtake[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L99\app/Services/[1;31mAnalyticsService.php:99:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L107\app/Services/[1;31mAnalyticsService.php:107:24[0m]8;;\ - Magic method App\Models\AnalyticsEvent::oftype does not exist (see https://psalm.dev/219)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_STORE_CLICK)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L107\app/Services/[1;31mAnalyticsService.php:107:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_STORE_CLICK)
                    ->recent($days)
                    ->select('store_id', DB::raw('COUNT(*) as click_count'))
                    ->groupBy('store_id')
                    ->orderByDesc('click_count')
                    ->limit($limit)
                    ->with('store')
                    ->get()
                    ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L108\app/Services/[1;31mAnalyticsService.php:108:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mrecent[0m($days)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L109\app/Services/[1;31mAnalyticsService.php:109:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mselect[0m('store_id', DB::raw('COUNT(*) as click_count'))


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L110\app/Services/[1;31mAnalyticsService.php:110:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mgroupBy[0m('store_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L111\app/Services/[1;31mAnalyticsService.php:111:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morderByDesc[0m('click_count')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L112\app/Services/[1;31mAnalyticsService.php:112:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L113\app/Services/[1;31mAnalyticsService.php:113:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mwith[0m('store')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L114\app/Services/[1;31mAnalyticsService.php:114:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L115\app/Services/[1;31mAnalyticsService.php:115:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:17[0m]8;;\ - Unable to determine the type that $events is being assigned to (see https://psalm.dev/032)
                [97;41m$events[0m = AnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:27[0m]8;;\ - Magic method App\Models\AnalyticsEvent::oftype does not exist (see https://psalm.dev/219)
                $events = [97;41mAnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L124\app/Services/[1;31mAnalyticsService.php:124:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mrecent[0m($days)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L125\app/Services/[1;31mAnalyticsService.php:125:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L128\app/Services/[1;31mAnalyticsService.php:128:53[0m]8;;\ - Cannot determine the type of $events when calling method count (see https://psalm.dev/015)
                    'total_comparisons' => $events->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:17[0m]8;;\
                [30;47m$events[0m = AnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L129\app/Services/[1;31mAnalyticsService.php:129:51[0m]8;;\ - Cannot determine the type of $events when calling method pluck (see https://psalm.dev/015)
                    'unique_products' => $events->[97;41mpluck[0m('product_id')->unique()->count(),

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:17[0m]8;;\
                [30;47m$events[0m = AnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L129\app/Services/[1;31mAnalyticsService.php:129:72[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    'unique_products' => $events->pluck('product_id')->[97;41munique[0m()->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L129\app/Services/[1;31mAnalyticsService.php:129:82[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    'unique_products' => $events->pluck('product_id')->unique()->[97;41mcount[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L130\app/Services/[1;31mAnalyticsService.php:130:48[0m]8;;\ - Cannot determine the type of $events when calling method pluck (see https://psalm.dev/015)
                    'unique_users' => $events->[97;41mpluck[0m('user_id')->filter()->unique()->count(),

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:17[0m]8;;\
                [30;47m$events[0m = AnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L130\app/Services/[1;31mAnalyticsService.php:130:66[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    'unique_users' => $events->pluck('user_id')->[97;41mfilter[0m()->unique()->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L130\app/Services/[1;31mAnalyticsService.php:130:76[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    'unique_users' => $events->pluck('user_id')->filter()->[97;41munique[0m()->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L130\app/Services/[1;31mAnalyticsService.php:130:86[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    'unique_users' => $events->pluck('user_id')->filter()->unique()->[97;41mcount[0m(),


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L131\app/Services/[1;31mAnalyticsService.php:131:48[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                    'average_per_day' => round([97;41m$events->count()[0m / max($days, 1), 2),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L131\app/Services/[1;31mAnalyticsService.php:131:48[0m]8;;\ - Argument 1 of round cannot be mixed, expecting float|int (see https://psalm.dev/030)
                    'average_per_day' => round([97;41m$events->count() / max($days, 1)[0m, 2),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L131\app/Services/[1;31mAnalyticsService.php:131:57[0m]8;;\ - Cannot determine the type of $events when calling method count (see https://psalm.dev/015)
                    'average_per_day' => round($events->[97;41mcount[0m() / max($days, 1), 2),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L123\app/Services/[1;31mAnalyticsService.php:123:17[0m]8;;\
                [30;47m$events[0m = AnalyticsEvent::ofType(AnalyticsEvent::TYPE_PRICE_COMPARISON)



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L142\app/Services/[1;31mAnalyticsService.php:142:24[0m]8;;\ - Magic method App\Models\AnalyticsEvent::oftype does not exist (see https://psalm.dev/219)
                return [97;41mAnalyticsEvent::ofType($eventType)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L142\app/Services/[1;31mAnalyticsService.php:142:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41mAnalyticsEvent::ofType($eventType)
                    ->where('created_at', '>=', $startDate)
                    ->select(DB::raw('DATE(created_at) as date'), DB::raw('COUNT(*) as count'))
                    ->groupBy('date')
                    ->orderBy('date')
                    ->get()
                    ->pluck('count', 'date')
                    ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L143\app/Services/[1;31mAnalyticsService.php:143:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mwhere[0m('created_at', '>=', $startDate)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L144\app/Services/[1;31mAnalyticsService.php:144:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mselect[0m(DB::raw('DATE(created_at) as date'), DB::raw('COUNT(*) as count'))


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L145\app/Services/[1;31mAnalyticsService.php:145:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mgroupBy[0m('date')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L146\app/Services/[1;31mAnalyticsService.php:146:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morderBy[0m('date')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L147\app/Services/[1;31mAnalyticsService.php:147:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L148\app/Services/[1;31mAnalyticsService.php:148:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mpluck[0m('count', 'date')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L149\app/Services/[1;31mAnalyticsService.php:149:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L159\app/Services/[1;31mAnalyticsService.php:159:17[0m]8;;\ - Unable to determine the type that $count is being assigned to (see https://psalm.dev/032)
                [97;41m$count[0m = AnalyticsEvent::where('created_at', '<', $cutoffDate)->delete();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L159\app/Services/[1;31mAnalyticsService.php:159:26[0m]8;;\ - Magic method App\Models\AnalyticsEvent::where does not exist (see https://psalm.dev/219)
                $count = [97;41mAnalyticsEvent::where('created_at', '<', $cutoffDate)[0m->delete();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L159\app/Services/[1;31mAnalyticsService.php:159:81[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                $count = AnalyticsEvent::where('created_at', '<', $cutoffDate)->[97;41mdelete[0m();


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L166\app/Services/[1;31mAnalyticsService.php:166:24[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                return [97;41m$count[0m;

  The type of $count is sourced from here - ]8;;file:///var/www/html/app/Services/AnalyticsService.php#L159\app/Services/[1;31mAnalyticsService.php:159:17[0m]8;;\
                [30;47m$count[0m = AnalyticsEvent::where('created_at', '<', $cutoffDate)->delete();



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/AuditService.php#L32\app/Services/[1;31mAuditService.php:32:9[0m]8;;\ - Magic method App\Models\AuditLog::create does not exist (see https://psalm.dev/219)
        [97;41mAuditLog::create([
            'event' => $event,
            'auditable_type' => $model::class,
            'auditable_id' => $model->getKey(),
            'user_id' => $user?->id,
            'ip_address' => $request->ip(),
            'user_agent' => $request->userAgent(),
            'old_values' => $oldValues,
            'new_values' => $newValues,
            'metadata' => $metadata,
            'url' => $request->fullUrl(),
            'method' => $request->method(),
        ])[0m;


[0;31mERROR[0m: NoInterfaceProperties - ]8;;file:///var/www/html/app/Services/AuditService.php#L36\app/Services/[1;31mAuditService.php:36:26[0m]8;;\ - Interfaces cannot have properties (see https://psalm.dev/028)
            'user_id' => [97;41m$user?->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L194\app/Services/[1;31mBackupService.php:194:13[0m]8;;\ - Unable to determine the type that $components is being assigned to (see https://psalm.dev/032)
            [97;41m$components[0m = $manifest['components'] ?? [];

  The type of $components is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L511\app/Services/[1;31mBackupService.php:511:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: PossiblyFalseIterator - ]8;;file:///var/www/html/app/Services/BackupService.php#L250\app/Services/[1;31mBackupService.php:250:18[0m]8;;\ - Cannot iterate over falsable var false|list<string> (see https://psalm.dev/164)
        foreach ([97;41m$directories[0m as $directory) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L250\app/Services/[1;31mBackupService.php:250:34[0m]8;;\ - Unable to determine the type that $directory is being assigned to (see https://psalm.dev/032)
        foreach ($directories as [97;41m$directory[0m) {


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BackupService.php#L257\app/Services/[1;31mBackupService.php:257:49[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            $backupPath = $this->backupPath.'/'.[97;41m$directory[0m;

  The type of $directory is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L250\app/Services/[1;31mBackupService.php:250:34[0m]8;;\
        foreach ($directories as [30;47m$directory[0m) {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L261\app/Services/[1;31mBackupService.php:261:17[0m]8;;\ - Unable to determine the type that $components is being assigned to (see https://psalm.dev/032)
                [97;41m$components[0m = $manifest['components'] ?? [];

  The type of $components is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L511\app/Services/[1;31mBackupService.php:511:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L276\app/Services/[1;31mBackupService.php:276:58[0m]8;;\ - Argument 1 of strtotime cannot be mixed, expecting string (see https://psalm.dev/030)
            $timeA = isset($a['created_at']) ? strtotime([97;41m$a['created_at'][0m) : 0;

  The type of $a['created_at'] is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L275\app/Services/[1;31mBackupService.php:275:48[0m]8;;\
        usort($backups, static function (array [30;47m$a[0m, array $b): int {



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L277\app/Services/[1;31mBackupService.php:277:58[0m]8;;\ - Argument 1 of strtotime cannot be mixed, expecting string (see https://psalm.dev/030)
            $timeB = isset($b['created_at']) ? strtotime([97;41m$b['created_at'][0m) : 0;

  The type of $b['created_at'] is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L275\app/Services/[1;31mBackupService.php:275:58[0m]8;;\
        usort($backups, static function (array $a, array [30;47m$b[0m): int {



[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/BackupService.php#L279\app/Services/[1;31mBackupService.php:279:20[0m]8;;\ - Left operand cannot be falsable, got false|int (see https://psalm.dev/162)
            return [97;41m$timeB[0m - $timeA;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/BackupService.php#L279\app/Services/[1;31mBackupService.php:279:29[0m]8;;\ - Right operand cannot be falsable, got false|int (see https://psalm.dev/162)
            return $timeB - [97;41m$timeA[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L323\app/Services/[1;31mBackupService.php:323:13[0m]8;;\ - Unable to determine the type that $createdAtStr is being assigned to (see https://psalm.dev/032)
            [97;41m$createdAtStr[0m = $backup['created_at'] ?? '';

  The type of $createdAtStr is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L238\app/Services/[1;31mBackupService.php:238:16[0m]8;;\
     * @return [30;47mlist<array<string, mixed>>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L327\app/Services/[1;31mBackupService.php:327:17[0m]8;;\ - Unable to determine the type that $backupName is being assigned to (see https://psalm.dev/032)
                [97;41m$backupName[0m = $backup['name'] ?? '';

  The type of $backupName is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L238\app/Services/[1;31mBackupService.php:238:16[0m]8;;\
     * @return [30;47mlist<array<string, mixed>>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L350\app/Services/[1;31mBackupService.php:350:9[0m]8;;\ - Unable to determine the type that $dbConfig is being assigned to (see https://psalm.dev/032)
        [97;41m$dbConfig[0m = config('database.connections.mysql');

  The type of $dbConfig is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L355\app/Services/[1;31mBackupService.php:355:9[0m]8;;\ - Unable to determine the type that $host is being assigned to (see https://psalm.dev/032)
        [97;41m$host[0m = is_string($dbConfigArray['host'] ?? null) ? $dbConfigArray['host'] : 'localhost';

  The type of $host is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L356\app/Services/[1;31mBackupService.php:356:9[0m]8;;\ - Unable to determine the type that $port is being assigned to (see https://psalm.dev/032)
        [97;41m$port[0m = is_string($dbConfigArray['port'] ?? null) ? $dbConfigArray['port'] : '3306';

  The type of $port is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L357\app/Services/[1;31mBackupService.php:357:9[0m]8;;\ - Unable to determine the type that $username is being assigned to (see https://psalm.dev/032)
        [97;41m$username[0m = is_string($dbConfigArray['username'] ?? null) ? $dbConfigArray['username'] : 'root';

  The type of $username is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L358\app/Services/[1;31mBackupService.php:358:9[0m]8;;\ - Unable to determine the type that $password is being assigned to (see https://psalm.dev/032)
        [97;41m$password[0m = is_string($dbConfigArray['password'] ?? null) ? $dbConfigArray['password'] : '';

  The type of $password is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L359\app/Services/[1;31mBackupService.php:359:9[0m]8;;\ - Unable to determine the type that $database is being assigned to (see https://psalm.dev/032)
        [97;41m$database[0m = is_string($dbConfigArray['database'] ?? null) ? $dbConfigArray['database'] : 'database';

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L363\app/Services/[1;31mBackupService.php:363:13[0m]8;;\ - Argument 2 of sprintf cannot be 'localhost'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$host[0m,

  The type of $host is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L364\app/Services/[1;31mBackupService.php:364:13[0m]8;;\ - Argument 3 of sprintf cannot be '3306'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$port[0m,

  The type of $port is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L365\app/Services/[1;31mBackupService.php:365:13[0m]8;;\ - Argument 4 of sprintf cannot be 'root'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$username[0m,

  The type of $username is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L366\app/Services/[1;31mBackupService.php:366:13[0m]8;;\ - Argument 5 of sprintf cannot be ''|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$password[0m,

  The type of $password is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L367\app/Services/[1;31mBackupService.php:367:13[0m]8;;\ - Argument 6 of sprintf cannot be 'database'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$database[0m,

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L470\app/Services/[1;31mBackupService.php:470:42[0m]8;;\ - Argument 2 of file_put_contents cannot be false, possibly array<array-key, string>|resource|string value expected (see https://psalm.dev/104)
        file_put_contents($manifestPath, [97;41mjson_encode($manifest, JSON_PRETTY_PRINT)[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L526\app/Services/[1;31mBackupService.php:526:9[0m]8;;\ - Unable to determine the type that $decoded is being assigned to (see https://psalm.dev/032)
        [97;41m$decoded[0m = json_decode($content, true);

  The type of $decoded is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L1527\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:1527:12[0m]8;;\
 * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L541\app/Services/[1;31mBackupService.php:541:9[0m]8;;\ - Unable to determine the type that $dbConfig is being assigned to (see https://psalm.dev/032)
        [97;41m$dbConfig[0m = config('database.connections.mysql');

  The type of $dbConfig is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L542\app/Services/[1;31mBackupService.php:542:9[0m]8;;\ - Unable to determine the type that $filename is being assigned to (see https://psalm.dev/032)
        [97;41m$filename[0m = $dbInfo['filename'] ?? 'database.sql';

  The type of $filename is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L539\app/Services/[1;31mBackupService.php:539:64[0m]8;;\
    private function restoreDatabase(string $backupPath, array [30;47m$dbInfo[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L550\app/Services/[1;31mBackupService.php:550:9[0m]8;;\ - Unable to determine the type that $host is being assigned to (see https://psalm.dev/032)
        [97;41m$host[0m = is_string($dbConfigArray['host'] ?? null) ? $dbConfigArray['host'] : 'localhost';

  The type of $host is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L551\app/Services/[1;31mBackupService.php:551:9[0m]8;;\ - Unable to determine the type that $port is being assigned to (see https://psalm.dev/032)
        [97;41m$port[0m = is_string($dbConfigArray['port'] ?? null) ? $dbConfigArray['port'] : '3306';

  The type of $port is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L552\app/Services/[1;31mBackupService.php:552:9[0m]8;;\ - Unable to determine the type that $username is being assigned to (see https://psalm.dev/032)
        [97;41m$username[0m = is_string($dbConfigArray['username'] ?? null) ? $dbConfigArray['username'] : 'root';

  The type of $username is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L553\app/Services/[1;31mBackupService.php:553:9[0m]8;;\ - Unable to determine the type that $password is being assigned to (see https://psalm.dev/032)
        [97;41m$password[0m = is_string($dbConfigArray['password'] ?? null) ? $dbConfigArray['password'] : '';

  The type of $password is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L554\app/Services/[1;31mBackupService.php:554:9[0m]8;;\ - Unable to determine the type that $database is being assigned to (see https://psalm.dev/032)
        [97;41m$database[0m = is_string($dbConfigArray['database'] ?? null) ? $dbConfigArray['database'] : 'database';

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L558\app/Services/[1;31mBackupService.php:558:13[0m]8;;\ - Argument 2 of sprintf cannot be 'localhost'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$host[0m,

  The type of $host is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L559\app/Services/[1;31mBackupService.php:559:13[0m]8;;\ - Argument 3 of sprintf cannot be '3306'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$port[0m,

  The type of $port is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L560\app/Services/[1;31mBackupService.php:560:13[0m]8;;\ - Argument 4 of sprintf cannot be 'root'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$username[0m,

  The type of $username is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L561\app/Services/[1;31mBackupService.php:561:13[0m]8;;\ - Argument 5 of sprintf cannot be ''|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$password[0m,

  The type of $password is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/BackupService.php#L562\app/Services/[1;31mBackupService.php:562:13[0m]8;;\ - Argument 6 of sprintf cannot be 'database'|mixed, expecting float|int|object{__tostring()}|string (see https://psalm.dev/030)
            [97;41m$database[0m,

  The type of $database is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L594\app/Services/[1;31mBackupService.php:594:9[0m]8;;\ - Unable to determine the type that $directories is being assigned to (see https://psalm.dev/032)
        [97;41m$directories[0m = $filesInfo['directories'] ?? [];

  The type of $directories is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L584\app/Services/[1;31mBackupService.php:584:61[0m]8;;\
    private function restoreFiles(string $backupPath, array [30;47m$filesInfo[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L596\app/Services/[1;31mBackupService.php:596:38[0m]8;;\ - Unable to determine the type that $dir is being assigned to (see https://psalm.dev/032)
            foreach ($directories as [97;41m$dir[0m) {

  The type of $dir is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L584\app/Services/[1;31mBackupService.php:584:61[0m]8;;\
    private function restoreFiles(string $backupPath, array [30;47m$filesInfo[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L632\app/Services/[1;31mBackupService.php:632:9[0m]8;;\ - Unable to determine the type that $files is being assigned to (see https://psalm.dev/032)
        [97;41m$files[0m = $configInfo['files'] ?? [];

  The type of $files is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L622\app/Services/[1;31mBackupService.php:622:69[0m]8;;\
    private function restoreConfiguration(string $backupPath, array [30;47m$configInfo[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L634\app/Services/[1;31mBackupService.php:634:32[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
            foreach ($files as [97;41m$file[0m) {

  The type of $file is sourced from here - ]8;;file:///var/www/html/app/Services/BackupService.php#L622\app/Services/[1;31mBackupService.php:622:69[0m]8;;\
    private function restoreConfiguration(string $backupPath, array [30;47m$configInfo[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L696\app/Services/[1;31mBackupService.php:696:31[0m]8;;\ - Unable to determine the type that $item is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$item[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L723\app/Services/[1;31mBackupService.php:723:31[0m]8;;\ - Unable to determine the type that $item is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$item[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BackupService.php#L751\app/Services/[1;31mBackupService.php:751:31[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L62\app/Services/[1;31mBehaviorAnalysisService.php:62:34[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
                'total_users' => [97;41mUser::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L64\app/Services/[1;31mBehaviorAnalysisService.php:64:35[0m]8;;\ - Magic method App\Models\Order::count does not exist (see https://psalm.dev/219)
                'total_orders' => [97;41mOrder::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L65\app/Services/[1;31mBehaviorAnalysisService.php:65:36[0m]8;;\ - Magic method App\Models\Order::sum does not exist (see https://psalm.dev/219)
                'total_revenue' => [97;41mOrder::sum('total_amount')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L66\app/Services/[1;31mBehaviorAnalysisService.php:66:42[0m]8;;\ - Magic method App\Models\Order::avg does not exist (see https://psalm.dev/219)
                'average_order_value' => [97;41mOrder::avg('total_amount')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L80\app/Services/[1;31mBehaviorAnalysisService.php:80:16[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        return [97;41mOrder::where('user_id', $user->id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L81\app/Services/[1;31mBehaviorAnalysisService.php:81:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwith[0m(['items.product'])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L82\app/Services/[1;31mBehaviorAnalysisService.php:82:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('created_at', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L83\app/Services/[1;31mBehaviorAnalysisService.php:83:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m(10)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L84\app/Services/[1;31mBehaviorAnalysisService.php:84:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L85\app/Services/[1;31mBehaviorAnalysisService.php:85:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mmap[0m(static function (Order $order): array {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L88\app/Services/[1;31mBehaviorAnalysisService.php:88:39[0m]8;;\ - Magic instance property App\Models\Order::$order_number is not defined (see https://psalm.dev/218)
                    'order_number' => [97;41m$order->order_number[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L89\app/Services/[1;31mBehaviorAnalysisService.php:89:39[0m]8;;\ - Magic instance property App\Models\Order::$total_amount is not defined (see https://psalm.dev/218)
                    'total_amount' => [97;41m$order->total_amount[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L90\app/Services/[1;31mBehaviorAnalysisService.php:90:33[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
                    'status' => [97;41m$order->status[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L91\app/Services/[1;31mBehaviorAnalysisService.php:91:37[0m]8;;\ - Magic instance property App\Models\Order::$created_at is not defined (see https://psalm.dev/218)
                    'created_at' => [97;41m$order->created_at[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L92\app/Services/[1;31mBehaviorAnalysisService.php:92:35[0m]8;;\ - Magic instance property App\Models\Order::$items is not defined (see https://psalm.dev/218)
                    'products' => [97;41m$order->items[0m->map(static function (OrderItem $item): array {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L92\app/Services/[1;31mBehaviorAnalysisService.php:92:50[0m]8;;\ - Cannot determine the type of $order->items when calling method map (see https://psalm.dev/015)
                    'products' => $order->items->[97;41mmap[0m(static function (OrderItem $item): array {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L93\app/Services/[1;31mBehaviorAnalysisService.php:93:25[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
                        [97;41m$product[0m = $item->product;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L93\app/Services/[1;31mBehaviorAnalysisService.php:93:36[0m]8;;\ - Magic instance property App\Models\OrderItem::$product is not defined (see https://psalm.dev/218)
                        $product = [97;41m$item->product[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L96\app/Services/[1;31mBehaviorAnalysisService.php:96:50[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                            'name' => $product ? [97;41m$product->name[0m : '',


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L97\app/Services/[1;31mBehaviorAnalysisService.php:97:40[0m]8;;\ - Magic instance property App\Models\OrderItem::$unit_price is not defined (see https://psalm.dev/218)
                            'price' => [97;41m$item->unit_price[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L98\app/Services/[1;31mBehaviorAnalysisService.php:98:43[0m]8;;\ - Magic instance property App\Models\OrderItem::$quantity is not defined (see https://psalm.dev/218)
                            'quantity' => [97;41m$item->quantity[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L100\app/Services/[1;31mBehaviorAnalysisService.php:100:25[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    })->[97;41mtoArray[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L103\app/Services/[1;31mBehaviorAnalysisService.php:103:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:9[0m]8;;\ - Unable to determine the type that $purchases is being assigned to (see https://psalm.dev/032)
        [97;41m$purchases[0m = OrderItem::whereHas('order', static function ($query) use ($user): void {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:22[0m]8;;\ - Magic method App\Models\OrderItem::wherehas does not exist (see https://psalm.dev/219)
        $purchases = [97;41mOrderItem::whereHas('order', static function ($query) use ($user): void {
            $query->where('user_id', $user->id);
        })[0m


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:68[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
        $purchases = OrderItem::whereHas('order', static function ([97;41m$query[0m) use ($user): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L136\app/Services/[1;31mBehaviorAnalysisService.php:136:21[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
            $query->[97;41mwhere[0m('user_id', $user->id);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:68[0m]8;;\
        $purchases = OrderItem::whereHas('order', static function ([30;47m$query[0m) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L138\app/Services/[1;31mBehaviorAnalysisService.php:138:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwith[0m('product')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L139\app/Services/[1;31mBehaviorAnalysisService.php:139:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L141\app/Services/[1;31mBehaviorAnalysisService.php:141:25[0m]8;;\ - Cannot determine the type of $purchases when calling method isEmpty (see https://psalm.dev/015)
        if ($purchases->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function ($query) use ($user): void {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L145\app/Services/[1;31mBehaviorAnalysisService.php:145:9[0m]8;;\ - Unable to determine the type that $categories is being assigned to (see https://psalm.dev/032)
        [97;41m$categories[0m = $purchases->groupBy(static function (OrderItem $item): int {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L145\app/Services/[1;31mBehaviorAnalysisService.php:145:35[0m]8;;\ - Cannot determine the type of $purchases when calling method groupBy (see https://psalm.dev/015)
        $categories = $purchases->[97;41mgroupBy[0m(static function (OrderItem $item): int {

  The type of groupBy is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function ($query) use ($user): void {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L146\app/Services/[1;31mBehaviorAnalysisService.php:146:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = $item->product;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L146\app/Services/[1;31mBehaviorAnalysisService.php:146:24[0m]8;;\ - Magic instance property App\Models\OrderItem::$product is not defined (see https://psalm.dev/218)
            $product = [97;41m$item->product[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L148\app/Services/[1;31mBehaviorAnalysisService.php:148:20[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
            return [97;41m$product && $product->category_id ? $product->category_id : 0[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L148\app/Services/[1;31mBehaviorAnalysisService.php:148:20[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
            return [97;41m$product && $product->category_id ? $product->category_id : 0[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L148\app/Services/[1;31mBehaviorAnalysisService.php:148:32[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
            return $product && [97;41m$product->category_id[0m ? $product->category_id : 0;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L150\app/Services/[1;31mBehaviorAnalysisService.php:150:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mmap[0m(static function ($items) {


[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L150\app/Services/[1;31mBehaviorAnalysisService.php:150:19[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
            ->map([97;41mstatic function ($items) {[0m


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L150\app/Services/[1;31mBehaviorAnalysisService.php:150:36[0m]8;;\ - Parameter $items has no provided type (see https://psalm.dev/153)
            ->map(static function ([97;41m$items[0m) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L151\app/Services/[1;31mBehaviorAnalysisService.php:151:32[0m]8;;\ - Cannot determine the type of $items when calling method sum (see https://psalm.dev/015)
                return $items->[97;41msum[0m('quantity');

  The type of sum is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L150\app/Services/[1;31mBehaviorAnalysisService.php:150:36[0m]8;;\
            ->map(static function ([30;47m$items[0m) {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L153\app/Services/[1;31mBehaviorAnalysisService.php:153:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41msortDesc[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L154\app/Services/[1;31mBehaviorAnalysisService.php:154:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtake[0m(5);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L156\app/Services/[1;31mBehaviorAnalysisService.php:156:9[0m]8;;\ - Unable to determine the type that $brands is being assigned to (see https://psalm.dev/032)
        [97;41m$brands[0m = $purchases->groupBy(static function (OrderItem $item): int {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L156\app/Services/[1;31mBehaviorAnalysisService.php:156:31[0m]8;;\ - Cannot determine the type of $purchases when calling method groupBy (see https://psalm.dev/015)
        $brands = $purchases->[97;41mgroupBy[0m(static function (OrderItem $item): int {

  The type of groupBy is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function ($query) use ($user): void {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L157\app/Services/[1;31mBehaviorAnalysisService.php:157:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = $item->product;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L157\app/Services/[1;31mBehaviorAnalysisService.php:157:24[0m]8;;\ - Magic instance property App\Models\OrderItem::$product is not defined (see https://psalm.dev/218)
            $product = [97;41m$item->product[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L159\app/Services/[1;31mBehaviorAnalysisService.php:159:20[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
            return [97;41m$product && $product->brand_id ? $product->brand_id : 0[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L159\app/Services/[1;31mBehaviorAnalysisService.php:159:20[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
            return [97;41m$product && $product->brand_id ? $product->brand_id : 0[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L159\app/Services/[1;31mBehaviorAnalysisService.php:159:32[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
            return $product && [97;41m$product->brand_id[0m ? $product->brand_id : 0;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L161\app/Services/[1;31mBehaviorAnalysisService.php:161:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mmap[0m(static function ($items) {


[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L161\app/Services/[1;31mBehaviorAnalysisService.php:161:19[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
            ->map([97;41mstatic function ($items) {[0m


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L161\app/Services/[1;31mBehaviorAnalysisService.php:161:36[0m]8;;\ - Parameter $items has no provided type (see https://psalm.dev/153)
            ->map(static function ([97;41m$items[0m) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L162\app/Services/[1;31mBehaviorAnalysisService.php:162:32[0m]8;;\ - Cannot determine the type of $items when calling method sum (see https://psalm.dev/015)
                return $items->[97;41msum[0m('quantity');

  The type of sum is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L161\app/Services/[1;31mBehaviorAnalysisService.php:161:36[0m]8;;\
            ->map(static function ([30;47m$items[0m) {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L164\app/Services/[1;31mBehaviorAnalysisService.php:164:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41msortDesc[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L165\app/Services/[1;31mBehaviorAnalysisService.php:165:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtake[0m(5);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L167\app/Services/[1;31mBehaviorAnalysisService.php:167:9[0m]8;;\ - Unable to determine the type that $priceRange is being assigned to (see https://psalm.dev/032)
        [97;41m$priceRange[0m = $purchases->map(static function (OrderItem $item) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L167\app/Services/[1;31mBehaviorAnalysisService.php:167:35[0m]8;;\ - Cannot determine the type of $purchases when calling method map (see https://psalm.dev/015)
        $priceRange = $purchases->[97;41mmap[0m(static function (OrderItem $item) {

  The type of map is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L135\app/Services/[1;31mBehaviorAnalysisService.php:135:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function ($query) use ($user): void {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L168\app/Services/[1;31mBehaviorAnalysisService.php:168:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = $item->product;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L168\app/Services/[1;31mBehaviorAnalysisService.php:168:24[0m]8;;\ - Magic instance property App\Models\OrderItem::$product is not defined (see https://psalm.dev/218)
            $product = [97;41m$item->product[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L170\app/Services/[1;31mBehaviorAnalysisService.php:170:31[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
            return $product ? [97;41m$product->price[0m : 0;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L174\app/Services/[1;31mBehaviorAnalysisService.php:174:52[0m]8;;\ - Cannot determine the type of $categories when calling method keys (see https://psalm.dev/015)
            'preferred_categories' => $categories->[97;41mkeys[0m()->toArray(),

  The type of keys is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L145\app/Services/[1;31mBehaviorAnalysisService.php:145:9[0m]8;;\
        [30;47m$categories[0m = $purchases->groupBy(static function (OrderItem $item): int {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L174\app/Services/[1;31mBehaviorAnalysisService.php:174:60[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'preferred_categories' => $categories->keys()->[97;41mtoArray[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L175\app/Services/[1;31mBehaviorAnalysisService.php:175:44[0m]8;;\ - Cannot determine the type of $brands when calling method keys (see https://psalm.dev/015)
            'preferred_brands' => $brands->[97;41mkeys[0m()->toArray(),

  The type of keys is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L156\app/Services/[1;31mBehaviorAnalysisService.php:156:9[0m]8;;\
        [30;47m$brands[0m = $purchases->groupBy(static function (OrderItem $item): int {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L175\app/Services/[1;31mBehaviorAnalysisService.php:175:52[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'preferred_brands' => $brands->keys()->[97;41mtoArray[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L177\app/Services/[1;31mBehaviorAnalysisService.php:177:39[0m]8;;\ - Cannot determine the type of $priceRange when calling method min (see https://psalm.dev/015)
                'min' => $priceRange->[97;41mmin[0m(),

  The type of min is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L167\app/Services/[1;31mBehaviorAnalysisService.php:167:9[0m]8;;\
        [30;47m$priceRange[0m = $purchases->map(static function (OrderItem $item) {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L178\app/Services/[1;31mBehaviorAnalysisService.php:178:39[0m]8;;\ - Cannot determine the type of $priceRange when calling method max (see https://psalm.dev/015)
                'max' => $priceRange->[97;41mmax[0m(),

  The type of max is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L167\app/Services/[1;31mBehaviorAnalysisService.php:167:9[0m]8;;\
        [30;47m$priceRange[0m = $purchases->map(static function (OrderItem $item) {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L179\app/Services/[1;31mBehaviorAnalysisService.php:179:43[0m]8;;\ - Cannot determine the type of $priceRange when calling method avg (see https://psalm.dev/015)
                'average' => $priceRange->[97;41mavg[0m(),

  The type of avg is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L167\app/Services/[1;31mBehaviorAnalysisService.php:167:9[0m]8;;\
        [30;47m$priceRange[0m = $purchases->map(static function (OrderItem $item) {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L206\app/Services/[1;31mBehaviorAnalysisService.php:206:9[0m]8;;\ - Unable to determine the type that $score is being assigned to (see https://psalm.dev/032)
        [97;41m$score[0m += Order::where('user_id', $user->id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L206\app/Services/[1;31mBehaviorAnalysisService.php:206:19[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        $score += [97;41mOrder::where('user_id', $user->id)[0m


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L206\app/Services/[1;31mBehaviorAnalysisService.php:206:19[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
        $score += [97;41mOrder::where('user_id', $user->id)
            ->where('created_at', '>=', now()->subDays(30))
            ->count()[0m * 10;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L206\app/Services/[1;31mBehaviorAnalysisService.php:206:19[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        $score += [97;41mOrder::where('user_id', $user->id)
            ->where('created_at', '>=', now()->subDays(30))
            ->count() * 10[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L207\app/Services/[1;31mBehaviorAnalysisService.php:207:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('created_at', '>=', now()->subDays(30))


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L208\app/Services/[1;31mBehaviorAnalysisService.php:208:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m() * 10;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L210\app/Services/[1;31mBehaviorAnalysisService.php:210:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41mmin($score / 100, 1.0)[0m; // Normalize to 0-1


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L210\app/Services/[1;31mBehaviorAnalysisService.php:210:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mmin($score / 100, 1.0)[0m; // Normalize to 0-1


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L210\app/Services/[1;31mBehaviorAnalysisService.php:210:20[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
        return min([97;41m$score[0m / 100, 1.0); // Normalize to 0-1


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L215\app/Services/[1;31mBehaviorAnalysisService.php:215:9[0m]8;;\ - Unable to determine the type that $sum is being assigned to (see https://psalm.dev/032)
        [97;41m$sum[0m = Order::where('user_id', $user->id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L215\app/Services/[1;31mBehaviorAnalysisService.php:215:16[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        $sum = [97;41mOrder::where('user_id', $user->id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L216\app/Services/[1;31mBehaviorAnalysisService.php:216:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('status', '!=', 'cancelled')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L217\app/Services/[1;31mBehaviorAnalysisService.php:217:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41msum[0m('total_amount');


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L228\app/Services/[1;31mBehaviorAnalysisService.php:228:44[0m]8;;\ - Cannot process numeric types together in strict operands mode, please cast explicitly (see https://psalm.dev/058)
        return ($engagementScore * 0.4) + ([97;41mmin($lifetimeValue / 1000, 1) * 0.3[0m) + (min($purchaseFrequency, 1) * 0.3);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L228\app/Services/[1;31mBehaviorAnalysisService.php:228:48[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        return ($engagementScore * 0.4) + (min([97;41m$lifetimeValue / 1000[0m, 1) * 0.3) + (min($purchaseFrequency, 1) * 0.3);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L228\app/Services/[1;31mBehaviorAnalysisService.php:228:84[0m]8;;\ - Cannot process numeric types together in strict operands mode, please cast explicitly (see https://psalm.dev/058)
        return ($engagementScore * 0.4) + (min($lifetimeValue / 1000, 1) * 0.3) + ([97;41mmin($purchaseFrequency, 1) * 0.3[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L233\app/Services/[1;31mBehaviorAnalysisService.php:233:9[0m]8;;\ - Unable to determine the type that $firstPurchaseValue is being assigned to (see https://psalm.dev/032)
        [97;41m$firstPurchaseValue[0m = Order::where('user_id', $user->id)->min('created_at');


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L233\app/Services/[1;31mBehaviorAnalysisService.php:233:31[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        $firstPurchaseValue = [97;41mOrder::where('user_id', $user->id)[0m->min('created_at');


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L233\app/Services/[1;31mBehaviorAnalysisService.php:233:67[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $firstPurchaseValue = Order::where('user_id', $user->id)->[97;41mmin[0m('created_at');


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L236\app/Services/[1;31mBehaviorAnalysisService.php:236:13[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! $firstPurchase[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L241\app/Services/[1;31mBehaviorAnalysisService.php:241:9[0m]8;;\ - Unable to determine the type that $totalPurchases is being assigned to (see https://psalm.dev/032)
        [97;41m$totalPurchases[0m = Order::where('user_id', $user->id)->count();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L241\app/Services/[1;31mBehaviorAnalysisService.php:241:27[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        $totalPurchases = [97;41mOrder::where('user_id', $user->id)[0m->count();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L241\app/Services/[1;31mBehaviorAnalysisService.php:241:63[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $totalPurchases = Order::where('user_id', $user->id)->[97;41mcount[0m();


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L243\app/Services/[1;31mBehaviorAnalysisService.php:243:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41m$daysSinceFirstPurchase > 0 ? $totalPurchases / $daysSinceFirstPurchase : 0[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L243\app/Services/[1;31mBehaviorAnalysisService.php:243:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$daysSinceFirstPurchase > 0 ? $totalPurchases / $daysSinceFirstPurchase : 0[0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L243\app/Services/[1;31mBehaviorAnalysisService.php:243:46[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
        return $daysSinceFirstPurchase > 0 ? [97;41m$totalPurchases[0m / $daysSinceFirstPurchase : 0;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L248\app/Services/[1;31mBehaviorAnalysisService.php:248:16[0m]8;;\ - Magic method App\Models\User::wherehas does not exist (see https://psalm.dev/219)
        return [97;41mUser::whereHas('orders', static function ($query): void {
            $query->where('created_at', '>=', now()->subDays(30));
        })[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L248\app/Services/[1;31mBehaviorAnalysisService.php:248:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mUser::whereHas('orders', static function ($query): void {
            $query->where('created_at', '>=', now()->subDays(30));
        })
            ->count()[0m;


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L248\app/Services/[1;31mBehaviorAnalysisService.php:248:58[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
        return User::whereHas('orders', static function ([97;41m$query[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L249\app/Services/[1;31mBehaviorAnalysisService.php:249:21[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
            $query->[97;41mwhere[0m('created_at', '>=', now()->subDays(30));

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L248\app/Services/[1;31mBehaviorAnalysisService.php:248:58[0m]8;;\
        return User::whereHas('orders', static function ([30;47m$query[0m): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L251\app/Services/[1;31mBehaviorAnalysisService.php:251:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L262\app/Services/[1;31mBehaviorAnalysisService.php:262:9[0m]8;;\ - Unable to determine the type that $totalPurchases is being assigned to (see https://psalm.dev/032)
        [97;41m$totalPurchases[0m = Order::where('created_at', '>=', now()->subDays(30))->count();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L262\app/Services/[1;31mBehaviorAnalysisService.php:262:27[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        $totalPurchases = [97;41mOrder::where('created_at', '>=', now()->subDays(30))[0m->count();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L262\app/Services/[1;31mBehaviorAnalysisService.php:262:81[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $totalPurchases = Order::where('created_at', '>=', now()->subDays(30))->[97;41mcount[0m();


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L264\app/Services/[1;31mBehaviorAnalysisService.php:264:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41m$totalVisitors > 0 ? $totalPurchases / $totalVisitors * 100 : 0[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L264\app/Services/[1;31mBehaviorAnalysisService.php:264:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$totalVisitors > 0 ? $totalPurchases / $totalVisitors * 100 : 0[0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L264\app/Services/[1;31mBehaviorAnalysisService.php:264:37[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
        return $totalVisitors > 0 ? [97;41m$totalPurchases[0m / $totalVisitors * 100 : 0;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L272\app/Services/[1;31mBehaviorAnalysisService.php:272:9[0m]8;;\ - Unable to determine the type that $query is being assigned to (see https://psalm.dev/032)
        [97;41m$query[0m = Product::withCount([


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L272\app/Services/[1;31mBehaviorAnalysisService.php:272:18[0m]8;;\ - Magic method App\Models\Product::withcount does not exist (see https://psalm.dev/219)
        $query = [97;41mProduct::withCount([
            'orderItems as purchase_count' => static function ($query): void {
                $query->whereHas('order', static function ($q): void {
                    $q->where('created_at', '>=', now()->subDays(30));
                });
            },
        ])[0m;


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L273\app/Services/[1;31mBehaviorAnalysisService.php:273:64[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
            'orderItems as purchase_count' => static function ([97;41m$query[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L274\app/Services/[1;31mBehaviorAnalysisService.php:274:25[0m]8;;\ - Cannot determine the type of $query when calling method whereHas (see https://psalm.dev/015)
                $query->[97;41mwhereHas[0m('order', static function ($q): void {

  The type of whereHas is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L273\app/Services/[1;31mBehaviorAnalysisService.php:273:64[0m]8;;\
            'orderItems as purchase_count' => static function ([30;47m$query[0m): void {



[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L274\app/Services/[1;31mBehaviorAnalysisService.php:274:60[0m]8;;\ - Parameter $q has no provided type (see https://psalm.dev/153)
                $query->whereHas('order', static function ([97;41m$q[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L275\app/Services/[1;31mBehaviorAnalysisService.php:275:25[0m]8;;\ - Cannot determine the type of $q when calling method where (see https://psalm.dev/015)
                    $q->[97;41mwhere[0m('created_at', '>=', now()->subDays(30));

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L274\app/Services/[1;31mBehaviorAnalysisService.php:274:60[0m]8;;\
                $query->whereHas('order', static function ([30;47m$q[0m): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L281\app/Services/[1;31mBehaviorAnalysisService.php:281:24[0m]8;;\ - Cannot determine the type of $query when calling method orderBy (see https://psalm.dev/015)
        return $query->[97;41morderBy[0m('purchase_count', 'desc')

  The type of orderBy is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L272\app/Services/[1;31mBehaviorAnalysisService.php:272:9[0m]8;;\
        [30;47m$query[0m = Product::withCount([



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L282\app/Services/[1;31mBehaviorAnalysisService.php:282:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m(10)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L283\app/Services/[1;31mBehaviorAnalysisService.php:283:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L284\app/Services/[1;31mBehaviorAnalysisService.php:284:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mmap[0m(static function ($product): array {


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L284\app/Services/[1;31mBehaviorAnalysisService.php:284:36[0m]8;;\ - Parameter $product has no provided type (see https://psalm.dev/153)
            ->map(static function ([97;41m$product[0m): array {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L286\app/Services/[1;31mBehaviorAnalysisService.php:286:29[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                    'id' => [97;41m$product->id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L287\app/Services/[1;31mBehaviorAnalysisService.php:287:31[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                    'name' => [97;41m$product->name[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L288\app/Services/[1;31mBehaviorAnalysisService.php:288:41[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                    'purchase_count' => [97;41m$product->purchase_count[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L291\app/Services/[1;31mBehaviorAnalysisService.php:291:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L300\app/Services/[1;31mBehaviorAnalysisService.php:300:29[0m]8;;\ - Magic method App\Models\User::wherehas does not exist (see https://psalm.dev/219)
            'high_value' => [97;41mUser::whereHas('orders', static function ($query): void {
                $query->where('total_amount', '>', 500);
            })[0m->count(),


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L300\app/Services/[1;31mBehaviorAnalysisService.php:300:71[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
            'high_value' => User::whereHas('orders', static function ([97;41m$query[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L301\app/Services/[1;31mBehaviorAnalysisService.php:301:25[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
                $query->[97;41mwhere[0m('total_amount', '>', 500);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L300\app/Services/[1;31mBehaviorAnalysisService.php:300:71[0m]8;;\
            'high_value' => User::whereHas('orders', static function ([30;47m$query[0m): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L302\app/Services/[1;31mBehaviorAnalysisService.php:302:17[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            })->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L303\app/Services/[1;31mBehaviorAnalysisService.php:303:34[0m]8;;\ - Magic method App\Models\User::wherehas does not exist (see https://psalm.dev/219)
            'frequent_buyers' => [97;41mUser::whereHas('orders', static function ($query): void {
                $query->where('created_at', '>=', now()->subDays(30));
            }, '>=', 3)[0m->count(),


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L303\app/Services/[1;31mBehaviorAnalysisService.php:303:76[0m]8;;\ - Parameter $query has no provided type (see https://psalm.dev/153)
            'frequent_buyers' => User::whereHas('orders', static function ([97;41m$query[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L304\app/Services/[1;31mBehaviorAnalysisService.php:304:25[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
                $query->[97;41mwhere[0m('created_at', '>=', now()->subDays(30));

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L303\app/Services/[1;31mBehaviorAnalysisService.php:303:76[0m]8;;\
            'frequent_buyers' => User::whereHas('orders', static function ([30;47m$query[0m): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L305\app/Services/[1;31mBehaviorAnalysisService.php:305:26[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            }, '>=', 3)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L306\app/Services/[1;31mBehaviorAnalysisService.php:306:85[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
            'new_customers' => User::where('created_at', '>=', now()->subDays(30))->[97;41mcount[0m(),


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/BehaviorAnalysisService.php#L322\app/Services/[1;31mBehaviorAnalysisService.php:322:58[0m]8;;\ - Parameter $join has no provided type (see https://psalm.dev/153)
        return $query->join('products', static function ([97;41m$join[0m): void {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L23\app/Services/[1;31mCDNService.php:23:9[0m]8;;\ - Unable to determine the type that $providerValue is being assigned to (see https://psalm.dev/032)
        [97;41m$providerValue[0m = config('cdn.provider', 'cloudflare');

  The type of $providerValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L26\app/Services/[1;31mCDNService.php:26:9[0m]8;;\ - Unable to determine the type that $configValue is being assigned to (see https://psalm.dev/032)
        [97;41m$configValue[0m = config('cdn.providers.'.$this->provider, []);

  The type of $configValue is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L44\app/Services/[1;31mCDNService.php:44:13[0m]8;;\ - Unable to determine the type that $mimeType is being assigned to (see https://psalm.dev/032)
            [97;41m$mimeType[0m = Storage::disk('public')->mimeType($localPath);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///var/www/html/app/Services/CDNService.php#L44\app/Services/[1;31mCDNService.php:44:50[0m]8;;\ - Method Illuminate\Contracts\Filesystem\Filesystem::mimeType does not exist (see https://psalm.dev/181)
            $mimeType = Storage::disk('public')->[97;41mmimeType[0m($localPath);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/CDNService.php#L46\app/Services/[1;31mCDNService.php:46:75[0m]8;;\ - Argument 3 of App\Services\CDNService::uploadToCDN cannot be 'application/octet-stream'|non-empty-mixed, expecting string (see https://psalm.dev/030)
            $result = $this->uploadToCDN($fileContent ?? '', $remotePath, [97;41m$mimeType ? $mimeType : 'application/octet-stream'[0m);

  The type of $mimeType ? $mimeType : 'application/octet-stream' is sourced from here - ]8;;file:///var/www/html/app/Services/CDNService.php#L44\app/Services/[1;31mCDNService.php:44:13[0m]8;;\
            [30;47m$mimeType[0m = Storage::disk('public')->mimeType($localPath);



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L151\app/Services/[1;31mCDNService.php:151:9[0m]8;;\ - Unable to determine the type that $baseUrl is being assigned to (see https://psalm.dev/032)
        [97;41m$baseUrl[0m = $this->config['base_url'] ?? '';


[0;31mERROR[0m: ImplicitToStringCast - ]8;;file:///var/www/html/app/Services/CDNService.php#L242\app/Services/[1;31mCDNService.php:242:53[0m]8;;\ - Right side of concat op expects string, 'Illuminate\Support\Carbon' provided with a __toString method (see https://psalm.dev/060)
            $testContent = 'CDN connection test - '.[97;41mnow()[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L287\app/Services/[1;31mCDNService.php:287:9[0m]8;;\ - Unable to determine the type that $apiToken is being assigned to (see https://psalm.dev/032)
        [97;41m$apiToken[0m = is_string($this->config['api_token'] ?? null) ? $this->config['api_token'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L288\app/Services/[1;31mCDNService.php:288:9[0m]8;;\ - Unable to determine the type that $accountId is being assigned to (see https://psalm.dev/032)
        [97;41m$accountId[0m = is_string($this->config['account_id'] ?? null) ? $this->config['account_id'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L293\app/Services/[1;31mCDNService.php:293:42[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'Authorization' => 'Bearer '.[97;41m$apiToken[0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L295\app/Services/[1;31mCDNService.php:295:66[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        ])->put('https://api.cloudflare.com/client/v4/accounts/'.[97;41m$accountId[0m."/images/v1/{$path}", ['content' => $content]);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L301\app/Services/[1;31mCDNService.php:301:9[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
        [97;41m$data[0m = $response->json() ?? [];

  The type of $data is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L308\app/Services/[1;31mCDNService.php:308:9[0m]8;;\ - Unable to determine the type that $id is being assigned to (see https://psalm.dev/032)
        [97;41m$id[0m = $result['id'] ?? null;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L325\app/Services/[1;31mCDNService.php:325:9[0m]8;;\ - Unable to determine the type that $bucket is being assigned to (see https://psalm.dev/032)
        [97;41m$bucket[0m = is_string($this->config['bucket'] ?? null) ? $this->config['bucket'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L326\app/Services/[1;31mCDNService.php:326:9[0m]8;;\ - Unable to determine the type that $region is being assigned to (see https://psalm.dev/032)
        [97;41m$region[0m = is_string($this->config['region'] ?? null) ? $this->config['region'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L333\app/Services/[1;31mCDNService.php:333:27[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        $url = 'https://'.[97;41m$bucket[0m.'.s3.'.$region.".amazonaws.com/{$path}";


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L333\app/Services/[1;31mCDNService.php:333:42[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        $url = 'https://'.$bucket.'.s3.'.[97;41m$region[0m.".amazonaws.com/{$path}";


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L349\app/Services/[1;31mCDNService.php:349:9[0m]8;;\ - Unable to determine the type that $bucket is being assigned to (see https://psalm.dev/032)
        [97;41m$bucket[0m = is_string($this->config['bucket'] ?? null) ? $this->config['bucket'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L356\app/Services/[1;31mCDNService.php:356:50[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        $url = 'https://storage.googleapis.com/'.[97;41m$bucket[0m."/{$path}";


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L382\app/Services/[1;31mCDNService.php:382:9[0m]8;;\ - Unable to determine the type that $apiToken is being assigned to (see https://psalm.dev/032)
        [97;41m$apiToken[0m = is_string($this->config['api_token'] ?? null) ? $this->config['api_token'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L383\app/Services/[1;31mCDNService.php:383:9[0m]8;;\ - Unable to determine the type that $accountId is being assigned to (see https://psalm.dev/032)
        [97;41m$accountId[0m = is_string($this->config['account_id'] ?? null) ? $this->config['account_id'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L386\app/Services/[1;31mCDNService.php:386:42[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'Authorization' => 'Bearer '.[97;41m$apiToken[0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L387\app/Services/[1;31mCDNService.php:387:69[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        ])->delete('https://api.cloudflare.com/client/v4/accounts/'.[97;41m$accountId[0m."/images/v1/{$path}");


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L434\app/Services/[1;31mCDNService.php:434:9[0m]8;;\ - Unable to determine the type that $apiToken is being assigned to (see https://psalm.dev/032)
        [97;41m$apiToken[0m = is_string($this->config['api_token'] ?? null) ? $this->config['api_token'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L435\app/Services/[1;31mCDNService.php:435:9[0m]8;;\ - Unable to determine the type that $zoneId is being assigned to (see https://psalm.dev/032)
        [97;41m$zoneId[0m = is_string($this->config['zone_id'] ?? null) ? $this->config['zone_id'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L438\app/Services/[1;31mCDNService.php:438:42[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'Authorization' => 'Bearer '.[97;41m$apiToken[0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L440\app/Services/[1;31mCDNService.php:440:64[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        ])->post('https://api.cloudflare.com/client/v4/zones/'.[97;41m$zoneId[0m.'/purge_cache', [


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L469\app/Services/[1;31mCDNService.php:469:9[0m]8;;\ - Unable to determine the type that $apiToken is being assigned to (see https://psalm.dev/032)
        [97;41m$apiToken[0m = is_string($this->config['api_token'] ?? null) ? $this->config['api_token'] : '';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L470\app/Services/[1;31mCDNService.php:470:9[0m]8;;\ - Unable to determine the type that $zoneId is being assigned to (see https://psalm.dev/032)
        [97;41m$zoneId[0m = is_string($this->config['zone_id'] ?? null) ? $this->config['zone_id'] : '';


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L473\app/Services/[1;31mCDNService.php:473:42[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            'Authorization' => 'Bearer '.[97;41m$apiToken[0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/CDNService.php#L474\app/Services/[1;31mCDNService.php:474:63[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        ])->get('https://api.cloudflare.com/client/v4/zones/'.[97;41m$zoneId[0m.'/analytics/dashboard');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CDNService.php#L480\app/Services/[1;31mCDNService.php:480:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = $response->json();

  The type of $result is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Services/CacheService.php#L48\app/Services/[1;31mCacheService.php:48:73[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
                return Cache::tags($tags)->remember($prefixedKey, $ttl, [97;41mstatic function () use ($callback, $key, $tags) {[0m


[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Services/CacheService.php#L56\app/Services/[1;31mCacheService.php:56:56[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
            return Cache::remember($prefixedKey, $ttl, [97;41mstatic function () use ($callback, $key) {[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CacheService.php#L99\app/Services/[1;31mCacheService.php:99:21[0m]8;;\ - Unable to determine the type that $taggedCache is being assigned to (see https://psalm.dev/032)
                    [97;41m$taggedCache[0m = $cache->tags($tags);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/CacheService.php#L120\app/Services/[1;31mCacheService.php:120:9[0m]8;;\ - Unable to determine the type that $driver is being assigned to (see https://psalm.dev/032)
        [97;41m$driver[0m = config('cache.default');

  The type of $driver is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L91\app/Services/[1;31mExchangeRateService.php:91:13[0m]8;;\ - Unable to determine the type that $apiUrl is being assigned to (see https://psalm.dev/032)
            [97;41m$apiUrl[0m = config('coprra.exchange_rate_api_url', 'https://api.exchangerate-api.com/v4/latest/USD');

  The type of $apiUrl is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L92\app/Services/[1;31mExchangeRateService.php:92:13[0m]8;;\ - Unable to determine the type that $apiKey is being assigned to (see https://psalm.dev/032)
            [97;41m$apiKey[0m = config('coprra.exchange_rate_api_key');

  The type of $apiKey is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L96\app/Services/[1;31mExchangeRateService.php:96:17[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                [97;41m$apiUrl[0m .= "?apikey={$apiKey}";

  The type of $apiUrl is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L99\app/Services/[1;31mExchangeRateService.php:99:48[0m]8;;\ - Argument 1 of Illuminate\Http\Client\PendingRequest::get cannot be mixed|string, expecting string (see https://psalm.dev/030)
            $response = Http::timeout(10)->get([97;41m$apiUrl[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L118\app/Services/[1;31mExchangeRateService.php:118:13[0m]8;;\ - Unable to determine the type that $baseCurrency is being assigned to (see https://psalm.dev/032)
            [97;41m$baseCurrency[0m = $data['base'] ?? self::BASE_CURRENCY;

  The type of $baseCurrency is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L119\app/Services/[1;31mExchangeRateService.php:119:13[0m]8;;\ - Unable to determine the type that $rates is being assigned to (see https://psalm.dev/032)
            [97;41m$rates[0m = $data['rates'];

  The type of $rates is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L131\app/Services/[1;31mExchangeRateService.php:131:17[0m]8;;\ - Magic method App\Models\ExchangeRate::updateorcreate does not exist (see https://psalm.dev/219)
                [97;41mExchangeRate::updateOrCreate(
                    [
                        'from_currency' => $baseCurrency,
                        'to_currency' => $currency,
                    ],
                    [
                        'rate' => $rates[$currency],
                        'source' => 'api',
                        'fetched_at' => now(),
                    ]
                )[0m;


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L137\app/Services/[1;31mExchangeRateService.php:137:35[0m]8;;\ - Cannot access array value on mixed variable $rates (see https://psalm.dev/051)
                        'rate' => [97;41m$rates[$currency][0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L144\app/Services/[1;31mExchangeRateService.php:144:17[0m]8;;\ - Magic method App\Models\ExchangeRate::updateorcreate does not exist (see https://psalm.dev/219)
                [97;41mExchangeRate::updateOrCreate(
                    [
                        'from_currency' => $currency,
                        'to_currency' => $baseCurrency,
                    ],
                    [
                        'rate' => 1 / $rates[$currency],
                        'source' => 'api',
                        'fetched_at' => now(),
                    ]
                )[0m;


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L150\app/Services/[1;31mExchangeRateService.php:150:39[0m]8;;\ - Cannot access array value on mixed variable $rates (see https://psalm.dev/051)
                        'rate' => 1 / [97;41m$rates[$currency][0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L150\app/Services/[1;31mExchangeRateService.php:150:39[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                        'rate' => 1 / [97;41m$rates[$currency][0m,


[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L177\app/Services/[1;31mExchangeRateService.php:177:47[0m]8;;\ - Param fromCurrency is never referenced in this method (see https://psalm.dev/135)
    private function fetchAndStoreRate(string [97;41m$fromCurrency[0m, string $toCurrency): void


[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L177\app/Services/[1;31mExchangeRateService.php:177:69[0m]8;;\ - Param toCurrency is never referenced in this method (see https://psalm.dev/135)
    private function fetchAndStoreRate(string $fromCurrency, string [97;41m$toCurrency[0m): void


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L188\app/Services/[1;31mExchangeRateService.php:188:9[0m]8;;\ - Unable to determine the type that $rates is being assigned to (see https://psalm.dev/032)
        [97;41m$rates[0m = config('coprra.exchange_rates', []);

  The type of $rates is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L190\app/Services/[1;31mExchangeRateService.php:190:9[0m]8;;\ - Unable to determine the type that $fromRate is being assigned to (see https://psalm.dev/032)
        [97;41m$fromRate[0m = $rates[$fromCurrency] ?? 1.0;

  The type of $fromRate is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L190\app/Services/[1;31mExchangeRateService.php:190:21[0m]8;;\ - Cannot access array value on mixed variable $rates (see https://psalm.dev/051)
        $fromRate = [97;41m$rates[$fromCurrency][0m ?? 1.0;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L191\app/Services/[1;31mExchangeRateService.php:191:9[0m]8;;\ - Unable to determine the type that $toRate is being assigned to (see https://psalm.dev/032)
        [97;41m$toRate[0m = $rates[$toCurrency] ?? 1.0;

  The type of $toRate is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L191\app/Services/[1;31mExchangeRateService.php:191:19[0m]8;;\ - Cannot access array value on mixed variable $rates (see https://psalm.dev/051)
        $toRate = [97;41m$rates[$toCurrency][0m ?? 1.0;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L194\app/Services/[1;31mExchangeRateService.php:194:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$toRate / $fromRate[0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L194\app/Services/[1;31mExchangeRateService.php:194:26[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        return $toRate / [97;41m$fromRate[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L203\app/Services/[1;31mExchangeRateService.php:203:9[0m]8;;\ - Unable to determine the type that $rates is being assigned to (see https://psalm.dev/032)
        [97;41m$rates[0m = config('coprra.exchange_rates', []);

  The type of $rates is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L205\app/Services/[1;31mExchangeRateService.php:205:28[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
        foreach ($rates as [97;41m$currency[0m => $rate) {

  The type of $currency is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L205\app/Services/[1;31mExchangeRateService.php:205:41[0m]8;;\ - Unable to determine the type that $rate is being assigned to (see https://psalm.dev/032)
        foreach ($rates as $currency => [97;41m$rate[0m) {

  The type of $rate is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L210\app/Services/[1;31mExchangeRateService.php:210:13[0m]8;;\ - Magic method App\Models\ExchangeRate::updateorcreate does not exist (see https://psalm.dev/219)
            [97;41mExchangeRate::updateOrCreate(
                [
                    'from_currency' => self::BASE_CURRENCY,
                    'to_currency' => $currency,
                ],
                [
                    'rate' => $rate,
                    'source' => 'config',
                    'fetched_at' => now(),
                ]
            )[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L223\app/Services/[1;31mExchangeRateService.php:223:13[0m]8;;\ - Magic method App\Models\ExchangeRate::updateorcreate does not exist (see https://psalm.dev/219)
            [97;41mExchangeRate::updateOrCreate(
                [
                    'from_currency' => $currency,
                    'to_currency' => self::BASE_CURRENCY,
                ],
                [
                    'rate' => 1 / $rate,
                    'source' => 'config',
                    'fetched_at' => now(),
                ]
            )[0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ExchangeRateService.php#L229\app/Services/[1;31mExchangeRateService.php:229:35[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    'rate' => 1 / [97;41m$rate[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L23\app/Services/[1;31mExternalStoreService.php:23:9[0m]8;;\ - Unable to determine the type that $config is being assigned to (see https://psalm.dev/032)
        [97;41m$config[0m = Config::get('external_stores');


[0;31mERROR[0m: UnusedForeachValue - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L37\app/Services/[1;31mExternalStoreService.php:37:55[0m]8;;\ - $config is never referenced or the value is not used (see https://psalm.dev/275)
        foreach ($this->storeConfigs as $storeName => [97;41m$config[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L59\app/Services/[1;31mExternalStoreService.php:59:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = Cache::remember($cacheKey, 3600, function () use ($storeName, $productId) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L80\app/Services/[1;31mExternalStoreService.php:80:21[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
                    [97;41m$data[0m = $response->json();

  The type of $data is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L142\app/Services/[1;31mExternalStoreService.php:142:21[0m]8;;\ - Unable to determine the type that $products is being assigned to (see https://psalm.dev/032)
                    [97;41m$products[0m = $data['products'] ?? [];

  The type of $products is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L145\app/Services/[1;31mExternalStoreService.php:145:47[0m]8;;\ - Unable to determine the type that $productData is being assigned to (see https://psalm.dev/032)
                        foreach ($products as [97;41m$productData[0m) {

  The type of $productData is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L146\app/Services/[1;31mExternalStoreService.php:146:48[0m]8;;\ - Argument 1 of App\Services\ExternalStoreService::syncProduct cannot be mixed, expecting array<string, mixed> (see https://psalm.dev/030)
                            $this->syncProduct([97;41m$productData[0m, $storeName);

  The type of $productData is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L252\app/Services/[1;31mExternalStoreService.php:252:48[0m]8;;\ - Argument 1 of App\Services\ExternalStoreService::normalizeProductData cannot be mixed, expecting array<string, mixed> (see https://psalm.dev/030)
            return $this->normalizeProductData([97;41m$product[0m, $storeName);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L263\app/Services/[1;31mExternalStoreService.php:263:15[0m]8;;\ - Type array<string, mixed> for $productData is always !array<array-key, mixed> (see https://psalm.dev/056)
        if (! [97;41mis_array($productData)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L293\app/Services/[1;31mExternalStoreService.php:293:9[0m]8;;\ - Unable to determine the type that $sortBy is being assigned to (see https://psalm.dev/032)
        [97;41m$sortBy[0m = $filters['sort_by'] ?? null;

  The type of $sortBy is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L290\app/Services/[1;31mExternalStoreService.php:290:65[0m]8;;\
    private function sortAndFilterResults(array $results, array [30;47m$filters[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L296\app/Services/[1;31mExternalStoreService.php:296:17[0m]8;;\ - Unable to determine the type that $priceA is being assigned to (see https://psalm.dev/032)
                [97;41m$priceA[0m = $a['price'] ?? 0;

  The type of $priceA is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L295\app/Services/[1;31mExternalStoreService.php:295:52[0m]8;;\
            usort($results, static function (array [30;47m$a[0m, array $b): int {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L297\app/Services/[1;31mExternalStoreService.php:297:17[0m]8;;\ - Unable to determine the type that $priceB is being assigned to (see https://psalm.dev/032)
                [97;41m$priceB[0m = $b['price'] ?? 0;

  The type of $priceB is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L295\app/Services/[1;31mExternalStoreService.php:295:62[0m]8;;\
            usort($results, static function (array $a, array [30;47m$b[0m): int {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L304\app/Services/[1;31mExternalStoreService.php:304:9[0m]8;;\ - Unable to determine the type that $minPrice is being assigned to (see https://psalm.dev/032)
        [97;41m$minPrice[0m = $filters['min_price'] ?? null;

  The type of $minPrice is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L290\app/Services/[1;31mExternalStoreService.php:290:65[0m]8;;\
    private function sortAndFilterResults(array $results, array [30;47m$filters[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L307\app/Services/[1;31mExternalStoreService.php:307:17[0m]8;;\ - Unable to determine the type that $price is being assigned to (see https://psalm.dev/032)
                [97;41m$price[0m = $product['price'] ?? 0;

  The type of $price is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L306\app/Services/[1;31mExternalStoreService.php:306:70[0m]8;;\
            $results = array_filter($results, static function (array [30;47m$product[0m) use ($minPrice): bool {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L313\app/Services/[1;31mExternalStoreService.php:313:9[0m]8;;\ - Unable to determine the type that $maxPrice is being assigned to (see https://psalm.dev/032)
        [97;41m$maxPrice[0m = $filters['max_price'] ?? null;

  The type of $maxPrice is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L290\app/Services/[1;31mExternalStoreService.php:290:65[0m]8;;\
    private function sortAndFilterResults(array $results, array [30;47m$filters[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L316\app/Services/[1;31mExternalStoreService.php:316:17[0m]8;;\ - Unable to determine the type that $price is being assigned to (see https://psalm.dev/032)
                [97;41m$price[0m = $product['price'] ?? 0;

  The type of $price is sourced from here - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L315\app/Services/[1;31mExternalStoreService.php:315:70[0m]8;;\
            $results = array_filter($results, static function (array [30;47m$product[0m) use ($maxPrice): bool {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L333\app/Services/[1;31mExternalStoreService.php:333:9[0m]8;;\ - Unable to determine the type that $store is being assigned to (see https://psalm.dev/032)
        [97;41m$store[0m = Store::firstOrCreate(


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L333\app/Services/[1;31mExternalStoreService.php:333:18[0m]8;;\ - Magic method App\Models\Store::firstorcreate does not exist (see https://psalm.dev/219)
        $store = [97;41mStore::firstOrCreate(
            ['name' => $storeName],
            ['is_active' => true, 'api_config' => Config::get("external_stores.{$storeName}")]
        )[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L339\app/Services/[1;31mExternalStoreService.php:339:9[0m]8;;\ - Magic method App\Models\Product::updateorcreate does not exist (see https://psalm.dev/219)
        [97;41mProduct::updateOrCreate(
            [
                'external_id' => $normalizedData['external_id'],
                'store_id' => $store->id,
            ],
            [
                'name' => $normalizedData['name'],
                'description' => $normalizedData['description'],
                'price' => $normalizedData['price'],
                'currency' => $normalizedData['currency'],
                'image' => $normalizedData['image_url'],
                'rating' => $normalizedData['rating'],
                'reviews_count' => $normalizedData['reviews_count'],
                'is_active' => true,
                'external_data' => $normalizedData,
            ]
        )[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ExternalStoreService.php#L342\app/Services/[1;31mExternalStoreService.php:342:31[0m]8;;\ - Cannot fetch property on mixed var $store (see https://psalm.dev/034)
                'store_id' => [97;41m$store->id[0m,


[0;31mERROR[0m: InvalidStringClass - ]8;;file:///var/www/html/app/Services/FactoryConfigurationService.php#L16\app/Services/[1;31mFactoryConfigurationService.php:16:9[0m]8;;\ - String cannot be used as a class (see https://psalm.dev/160)
        [97;41m$factoryClass::guessFactoryNamesUsing(
            static fn (string $modelName): string => 'Database\\Factories\\'.class_basename($modelName).'Factory'
        )[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L22\app/Services/[1;31mFileCleanupService.php:22:9[0m]8;;\ - Unable to determine the type that $config is being assigned to (see https://psalm.dev/032)
        [97;41m$config[0m = config('file_cleanup', [

  The type of $config is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L59\app/Services/[1;31mFileCleanupService.php:59:21[0m]8;;\ - Unable to determine the type that $retentionDaysValue is being assigned to (see https://psalm.dev/032)
                    [97;41m$retentionDaysValue[0m = $this->config['temp_files_retention_days'] ?? 7;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L94\app/Services/[1;31mFileCleanupService.php:94:13[0m]8;;\ - Unable to determine the type that $retentionDaysValue is being assigned to (see https://psalm.dev/032)
            [97;41m$retentionDaysValue[0m = $this->config['log_files_retention_days'] ?? 30;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L109\app/Services/[1;31mFileCleanupService.php:109:57[0m]8;;\ - Right operand cannot be falsable, got false|int (see https://psalm.dev/162)
                            $results['deleted_size'] += [97;41m$size[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L148\app/Services/[1;31mFileCleanupService.php:148:21[0m]8;;\ - Unable to determine the type that $retentionDaysValue is being assigned to (see https://psalm.dev/032)
                    [97;41m$retentionDaysValue[0m = $this->config['cache_files_retention_days'] ?? 14;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L157\app/Services/[1;31mFileCleanupService.php:157:13[0m]8;;\ - Class, interface or enum named Artisan does not exist (see https://psalm.dev/019)
            [97;41m\Artisan[0m::call('cache:clear');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L188\app/Services/[1;31mFileCleanupService.php:188:13[0m]8;;\ - Unable to determine the type that $retentionDaysValue is being assigned to (see https://psalm.dev/032)
            [97;41m$retentionDaysValue[0m = $this->config['backup_files_retention_days'] ?? 90;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L272\app/Services/[1;31mFileCleanupService.php:272:17[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                [97;41m$results['total_size_deleted'] += (float) $value['deleted_size'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L291\app/Services/[1;31mFileCleanupService.php:291:9[0m]8;;\ - Unable to determine the type that $maxSizeValue is being assigned to (see https://psalm.dev/032)
        [97;41m$maxSizeValue[0m = $this->config['max_storage_size_mb'] ?? 1024;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L293\app/Services/[1;31mFileCleanupService.php:293:20[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $maxSize = [97;41m$maxSizeMb * 1024[0m * 1024; // Convert to bytes


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L296\app/Services/[1;31mFileCleanupService.php:296:40[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'current_size_mb' => round([97;41m$totalSize / 1024 / 1024[0m, 2),


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L298\app/Services/[1;31mFileCleanupService.php:298:41[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'usage_percentage' => round([97;41m$totalSize / $maxSize[0m * 100, 2),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L326\app/Services/[1;31mFileCleanupService.php:326:9[0m]8;;\ - Unable to determine the type that $schedule is being assigned to (see https://psalm.dev/032)
        [97;41m$schedule[0m = $this->config['cleanup_schedule'] ?? 'daily';


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L331\app/Services/[1;31mFileCleanupService.php:331:17[0m]8;;\ - Class, interface or enum named Artisan does not exist (see https://psalm.dev/019)
                [97;41m\Artisan[0m::call('schedule:run');


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L335\app/Services/[1;31mFileCleanupService.php:335:21[0m]8;;\ - Class, interface or enum named Artisan does not exist (see https://psalm.dev/019)
                    [97;41m\Artisan[0m::call('schedule:run');


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L362\app/Services/[1;31mFileCleanupService.php:362:31[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FileCleanupService.php#L393\app/Services/[1;31mFileCleanupService.php:393:31[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L22\app/Services/[1;31mFinancialTransactionService.php:22:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($product, $newPrice, $reason): true {
            try {
                $oldPrice = $product->price;

                // Validate price
                if ($newPrice < 0) {
                    throw new Exception('Price cannot be negative');
                }

                if ($newPrice > 1000000) {
                    throw new Exception('Price exceeds maximum allowed value');
                }

                // Update product price
                $product->update(['price' => $newPrice]);

                // Log the transaction
                $this->auditService->logUpdated($product, ['price' => $oldPrice], [
                    'reason' => $reason,
                    'old_price' => $oldPrice,
                    'new_price' => $newPrice,
                    'price_change' => (float) $newPrice - (float) $oldPrice,
                    'percentage_change' => (float) $oldPrice > 0 ? ((float) $newPrice - (float) $oldPrice) / (float) $oldPrice * 100 : 0,
                ]);

                // Check for price alerts
                $this->checkPriceAlerts();

                Log::info('Product price updated successfully', [
                    'product_id' => $product->id,
                    'old_price' => $oldPrice,
                    'new_price' => $newPrice,
                    'reason' => $reason,
                ]);

                return true;
            } catch (Exception $e) {
                Log::error('Failed to update product price', [
                    'product_id' => $product->id,
                    'new_price' => $newPrice,
                    'error' => $e->getMessage(),
                    'trace' => $e->getTraceAsString(),
                ]);

                throw $e;
            }
        })[0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L43\app/Services/[1;31mFinancialTransactionService.php:43:39[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
                    'price_change' => [97;41m(float) $newPrice[0m - (float) $oldPrice,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L44\app/Services/[1;31mFinancialTransactionService.php:44:68[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                    'percentage_change' => (float) $oldPrice > 0 ? [97;41m((float) $newPrice - (float) $oldPrice) / (float) $oldPrice * 100[0m : 0,


[0;31mERROR[0m: RedundantCast - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L44\app/Services/[1;31mFinancialTransactionService.php:44:69[0m]8;;\ - Redundant cast to float (see https://psalm.dev/262)
                    'percentage_change' => (float) $oldPrice > 0 ? ([97;41m(float) $newPrice[0m - (float) $oldPrice) / (float) $oldPrice * 100 : 0,


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L81\app/Services/[1;31mFinancialTransactionService.php:81:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($offerData) {
            try {
                // Validate offer data
                $this->validateOfferData($offerData);

                // Create price offer
                $offer = PriceOffer::create($offerData);

                // Log the transaction
                $this->auditService->logCreated($offer, [
                    'product_id' => $offer->product_id,
                    'store_id' => $offer->store_id,
                    'price' => $offer->price,
                ]);

                // Update product price if this is the lowest offer
                $this->updateProductPriceIfNeeded($offer);

                Log::info('Price offer created successfully', [
                    'offer_id' => $offer->id,
                    'product_id' => $offer->product_id,
                    'store_id' => $offer->store_id,
                    'price' => $offer->price,
                ]);

                return $offer;
            } catch (Exception $e) {
                Log::error('Failed to create price offer', [
                    'offer_data' => $offerData,
                    'error' => $e->getMessage(),
                    'trace' => $e->getTraceAsString(),
                ]);

                throw $e;
            }
        })[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L87\app/Services/[1;31mFinancialTransactionService.php:87:17[0m]8;;\ - Unable to determine the type that $offer is being assigned to (see https://psalm.dev/032)
                [97;41m$offer[0m = PriceOffer::create($offerData);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L87\app/Services/[1;31mFinancialTransactionService.php:87:26[0m]8;;\ - Magic method App\Models\PriceOffer::create does not exist (see https://psalm.dev/219)
                $offer = [97;41mPriceOffer::create($offerData)[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L90\app/Services/[1;31mFinancialTransactionService.php:90:49[0m]8;;\ - Argument 1 of App\Services\AuditService::logCreated cannot be mixed, expecting Illuminate\Database\Eloquent\Model (see https://psalm.dev/030)
                $this->auditService->logCreated([97;41m$offer[0m, [

  The type of $offer is sourced from here - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L87\app/Services/[1;31mFinancialTransactionService.php:87:17[0m]8;;\
                [30;47m$offer[0m = PriceOffer::create($offerData);



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L91\app/Services/[1;31mFinancialTransactionService.php:91:37[0m]8;;\ - Cannot fetch property on mixed var $offer (see https://psalm.dev/034)
                    'product_id' => [97;41m$offer->product_id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L92\app/Services/[1;31mFinancialTransactionService.php:92:35[0m]8;;\ - Cannot fetch property on mixed var $offer (see https://psalm.dev/034)
                    'store_id' => [97;41m$offer->store_id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L93\app/Services/[1;31mFinancialTransactionService.php:93:32[0m]8;;\ - Cannot fetch property on mixed var $offer (see https://psalm.dev/034)
                    'price' => [97;41m$offer->price[0m,


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L97\app/Services/[1;31mFinancialTransactionService.php:97:51[0m]8;;\ - Argument 1 of App\Services\FinancialTransactionService::updateProductPriceIfNeeded expects App\Models\PriceOffer, but parent type Illuminate\Database\Eloquent\Model provided (see https://psalm.dev/193)
                $this->updateProductPriceIfNeeded([97;41m$offer[0m);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L100\app/Services/[1;31mFinancialTransactionService.php:100:35[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$id is not defined (see https://psalm.dev/218)
                    'offer_id' => [97;41m$offer->id[0m,


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L126\app/Services/[1;31mFinancialTransactionService.php:126:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($offer, $updateData): true {
            try {
                $oldData = $offer->toArray();

                // Validate update data
                if (isset($updateData['price'])) {
                    $price = is_numeric($updateData['price']) ? (float) $updateData['price'] : 0.0;
                    $this->validatePrice($price);
                }

                // Update offer
                $offer->update($updateData);

                // Log the transaction
                /** @var array<string, mixed> $oldData */
                $this->auditService->logUpdated($offer, $oldData, [
                    'changes' => $offer->getChanges(),
                ]);

                // Update product price if needed
                $this->updateProductPriceIfNeeded($offer);

                Log::info('Price offer updated successfully', [
                    'offer_id' => $offer->id,
                    'changes' => $offer->getChanges(),
                ]);

                return true;
            } catch (Exception $e) {
                Log::error('Failed to update price offer', [
                    'offer_id' => $offer->id,
                    'update_data' => $updateData,
                    'error' => $e->getMessage(),
                    'trace' => $e->getTraceAsString(),
                ]);

                throw $e;
            }
        })[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L172\app/Services/[1;31mFinancialTransactionService.php:172:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($offer): true {
            try {
                $product = $offer->product;
                $wasLowestPrice = $this->isLowestPriceOffer($offer);

                // Delete offer
                $offer->delete();

                // Log the transaction
                $this->auditService->logDeleted($offer, [
                    'product_id' => $product->id,
                    'was_lowest_price' => $wasLowestPrice,
                ]);

                // Update product price if this was the lowest offer
                if ($wasLowestPrice && $product) {
                    $this->updateProductPriceFromOffers($product);
                }

                Log::info('Price offer deleted successfully', [
                    'offer_id' => $offer->id,
                    'product_id' => $product->id,
                ]);

                return true;
            } catch (Exception $e) {
                Log::error('Failed to delete price offer', [
                    'offer_id' => $offer->id,
                    'error' => $e->getMessage(),
                    'trace' => $e->getTraceAsString(),
                ]);

                throw $e;
            }
        })[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L187\app/Services/[1;31mFinancialTransactionService.php:187:21[0m]8;;\ - Docblock-defined type App\Models\Product for $product is never falsy (see https://psalm.dev/156)
                if ([97;41m$wasLowestPrice && $product[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L187\app/Services/[1;31mFinancialTransactionService.php:187:40[0m]8;;\ - Operand of type App\Models\Product is always truthy (see https://psalm.dev/156)
                if ($wasLowestPrice && [97;41m$product[0m) {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L224\app/Services/[1;31mFinancialTransactionService.php:224:15[0m]8;;\ - Magic method App\Models\Product::find does not exist (see https://psalm.dev/219)
        if (! [97;41mProduct::find($data['product_id'])[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L248\app/Services/[1;31mFinancialTransactionService.php:248:9[0m]8;;\ - Unable to determine the type that $lowestOffer is being assigned to (see https://psalm.dev/032)
        [97;41m$lowestOffer[0m = PriceOffer::where('product_id', $offer->product_id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L248\app/Services/[1;31mFinancialTransactionService.php:248:24[0m]8;;\ - Magic method App\Models\PriceOffer::where does not exist (see https://psalm.dev/219)
        $lowestOffer = [97;41mPriceOffer::where('product_id', $offer->product_id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L249\app/Services/[1;31mFinancialTransactionService.php:249:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_available', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L250\app/Services/[1;31mFinancialTransactionService.php:250:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('price')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L251\app/Services/[1;31mFinancialTransactionService.php:251:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L253\app/Services/[1;31mFinancialTransactionService.php:253:32[0m]8;;\ - Cannot fetch property on mixed var $lowestOffer (see https://psalm.dev/034)
        return $lowestOffer && [97;41m$lowestOffer->id[0m === $offer->id;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L261\app/Services/[1;31mFinancialTransactionService.php:261:9[0m]8;;\ - Unable to determine the type that $lowestOffer is being assigned to (see https://psalm.dev/032)
        [97;41m$lowestOffer[0m = PriceOffer::where('product_id', $offer->product_id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L261\app/Services/[1;31mFinancialTransactionService.php:261:24[0m]8;;\ - Magic method App\Models\PriceOffer::where does not exist (see https://psalm.dev/219)
        $lowestOffer = [97;41mPriceOffer::where('product_id', $offer->product_id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L262\app/Services/[1;31mFinancialTransactionService.php:262:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_available', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L263\app/Services/[1;31mFinancialTransactionService.php:263:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('price')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L264\app/Services/[1;31mFinancialTransactionService.php:264:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L266\app/Services/[1;31mFinancialTransactionService.php:266:13[0m]8;;\ - Docblock-defined type App\Models\Product for $offer->product is always App\Models\Product (see https://psalm.dev/156)
        if ([97;41m$lowestOffer && $offer->product instanceof \App\Models\Product[0m && $lowestOffer->price !== $offer->product->price) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L266\app/Services/[1;31mFinancialTransactionService.php:266:79[0m]8;;\ - Cannot fetch property on mixed var $lowestOffer (see https://psalm.dev/034)
        if ($lowestOffer && $offer->product instanceof \App\Models\Product && [97;41m$lowestOffer->price[0m !== $offer->product->price) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L276\app/Services/[1;31mFinancialTransactionService.php:276:9[0m]8;;\ - Unable to determine the type that $lowestOffer is being assigned to (see https://psalm.dev/032)
        [97;41m$lowestOffer[0m = PriceOffer::where('product_id', $product->id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L276\app/Services/[1;31mFinancialTransactionService.php:276:24[0m]8;;\ - Magic method App\Models\PriceOffer::where does not exist (see https://psalm.dev/219)
        $lowestOffer = [97;41mPriceOffer::where('product_id', $product->id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L277\app/Services/[1;31mFinancialTransactionService.php:277:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_available', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L278\app/Services/[1;31mFinancialTransactionService.php:278:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('price')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L279\app/Services/[1;31mFinancialTransactionService.php:279:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mfirst[0m();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/FinancialTransactionService.php#L282\app/Services/[1;31mFinancialTransactionService.php:282:57[0m]8;;\ - Cannot fetch property on mixed var $lowestOffer (see https://psalm.dev/034)
            $this->updateProductPrice($product, (float) [97;41m$lowestOffer->price[0m, 'Updated from remaining offers');


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L34\app/Services/[1;31mImageOptimizationService.php:34:21[0m]8;;\ - Docblock-defined type array{0: int, 1: int} for $dimensions is always array<array-key, mixed> (see https://psalm.dev/155)
                if ([97;41m! is_array($dimensions)[0m || count($dimensions) < 2) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L34\app/Services/[1;31mImageOptimizationService.php:34:48[0m]8;;\ - Docblock-defined type array{0: int, 1: int} for $dimensions is always has-at-least-2 (see https://psalm.dev/155)
                if (! is_array($dimensions) || [97;41mcount($dimensions) < 2[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L38\app/Services/[1;31mImageOptimizationService.php:38:26[0m]8;;\ - Type int for $dimensions[0] is always int (see https://psalm.dev/122)
                $width = [97;41mis_int($dimensions[0])[0m ? $dimensions[0] : (int) $dimensions[0];


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L38\app/Services/[1;31mImageOptimizationService.php:38:68[0m]8;;\ - Type int for $dimensions[0] is always !int (see https://psalm.dev/056)
                $width = is_int($dimensions[0]) ? $dimensions[0] : [97;41m(int) $dimensions[0][0m;


[0;31mERROR[0m: InvalidCast - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L38\app/Services/[1;31mImageOptimizationService.php:38:74[0m]8;;\ - never cannot be cast to int (see https://psalm.dev/103)
                $width = is_int($dimensions[0]) ? $dimensions[0] : (int) [97;41m$dimensions[0][0m;


[0;31mERROR[0m: RedundantCondition - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L39\app/Services/[1;31mImageOptimizationService.php:39:27[0m]8;;\ - Type int for $dimensions[1] is always int (see https://psalm.dev/122)
                $height = [97;41mis_int($dimensions[1])[0m ? $dimensions[1] : (int) $dimensions[1];


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L39\app/Services/[1;31mImageOptimizationService.php:39:69[0m]8;;\ - Type int for $dimensions[1] is always !int (see https://psalm.dev/056)
                $height = is_int($dimensions[1]) ? $dimensions[1] : [97;41m(int) $dimensions[1][0m;


[0;31mERROR[0m: InvalidCast - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L39\app/Services/[1;31mImageOptimizationService.php:39:75[0m]8;;\ - never cannot be cast to int (see https://psalm.dev/103)
                $height = is_int($dimensions[1]) ? $dimensions[1] : (int) [97;41m$dimensions[1][0m;


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L41\app/Services/[1;31mImageOptimizationService.php:41:70[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
                $optimizedPath = $this->generateOptimizedPath($path, [97;41m(string) $sizeName[0m);


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L58\app/Services/[1;31mImageOptimizationService.php:58:34[0m]8;;\ - Redundant cast to string given docblock-provided type (see https://psalm.dev/263)
                $optimizedImages[[97;41m(string) $sizeName[0m] = [


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L84\app/Services/[1;31mImageOptimizationService.php:84:17[0m]8;;\ - Unable to determine the type that $url is being assigned to (see https://psalm.dev/032)
                [97;41m$url[0m = $image['url'] ?? '';

  The type of $url is sourced from here - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L83\app/Services/[1;31mImageOptimizationService.php:83:42[0m]8;;\
            ->map(static function (array [30;47m$image[0m): string {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L85\app/Services/[1;31mImageOptimizationService.php:85:17[0m]8;;\ - Unable to determine the type that $width is being assigned to (see https://psalm.dev/032)
                [97;41m$width[0m = $image['width'] ?? '';

  The type of $width is sourced from here - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L83\app/Services/[1;31mImageOptimizationService.php:83:42[0m]8;;\
            ->map(static function (array [30;47m$image[0m): string {



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L102\app/Services/[1;31mImageOptimizationService.php:102:13[0m]8;;\ - Docblock-defined type array<string, mixed> for $optimizedImages['medium'] is always array<array-key, mixed> (see https://psalm.dev/156)
        if ([97;41misset($optimizedImages['medium']) && is_array($optimizedImages['medium'])[0m) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L102\app/Services/[1;31mImageOptimizationService.php:102:50[0m]8;;\ - Docblock-defined type array<string, mixed> for $optimizedImages['medium'] is always array<array-key, mixed> (see https://psalm.dev/156)
        if (isset($optimizedImages['medium']) && [97;41mis_array($optimizedImages['medium'])[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L103\app/Services/[1;31mImageOptimizationService.php:103:13[0m]8;;\ - Unable to determine the type that $mediumUrl is being assigned to (see https://psalm.dev/032)
            [97;41m$mediumUrl[0m = $optimizedImages['medium']['url'] ?? Storage::url($originalPath);

  The type of $mediumUrl is sourced from here - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L15\app/Services/[1;31mImageOptimizationService.php:15:16[0m]8;;\
     * @return [30;47marray<string, array<string, mixed>>[0m



[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L117\app/Services/[1;31mImageOptimizationService.php:117:23[0m]8;;\ - Docblock-defined type string for $key is always string (see https://psalm.dev/155)
                if (! [97;41mis_string($key)[0m) {


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L164\app/Services/[1;31mImageOptimizationService.php:164:20[0m]8;;\ - Docblock-defined type Intervention\Image\Image for $encoded is never string (see https://psalm.dev/155)
            return [97;41mis_string($encoded)[0m ? $encoded : '';


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/ImageOptimizationService.php#L164\app/Services/[1;31mImageOptimizationService.php:164:53[0m]8;;\ - Docblock-defined type Intervention\Image\Image for $encoded is never string (see https://psalm.dev/156)
            return is_string($encoded) ? $encoded : [97;41m''[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/LoginAttemptService.php#L67\app/Services/[1;31mLoginAttemptService.php:67:9[0m]8;;\ - Unable to determine the type that $attempts is being assigned to (see https://psalm.dev/032)
        [97;41m$attempts[0m = Cache::get($key, []);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/LoginAttemptService.php#L90\app/Services/[1;31mLoginAttemptService.php:90:9[0m]8;;\ - Unable to determine the type that $attempts is being assigned to (see https://psalm.dev/032)
        [97;41m$attempts[0m = Cache::get($key, []);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L28\app/Services/[1;31mNotificationService.php:28:13[0m]8;;\ - Unable to determine the type that $priceAlerts is being assigned to (see https://psalm.dev/032)
            [97;41m$priceAlerts[0m = PriceAlert::where('product_id', $product->id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L28\app/Services/[1;31mNotificationService.php:28:28[0m]8;;\ - Magic method App\Models\PriceAlert::where does not exist (see https://psalm.dev/219)
            $priceAlerts = [97;41mPriceAlert::where('product_id', $product->id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L29\app/Services/[1;31mNotificationService.php:29:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L30\app/Services/[1;31mNotificationService.php:30:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mwith[0m('user')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L31\app/Services/[1;31mNotificationService.php:31:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mget[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L33\app/Services/[1;31mNotificationService.php:33:38[0m]8;;\ - Unable to determine the type that $alert is being assigned to (see https://psalm.dev/032)
            foreach ($priceAlerts as [97;41m$alert[0m) {

  The type of $alert is sourced from here - ]8;;file:///var/www/html/app/Services/NotificationService.php#L28\app/Services/[1;31mNotificationService.php:28:13[0m]8;;\
            [30;47m$priceAlerts[0m = PriceAlert::where('product_id', $product->id)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L34\app/Services/[1;31mNotificationService.php:34:17[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
                [97;41m$user[0m = $alert->user;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L34\app/Services/[1;31mNotificationService.php:34:25[0m]8;;\ - Cannot fetch property on mixed var $alert (see https://psalm.dev/034)
                $user = [97;41m$alert->user[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L38\app/Services/[1;31mNotificationService.php:38:93[0m]8;;\ - Cannot fetch property on mixed var $alert (see https://psalm.dev/034)
                    $user->notify(new PriceDropNotification($product, $oldPrice, $newPrice, [97;41m$alert->target_price[0m));


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/NotificationService.php#L38\app/Services/[1;31mNotificationService.php:38:93[0m]8;;\ - Argument 4 of App\Notifications\PriceDropNotification::__construct cannot be mixed, expecting float (see https://psalm.dev/030)
                    $user->notify(new PriceDropNotification($product, $oldPrice, $newPrice, [97;41m$alert->target_price[0m));


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L54\app/Services/[1;31mNotificationService.php:54:49[0m]8;;\ - Cannot determine the type of $priceAlerts when calling method count (see https://psalm.dev/015)
                'alerts_count' => $priceAlerts->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/NotificationService.php#L28\app/Services/[1;31mNotificationService.php:28:13[0m]8;;\
            [30;47m$priceAlerts[0m = PriceAlert::where('product_id', $product->id)



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L71\app/Services/[1;31mNotificationService.php:71:54[0m]8;;\ - Magic method App\Models\User::get does not exist (see https://psalm.dev/219)
            $admins = User::where('is_admin', true)->[97;41mget[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L74\app/Services/[1;31mNotificationService.php:74:25[0m]8;;\ - Magic method Illuminate\Database\Eloquent\Model::notify does not exist (see https://psalm.dev/219)
                $admin->[97;41mnotify[0m(new ProductAddedNotification($product));


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L96\app/Services/[1;31mNotificationService.php:96:13[0m]8;;\ - Unable to determine the type that $store is being assigned to (see https://psalm.dev/032)
            [97;41m$store[0m = $product->store;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L96\app/Services/[1;31mNotificationService.php:96:22[0m]8;;\ - Magic instance property App\Models\Product::$store is not defined (see https://psalm.dev/218)
            $store = [97;41m$product->store[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L98\app/Services/[1;31mNotificationService.php:98:33[0m]8;;\ - Cannot fetch property on mixed var $store (see https://psalm.dev/034)
            if ($store && isset([97;41m$store->contact_email[0m)) {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L104\app/Services/[1;31mNotificationService.php:104:54[0m]8;;\ - Magic method App\Models\User::get does not exist (see https://psalm.dev/219)
            $admins = User::where('is_admin', true)->[97;41mget[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L106\app/Services/[1;31mNotificationService.php:106:25[0m]8;;\ - Magic method Illuminate\Database\Eloquent\Model::notify does not exist (see https://psalm.dev/219)
                $admin->[97;41mnotify[0m(new ReviewNotification($product, $reviewer, $rating));


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L130\app/Services/[1;31mNotificationService.php:130:13[0m]8;;\ - Unable to determine the type that $users is being assigned to (see https://psalm.dev/032)
            [97;41m$users[0m = $userIds === [] ? User::all() : User::whereIn('id', $userIds)->get();

  The type of $users is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php#L766\vendor/laravel/framework/src/Illuminate/Database/Eloquent/[1;31mModel.php:766:16[0m]8;;\
     * @return [30;47m\Illuminate\Database\Eloquent\Collection<int, static>[0m



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L130\app/Services/[1;31mNotificationService.php:130:54[0m]8;;\ - Magic method App\Models\User::wherein does not exist (see https://psalm.dev/219)
            $users = $userIds === [] ? User::all() : [97;41mUser::whereIn('id', $userIds)[0m->get();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L130\app/Services/[1;31mNotificationService.php:130:85[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            $users = $userIds === [] ? User::all() : User::whereIn('id', $userIds)->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L132\app/Services/[1;31mNotificationService.php:132:22[0m]8;;\ - Cannot determine the type of $users when calling method getIterator (see https://psalm.dev/015)
            foreach ([97;41m$users[0m as $user) {

  The type of $users is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php#L766\vendor/laravel/framework/src/Illuminate/Database/Eloquent/[1;31mModel.php:766:16[0m]8;;\
     * @return [30;47m\Illuminate\Database\Eloquent\Collection<int, static>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L132\app/Services/[1;31mNotificationService.php:132:32[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
            foreach ($users as [97;41m$user[0m) {

  The type of $user is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php#L766\vendor/laravel/framework/src/Illuminate/Database/Eloquent/[1;31mModel.php:766:16[0m]8;;\
     * @return [30;47m\Illuminate\Database\Eloquent\Collection<int, static>[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L133\app/Services/[1;31mNotificationService.php:133:24[0m]8;;\ - Cannot determine the type of $user when calling method notify (see https://psalm.dev/015)
                $user->[97;41mnotify[0m(new SystemNotification($title, $message));

  The type of notify is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php#L766\vendor/laravel/framework/src/Illuminate/Database/Eloquent/[1;31mModel.php:766:16[0m]8;;\
     * @return [30;47m\Illuminate\Database\Eloquent\Collection<int, static>[0m



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L138\app/Services/[1;31mNotificationService.php:138:42[0m]8;;\ - Cannot determine the type of $users when calling method count (see https://psalm.dev/015)
                'users_count' => $users->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php#L766\vendor/laravel/framework/src/Illuminate/Database/Eloquent/[1;31mModel.php:766:16[0m]8;;\
     * @return [30;47m\Illuminate\Database\Eloquent\Collection<int, static>[0m



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/NotificationService.php#L178\app/Services/[1;31mNotificationService.php:178:17[0m]8;;\ - Docblock-defined type App\Models\User for $user is always App\Models\User (see https://psalm.dev/156)
            if ([97;41m$user instanceof \App\Models\User[0m && $user->email) {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/NotificationService.php#L187\app/Services/[1;31mNotificationService.php:187:30[0m]8;;\ - Docblock-defined type App\Models\User for $user is always App\Models\User (see https://psalm.dev/156)
                'user_id' => [97;41m$user instanceof \App\Models\User[0m ? $user->id : null,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L204\app/Services/[1;31mNotificationService.php:204:13[0m]8;;\ - Unable to determine the type that $alerts is being assigned to (see https://psalm.dev/032)
            [97;41m$alerts[0m = PriceAlert::where('user_id', $user->id)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L204\app/Services/[1;31mNotificationService.php:204:23[0m]8;;\ - Magic method App\Models\PriceAlert::where does not exist (see https://psalm.dev/219)
            $alerts = [97;41mPriceAlert::where('user_id', $user->id)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L205\app/Services/[1;31mNotificationService.php:205:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L206\app/Services/[1;31mNotificationService.php:206:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mwith[0m('product')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L207\app/Services/[1;31mNotificationService.php:207:19[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L209\app/Services/[1;31mNotificationService.php:209:26[0m]8;;\ - Cannot determine the type of $alerts when calling method isEmpty (see https://psalm.dev/015)
            if ($alerts->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Services/NotificationService.php#L204\app/Services/[1;31mNotificationService.php:204:13[0m]8;;\
            [30;47m$alerts[0m = PriceAlert::where('user_id', $user->id)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L214\app/Services/[1;31mNotificationService.php:214:33[0m]8;;\ - Unable to determine the type that $alert is being assigned to (see https://psalm.dev/032)
            foreach ($alerts as [97;41m$alert[0m) {

  The type of $alert is sourced from here - ]8;;file:///var/www/html/app/Services/NotificationService.php#L204\app/Services/[1;31mNotificationService.php:204:13[0m]8;;\
            [30;47m$alerts[0m = PriceAlert::where('user_id', $user->id)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L215\app/Services/[1;31mNotificationService.php:215:17[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
                [97;41m$product[0m = $alert->product;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L215\app/Services/[1;31mNotificationService.php:215:28[0m]8;;\ - Cannot fetch property on mixed var $alert (see https://psalm.dev/034)
                $product = [97;41m$alert->product[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L216\app/Services/[1;31mNotificationService.php:216:17[0m]8;;\ - Unable to determine the type that $todayOffers is being assigned to (see https://psalm.dev/032)
                [97;41m$todayOffers[0m = $product instanceof \App\Models\Product ? $product->priceOffers()


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/NotificationService.php#L217\app/Services/[1;31mNotificationService.php:217:23[0m]8;;\ - Magic method Illuminate\Database\Eloquent\Relations\HasMany::wheredate does not exist (see https://psalm.dev/219)
                    ->[97;41mwhereDate[0m('created_at', today())


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L218\app/Services/[1;31mNotificationService.php:218:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morderBy[0m('price')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L219\app/Services/[1;31mNotificationService.php:219:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mfirst[0m() : null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/NotificationService.php#L221\app/Services/[1;31mNotificationService.php:221:21[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                if ([97;41m$todayOffers[0m) {


[0;31mERROR[0m: PossiblyUndefinedVariable - ]8;;file:///var/www/html/app/Services/NotificationService.php#L222\app/Services/[1;31mNotificationService.php:222:21[0m]8;;\ - Possibly undefined variable $priceChanges, first seen on line 222 (see https://psalm.dev/018)
                    [97;41m$priceChanges[0m[] = [


[0;31mERROR[0m: MixedArrayAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L222\app/Services/[1;31mNotificationService.php:222:21[0m]8;;\ - Cannot access array value on mixed variable $priceChanges (see https://psalm.dev/117)
                    [97;41m$priceChanges[][0m = [


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L224\app/Services/[1;31mNotificationService.php:224:44[0m]8;;\ - Cannot fetch property on mixed var $todayOffers (see https://psalm.dev/034)
                        'current_price' => [97;41m$todayOffers->price[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L225\app/Services/[1;31mNotificationService.php:225:43[0m]8;;\ - Cannot fetch property on mixed var $alert (see https://psalm.dev/034)
                        'target_price' => [97;41m$alert->target_price[0m,


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/NotificationService.php#L226\app/Services/[1;31mNotificationService.php:226:38[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                        'savings' => [97;41m$todayOffers->price[0m - $alert->target_price,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/NotificationService.php#L244\app/Services/[1;31mNotificationService.php:244:13[0m]8;;\ - Unable to determine the type that $notification is being assigned to (see https://psalm.dev/032)
            [97;41m$notification[0m = $user->notifications()->find($notificationId);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L244\app/Services/[1;31mNotificationService.php:244:53[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            $notification = $user->notifications()->[97;41mfind[0m($notificationId);

  The type of find is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Notifications/HasDatabaseNotifications.php#L12\vendor/laravel/framework/src/Illuminate/Notifications/[1;31mHasDatabaseNotifications.php:12:21[0m]8;;\
    public function [30;47mnotifications[0m()



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/NotificationService.php#L246\app/Services/[1;31mNotificationService.php:246:36[0m]8;;\ - Cannot fetch property on mixed var $notification (see https://psalm.dev/034)
            if ($notification && ! [97;41m$notification->read_at[0m) {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/NotificationService.php#L247\app/Services/[1;31mNotificationService.php:247:32[0m]8;;\ - Cannot determine the type of $notification when calling method markAsRead (see https://psalm.dev/015)
                $notification->[97;41mmarkAsRead[0m();

  The type of markAsRead is sourced from here - ]8;;file:///var/www/html/app/Services/NotificationService.php#L244\app/Services/[1;31mNotificationService.php:244:13[0m]8;;\
            [30;47m$notification[0m = $user->notifications()->find($notificationId);



[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L34\app/Services/[1;31mOptimizedQueryService.php:34:16[0m]8;;\ - The declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Services\OptimizedQueryService::getProductsWithDetails is more specific than the inferred return type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' (see https://psalm.dev/197)
     * @return [97;41mLengthAwarePaginator<int, Product>[0m Paginated collection of products with relationships


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L47\app/Services/[1;31mOptimizedQueryService.php:47:31[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                            ->[97;41mwhere[0m('is_approved', true);


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L97\app/Services/[1;31mOptimizedQueryService.php:97:16[0m]8;;\ - The type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' is more general than the declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Services\OptimizedQueryService::getProductsWithDetails (see https://psalm.dev/197)
        return [97;41m$query->paginate($perPage)[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L117\app/Services/[1;31mOptimizedQueryService.php:117:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41mwhere[0m('is_approved', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L118\app/Services/[1;31mOptimizedQueryService.php:118:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41morderBy[0m('created_at', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L119\app/Services/[1;31mOptimizedQueryService.php:119:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41mlimit[0m(10); // Limit reviews for performance


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L126\app/Services/[1;31mOptimizedQueryService.php:126:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41morderBy[0m('price', 'asc');


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L154\app/Services/[1;31mOptimizedQueryService.php:154:27[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                        ->[97;41mselect[0m('id', 'order_id', 'product_id', 'quantity', 'price');


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L244\app/Services/[1;31mOptimizedQueryService.php:244:52[0m]8;;\ - Parameter $join has no provided type (see https://psalm.dev/153)
            ->leftJoin('reviews', static function ([97;41m$join[0m): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L245\app/Services/[1;31mOptimizedQueryService.php:245:24[0m]8;;\ - Cannot determine the type of $join when calling method on (see https://psalm.dev/015)
                $join->[97;41mon[0m('products.id', '=', 'reviews.product_id')

  The type of on is sourced from here - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L244\app/Services/[1;31mOptimizedQueryService.php:244:52[0m]8;;\
            ->leftJoin('reviews', static function ([30;47m$join[0m): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L246\app/Services/[1;31mOptimizedQueryService.php:246:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41mwhere[0m('reviews.is_approved', '=', true);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L265\app/Services/[1;31mOptimizedQueryService.php:265:16[0m]8;;\ - Magic method App\Models\Product::wherein does not exist (see https://psalm.dev/219)
        return [97;41mProduct::whereIn('id', $productIds)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L265\app/Services/[1;31mOptimizedQueryService.php:265:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mProduct::whereIn('id', $productIds)
            ->update([
                'is_active' => $isActive,
                'updated_at' => now(),
            ])[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L266\app/Services/[1;31mOptimizedQueryService.php:266:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mupdate[0m([


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L275\app/Services/[1;31mOptimizedQueryService.php:275:16[0m]8;;\ - The declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Services\OptimizedQueryService::getProductsByCategory is more specific than the inferred return type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' (see https://psalm.dev/197)
     * @return [97;41mLengthAwarePaginator<int, Product>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L279\app/Services/[1;31mOptimizedQueryService.php:279:16[0m]8;;\ - The type 'Illuminate\Pagination\LengthAwarePaginator<array-key, mixed>' is more general than the declared return type 'Illuminate\Pagination\LengthAwarePaginator<int, App\Models\Product>' for App\Services\OptimizedQueryService::getProductsByCategory (see https://psalm.dev/197)
        return [97;41mProduct::with(['brand:id,name'])
            ->select([
                'id',
                'name',
                'price',
                'brand_id',
                'description',
                'created_at',
            ])
            ->where('category_id', $categoryId)
            ->where('is_active', true)
            ->orderBy('created_at', 'desc')
            ->paginate($perPage)[0m;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L310\app/Services/[1;31mOptimizedQueryService.php:310:21[0m]8;;\ - Argument 1 of Illuminate\Database\Eloquent\Builder::where expects Closure(Illuminate\Database\Eloquent\Builder<Illuminate\Database\Eloquent\Model>):mixed|Illuminate\Contracts\Database\Query\Expression|array<array-key, mixed>|string, but pure-Closure(static):void provided (see https://psalm.dev/004)
            ->where([97;41mstatic function ($q) use ($query): void {
                $q->where('name', 'LIKE', "%{$query}%")
                    ->orWhere('description', 'LIKE', "%{$query}%");
            }[0m)


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L311\app/Services/[1;31mOptimizedQueryService.php:311:21[0m]8;;\ - Method App\Services\OptimizedQueryService::where does not exist (see https://psalm.dev/022)
                $q->[97;41mwhere[0m('name', 'LIKE', "%{$query}%")


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OptimizedQueryService.php#L312\app/Services/[1;31mOptimizedQueryService.php:312:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morWhere[0m('description', 'LIKE', "%{$query}%");


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/OrderService.php#L28\app/Services/[1;31mOrderService.php:28:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($user, $cartItems, $addresses) {
            $order = Order::create([
                'order_number' => $this->generateOrderNumber(),
                'user_id' => $user->id,
                'status' => 'pending',
                'subtotal' => $this->calculateSubtotal($cartItems),
                'tax_amount' => $this->calculateTax($cartItems),
                'shipping_amount' => $this->calculateShipping($cartItems),
                'total_amount' => 0, // Will be calculated
                'currency' => 'USD',
                'shipping_address' => $addresses['shipping'],
                'billing_address' => $addresses['billing'],
            ]);

            $totalAmount = $order->subtotal + $order->tax_amount + $order->shipping_amount;
            $order->update(['total_amount' => $totalAmount]);

            foreach ($cartItems as $item) {
                $productId = $item['product_id'] ?? null;
                if (! is_numeric($productId)) {
                    continue;
                }

                $product = Product::findOrFail((int) $productId);
                $quantity = $item['quantity'] ?? 1;
                if (! is_numeric($quantity)) {
                    $quantity = 1;
                }

                OrderItem::create([
                    'order_id' => $order->id,
                    'product_id' => $product->id,
                    'quantity' => (int) $quantity,
                    'unit_price' => $product->price,
                    'total_price' => (float) $product->price * (int) $quantity,
                    'product_details' => [
                        'name' => $product->name,
                        'sku' => $product->sku ?? '',
                        'image' => $product->image ?? '',
                    ],
                ]);
            }

            return $order;
        })[0m;


[0;31mERROR[0m: MissingClosureReturnType - ]8;;file:///var/www/html/app/Services/OrderService.php#L28\app/Services/[1;31mOrderService.php:28:32[0m]8;;\ - Closure does not have a return type, expecting mixed (see https://psalm.dev/068)
        return DB::transaction([97;41mfunction () use ($user, $cartItems, $addresses) {[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L29\app/Services/[1;31mOrderService.php:29:13[0m]8;;\ - Unable to determine the type that $order is being assigned to (see https://psalm.dev/032)
            [97;41m$order[0m = Order::create([


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L29\app/Services/[1;31mOrderService.php:29:22[0m]8;;\ - Magic method App\Models\Order::create does not exist (see https://psalm.dev/219)
            $order = [97;41mOrder::create([
                'order_number' => $this->generateOrderNumber(),
                'user_id' => $user->id,
                'status' => 'pending',
                'subtotal' => $this->calculateSubtotal($cartItems),
                'tax_amount' => $this->calculateTax($cartItems),
                'shipping_amount' => $this->calculateShipping($cartItems),
                'total_amount' => 0, // Will be calculated
                'currency' => 'USD',
                'shipping_address' => $addresses['shipping'],
                'billing_address' => $addresses['billing'],
            ])[0m;


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/OrderService.php#L33\app/Services/[1;31mOrderService.php:33:56[0m]8;;\ - Argument 1 of App\Services\OrderService::calculateSubtotal expects array<int, array{product_id: int, quantity: int}>, but parent type array<int, array<string, mixed>> provided (see https://psalm.dev/193)
                'subtotal' => $this->calculateSubtotal([97;41m$cartItems[0m),


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/OrderService.php#L34\app/Services/[1;31mOrderService.php:34:53[0m]8;;\ - Argument 1 of App\Services\OrderService::calculateTax expects array<int, array{product_id: int, quantity: int}>, but parent type array<int, array<string, mixed>> provided (see https://psalm.dev/193)
                'tax_amount' => $this->calculateTax([97;41m$cartItems[0m),


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/OrderService.php#L35\app/Services/[1;31mOrderService.php:35:63[0m]8;;\ - Argument 1 of App\Services\OrderService::calculateShipping expects array<int, array{product_id: int, quantity: int}>, but parent type array<int, array<string, mixed>> provided (see https://psalm.dev/193)
                'shipping_amount' => $this->calculateShipping([97;41m$cartItems[0m),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:13[0m]8;;\ - Unable to determine the type that $totalAmount is being assigned to (see https://psalm.dev/032)
            [97;41m$totalAmount[0m = $order->subtotal + $order->tax_amount + $order->shipping_amount;

  The type of $totalAmount is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:28[0m]8;;\
            $totalAmount = [30;47m$order->subtotal + $order->tax_amount[0m + $order->shipping_amount;



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:28[0m]8;;\ - Cannot fetch property on mixed var $order (see https://psalm.dev/034)
            $totalAmount = [97;41m$order->subtotal[0m + $order->tax_amount + $order->shipping_amount;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:28[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            $totalAmount = [97;41m$order->subtotal[0m + $order->tax_amount + $order->shipping_amount;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:47[0m]8;;\ - Cannot fetch property on mixed var $order (see https://psalm.dev/034)
            $totalAmount = $order->subtotal + [97;41m$order->tax_amount[0m + $order->shipping_amount;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L42\app/Services/[1;31mOrderService.php:42:68[0m]8;;\ - Cannot fetch property on mixed var $order (see https://psalm.dev/034)
            $totalAmount = $order->subtotal + $order->tax_amount + [97;41m$order->shipping_amount[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L43\app/Services/[1;31mOrderService.php:43:21[0m]8;;\ - Cannot determine the type of $order when calling method update (see https://psalm.dev/015)
            $order->[97;41mupdate[0m(['total_amount' => $totalAmount]);

  The type of update is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L29\app/Services/[1;31mOrderService.php:29:13[0m]8;;\
            [30;47m$order[0m = Order::create([



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L51\app/Services/[1;31mOrderService.php:51:17[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
                [97;41m$product[0m = Product::findOrFail((int) $productId);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L51\app/Services/[1;31mOrderService.php:51:28[0m]8;;\ - Magic method App\Models\Product::findorfail does not exist (see https://psalm.dev/219)
                $product = [97;41mProduct::findOrFail((int) $productId)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L52\app/Services/[1;31mOrderService.php:52:17[0m]8;;\ - Unable to determine the type that $quantity is being assigned to (see https://psalm.dev/032)
                [97;41m$quantity[0m = $item['quantity'] ?? 1;

  The type of $quantity is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L28\app/Services/[1;31mOrderService.php:28:56[0m]8;;\
        return DB::transaction(function () use ($user, [30;47m$cartItems[0m, $addresses) {



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L57\app/Services/[1;31mOrderService.php:57:17[0m]8;;\ - Magic method App\Models\OrderItem::create does not exist (see https://psalm.dev/219)
                [97;41mOrderItem::create([
                    'order_id' => $order->id,
                    'product_id' => $product->id,
                    'quantity' => (int) $quantity,
                    'unit_price' => $product->price,
                    'total_price' => (float) $product->price * (int) $quantity,
                    'product_details' => [
                        'name' => $product->name,
                        'sku' => $product->sku ?? '',
                        'image' => $product->image ?? '',
                    ],
                ])[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L58\app/Services/[1;31mOrderService.php:58:35[0m]8;;\ - Cannot fetch property on mixed var $order (see https://psalm.dev/034)
                    'order_id' => [97;41m$order->id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L59\app/Services/[1;31mOrderService.php:59:37[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                    'product_id' => [97;41m$product->id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L61\app/Services/[1;31mOrderService.php:61:37[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                    'unit_price' => [97;41m$product->price[0m,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/OrderService.php#L62\app/Services/[1;31mOrderService.php:62:38[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                    'total_price' => [97;41m(float) $product->price * (int) $quantity[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L64\app/Services/[1;31mOrderService.php:64:35[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                        'name' => [97;41m$product->name[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L65\app/Services/[1;31mOrderService.php:65:34[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                        'sku' => [97;41m$product->sku[0m ?? '',


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L66\app/Services/[1;31mOrderService.php:66:36[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                        'image' => [97;41m$product->image[0m ?? '',


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L81\app/Services/[1;31mOrderService.php:81:9[0m]8;;\ - Unable to determine the type that $oldStatus is being assigned to (see https://psalm.dev/032)
        [97;41m$oldStatus[0m = $order->status;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L81\app/Services/[1;31mOrderService.php:81:22[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
        $oldStatus = [97;41m$order->status[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L84\app/Services/[1;31mOrderService.php:84:27[0m]8;;\ - Cannot determine the type of $oldStatus when calling method canTransitionTo (see https://psalm.dev/015)
        if (! $oldStatus->[97;41mcanTransitionTo[0m($newStatus)) {

  The type of canTransitionTo is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L81\app/Services/[1;31mOrderService.php:81:9[0m]8;;\
        [30;47m$oldStatus[0m = $order->status;



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/OrderService.php#L100\app/Services/[1;31mOrderService.php:100:50[0m]8;;\ - Argument 2 of App\Events\OrderStatusChanged::__construct cannot be mixed, expecting App\Enums\OrderStatus (see https://psalm.dev/030)
            event(new OrderStatusChanged($order, [97;41m$oldStatus[0m, $newStatus));

  The type of $oldStatus is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L81\app/Services/[1;31mOrderService.php:81:9[0m]8;;\
        [30;47m$oldStatus[0m = $order->status;



[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L108\app/Services/[1;31mOrderService.php:108:24[0m]8;;\ - Magic instance property App\Models\Order::$status is not defined (see https://psalm.dev/218)
        if (! in_array([97;41m$order->status[0m, ['pending', 'processing'])) {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L114\app/Services/[1;31mOrderService.php:114:24[0m]8;;\ - Magic instance property App\Models\Order::$notes is not defined (see https://psalm.dev/218)
            'notes' => [97;41m$order->notes[0m . "\nCancelled: " . ($reason ?? 'No reason provided'),


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/OrderService.php#L114\app/Services/[1;31mOrderService.php:114:24[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'notes' => [97;41m$order->notes[0m . "\nCancelled: " . ($reason ?? 'No reason provided'),


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L118\app/Services/[1;31mOrderService.php:118:18[0m]8;;\ - Magic instance property App\Models\Order::$items is not defined (see https://psalm.dev/218)
        foreach ([97;41m$order->items[0m as $item) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L118\app/Services/[1;31mOrderService.php:118:35[0m]8;;\ - Unable to determine the type that $item is being assigned to (see https://psalm.dev/032)
        foreach ($order->items as [97;41m$item[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L119\app/Services/[1;31mOrderService.php:119:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = $item->product;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L119\app/Services/[1;31mOrderService.php:119:24[0m]8;;\ - Cannot fetch property on mixed var $item (see https://psalm.dev/034)
            $product = [97;41m$item->product[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L120\app/Services/[1;31mOrderService.php:120:23[0m]8;;\ - Cannot determine the type of $product when calling method increment (see https://psalm.dev/015)
            $product->[97;41mincrement[0m('stock', $item->quantity);

  The type of increment is sourced from here - ]8;;file:///var/www/html/app/Services/OrderService.php#L119\app/Services/[1;31mOrderService.php:119:13[0m]8;;\
            [30;47m$product[0m = $item->product;



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L120\app/Services/[1;31mOrderService.php:120:42[0m]8;;\ - Cannot fetch property on mixed var $item (see https://psalm.dev/034)
            $product->increment('stock', [97;41m$item->quantity[0m);


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/OrderService.php#L131\app/Services/[1;31mOrderService.php:131:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$user->orders()
            ->with(['items.product', 'payments'])
            ->orderBy('created_at', 'desc')
            ->limit($limit)
            ->get()[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L133\app/Services/[1;31mOrderService.php:133:15[0m]8;;\ - Magic method Illuminate\Database\Eloquent\Relations\HasMany::orderby does not exist (see https://psalm.dev/219)
            ->[97;41morderBy[0m('created_at', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L134\app/Services/[1;31mOrderService.php:134:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L135\app/Services/[1;31mOrderService.php:135:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L142\app/Services/[1;31mOrderService.php:142:18[0m]8;;\ - Magic method App\Models\Order::where does not exist (see https://psalm.dev/219)
        } while ([97;41mOrder::where('order_number', $orderNumber)[0m->exists());


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/OrderService.php#L142\app/Services/[1;31mOrderService.php:142:62[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        } while (Order::where('order_number', $orderNumber)->[97;41mexists[0m());


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/OrderService.php#L153\app/Services/[1;31mOrderService.php:153:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = Product::find($item['product_id']);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/OrderService.php#L153\app/Services/[1;31mOrderService.php:153:24[0m]8;;\ - Magic method App\Models\Product::find does not exist (see https://psalm.dev/219)
            $product = [97;41mProduct::find($item['product_id'])[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/OrderService.php#L155\app/Services/[1;31mOrderService.php:155:31[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            return $product ? [97;41m(float) $product->price * $item['quantity'][0m : 0;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/OrderService.php#L155\app/Services/[1;31mOrderService.php:155:39[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
            return $product ? (float) [97;41m$product->price[0m * $item['quantity'] : 0;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/PasswordHistoryService.php#L16\app/Services/[1;31mPasswordHistoryService.php:16:19[0m]8;;\ - App\Services\PasswordHistoryService has an uninitialized property App\Services\PasswordHistoryService::$config, but no constructor (see https://psalm.dev/073)
    private array [97;41m$config[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/PasswordHistoryService.php#L27\app/Services/[1;31mPasswordHistoryService.php:27:21[0m]8;;\ - Docblock-defined type string for $oldPassword is always string (see https://psalm.dev/156)
                if ([97;41mis_string($oldPassword)[0m && Hash::check($password, $oldPassword)) {


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/PasswordHistoryService.php#L68\app/Services/[1;31mPasswordHistoryService.php:68:16[0m]8;;\ - The declared return type 'array<int, string>' for App\Services\PasswordHistoryService::getPasswordHistory is more specific than the inferred return type 'array<array-key, mixed>' (see https://psalm.dev/197)
     * @return [97;41marray<int, string>[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordHistoryService.php#L72\app/Services/[1;31mPasswordHistoryService.php:72:9[0m]8;;\ - Unable to determine the type that $history is being assigned to (see https://psalm.dev/032)
        [97;41m$history[0m = cache()->get("password_history_{$userId}", []);

  The type of $history is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Cache/Repository.php#L109\vendor/laravel/framework/src/Illuminate/Cache/[1;31mRepository.php:109:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/PasswordHistoryService.php#L74\app/Services/[1;31mPasswordHistoryService.php:74:16[0m]8;;\ - The type 'array<array-key, mixed>' is more general than the declared return type 'array<int, string>' for App\Services\PasswordHistoryService::getPasswordHistory (see https://psalm.dev/197)
        return [97;41mis_array($history) ? $history : [][0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L15\app/Services/[1;31mPasswordPolicyService.php:15:19[0m]8;;\ - App\Services\PasswordPolicyService has an uninitialized property App\Services\PasswordPolicyService::$config, but no constructor (see https://psalm.dev/073)
    private array [97;41m$config[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L17\app/Services/[1;31mPasswordPolicyService.php:17:36[0m]8;;\ - App\Services\PasswordPolicyService has an uninitialized property App\Services\PasswordPolicyService::$passwordHistoryService, but no constructor (see https://psalm.dev/073)
    private PasswordHistoryService [97;41m$passwordHistoryService[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L29\app/Services/[1;31mPasswordPolicyService.php:29:9[0m]8;;\ - Unable to determine the type that $minLengthValue is being assigned to (see https://psalm.dev/032)
        [97;41m$minLengthValue[0m = $this->config['min_length'] ?? 8;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L36\app/Services/[1;31mPasswordPolicyService.php:36:9[0m]8;;\ - Unable to determine the type that $maxLengthValue is being assigned to (see https://psalm.dev/032)
        [97;41m$maxLengthValue[0m = $this->config['max_length'] ?? 128;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L43\app/Services/[1;31mPasswordPolicyService.php:43:14[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (([97;41m$this->config['require_uppercase'] ?? false[0m) && ! preg_match('/[A-Z]/', $password)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L48\app/Services/[1;31mPasswordPolicyService.php:48:14[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (([97;41m$this->config['require_lowercase'] ?? false[0m) && ! preg_match('/[a-z]/', $password)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L53\app/Services/[1;31mPasswordPolicyService.php:53:14[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (([97;41m$this->config['require_numbers'] ?? false[0m) && ! preg_match('/\d/', $password)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L58\app/Services/[1;31mPasswordPolicyService.php:58:14[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (([97;41m$this->config['require_symbols'] ?? false[0m) && ! preg_match('/[^A-Za-z0-9]/', $password)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L63\app/Services/[1;31mPasswordPolicyService.php:63:9[0m]8;;\ - Unable to determine the type that $forbiddenPasswords is being assigned to (see https://psalm.dev/032)
        [97;41m$forbiddenPasswords[0m = $this->config['forbidden_passwords'] ?? [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L66\app/Services/[1;31mPasswordPolicyService.php:66:45[0m]8;;\ - Unable to determine the type that $forbidden is being assigned to (see https://psalm.dev/032)
            foreach ($forbiddenPasswords as [97;41m$forbidden[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordPolicyService.php#L75\app/Services/[1;31mPasswordPolicyService.php:75:13[0m]8;;\ - Operand of type int|null contains type int, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$userId[0m && $this->passwordHistoryService->isPasswordInHistory($password, $userId)) {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L28\app/Services/[1;31mPasswordResetService.php:28:47[0m]8;;\ - Magic method App\Models\User::first does not exist (see https://psalm.dev/219)
        $user = User::where('email', $email)->[97;41mfirst[0m();


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L40\app/Services/[1;31mPasswordResetService.php:40:13[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$is_blocked is not defined (see https://psalm.dev/218)
        if ([97;41m$user->is_blocked[0m) {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L43\app/Services/[1;31mPasswordResetService.php:43:30[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$id is not defined (see https://psalm.dev/218)
                'user_id' => [97;41m$user->id[0m,


[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L61\app/Services/[1;31mPasswordResetService.php:61:33[0m]8;;\ - Parameter $message has no provided type (see https://psalm.dev/153)
            ], static function ([97;41m$message[0m) use ($user): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L62\app/Services/[1;31mPasswordResetService.php:62:27[0m]8;;\ - Cannot determine the type of $message when calling method to (see https://psalm.dev/015)
                $message->[97;41mto[0m($user->email, $user->name)

  The type of to is sourced from here - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L61\app/Services/[1;31mPasswordResetService.php:61:33[0m]8;;\
            ], static function ([30;47m$message[0m) use ($user): void {



[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L62\app/Services/[1;31mPasswordResetService.php:62:30[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$email is not defined (see https://psalm.dev/218)
                $message->to([97;41m$user->email[0m, $user->name)


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L62\app/Services/[1;31mPasswordResetService.php:62:44[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$name is not defined (see https://psalm.dev/218)
                $message->to($user->email, [97;41m$user->name[0m)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L63\app/Services/[1;31mPasswordResetService.php:63:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41msubject[0m('استعادة كلمة المرور - كوبرا');


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L68\app/Services/[1;31mPasswordResetService.php:68:30[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$id is not defined (see https://psalm.dev/218)
                'user_id' => [97;41m$user->id[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L98\app/Services/[1;31mPasswordResetService.php:98:47[0m]8;;\ - Magic method App\Models\User::first does not exist (see https://psalm.dev/219)
        $user = User::where('email', $email)->[97;41mfirst[0m();


[0;31mERROR[0m: UndefinedMagicPropertyAssignment - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L105\app/Services/[1;31mPasswordResetService.php:105:9[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$password is not defined (see https://psalm.dev/217)
        [97;41m$user->password[0m = Hash::make($newPassword);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L114\app/Services/[1;31mPasswordResetService.php:114:26[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$id is not defined (see https://psalm.dev/218)
            'user_id' => [97;41m$user->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L145\app/Services/[1;31mPasswordResetService.php:145:9[0m]8;;\ - Unable to determine the type that $createdAt is being assigned to (see https://psalm.dev/032)
        [97;41m$createdAt[0m = $data['created_at'] ?? null;

  The type of $createdAt is sourced from here - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L139\app/Services/[1;31mPasswordResetService.php:139:9[0m]8;;\
        [30;47m$data[0m = Cache::get($key);



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L150\app/Services/[1;31mPasswordResetService.php:150:29[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            'expires_at' => [97;41m$createdAt[0m && is_string($createdAt) ? Carbon::parse($createdAt)->addMinutes(self::TOKEN_EXPIRY)->toISOString() : null,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L232\app/Services/[1;31mPasswordResetService.php:232:9[0m]8;;\ - Unable to determine the type that $createdAtValue is being assigned to (see https://psalm.dev/032)
        [97;41m$createdAtValue[0m = $data['created_at'] ?? null;

  The type of $createdAtValue is sourced from here - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L210\app/Services/[1;31mPasswordResetService.php:210:9[0m]8;;\
        [30;47m$data[0m = Cache::get($key);



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/PasswordResetService.php#L233\app/Services/[1;31mPasswordResetService.php:233:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$createdAtValue[0m && is_string($createdAtValue)) {


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/PaymentService.php#L16\app/Services/[1;31mPaymentService.php:16:26[0m]8;;\ - App\Services\PaymentService has an uninitialized property App\Services\PaymentService::$stripe, but no constructor (see https://psalm.dev/073)
    private StripeClient [97;41m$stripe[0m;


[0;31mERROR[0m: MissingConstructor - ]8;;file:///var/www/html/app/Services/PaymentService.php#L18\app/Services/[1;31mPaymentService.php:18:20[0m]8;;\ - App\Services\PaymentService has an uninitialized property App\Services\PaymentService::$paypal, but no constructor (see https://psalm.dev/073)
    private PayPal [97;41m$paypal[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L25\app/Services/[1;31mPaymentService.php:25:9[0m]8;;\ - Unable to determine the type that $paymentMethod is being assigned to (see https://psalm.dev/032)
        [97;41m$paymentMethod[0m = PaymentMethod::findOrFail($paymentMethodId);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PaymentService.php#L25\app/Services/[1;31mPaymentService.php:25:26[0m]8;;\ - Magic method App\Models\PaymentMethod::findorfail does not exist (see https://psalm.dev/219)
        $paymentMethod = [97;41mPaymentMethod::findOrFail($paymentMethodId)[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L27\app/Services/[1;31mPaymentService.php:27:9[0m]8;;\ - Unable to determine the type that $payment is being assigned to (see https://psalm.dev/032)
        [97;41m$payment[0m = Payment::create([


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PaymentService.php#L27\app/Services/[1;31mPaymentService.php:27:20[0m]8;;\ - Magic method App\Models\Payment::create does not exist (see https://psalm.dev/219)
        $payment = [97;41mPayment::create([
            'order_id' => $order->id,
            'payment_method_id' => $paymentMethodId,
            'transaction_id' => $this->generateTransactionId(),
            'amount' => $order->total_amount,
            'currency' => $order->currency,
            'status' => 'processing',
        ])[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L28\app/Services/[1;31mPaymentService.php:28:27[0m]8;;\ - Magic instance property App\Models\Order::$id is not defined (see https://psalm.dev/218)
            'order_id' => [97;41m$order->id[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L31\app/Services/[1;31mPaymentService.php:31:25[0m]8;;\ - Magic instance property App\Models\Order::$total_amount is not defined (see https://psalm.dev/218)
            'amount' => [97;41m$order->total_amount[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L32\app/Services/[1;31mPaymentService.php:32:27[0m]8;;\ - Magic instance property App\Models\Order::$currency is not defined (see https://psalm.dev/218)
            'currency' => [97;41m$order->currency[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L37\app/Services/[1;31mPaymentService.php:37:21[0m]8;;\ - Cannot fetch property on mixed var $paymentMethod (see https://psalm.dev/034)
            switch ([97;41m$paymentMethod->gateway[0m) {


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PaymentService.php#L39\app/Services/[1;31mPaymentService.php:39:59[0m]8;;\ - Argument 1 of App\Services\PaymentService::processStripePayment cannot be mixed, expecting App\Models\Payment (see https://psalm.dev/030)
                    $result = $this->processStripePayment([97;41m$payment[0m, $paymentData);

  The type of $payment is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L27\app/Services/[1;31mPaymentService.php:27:9[0m]8;;\
        [30;47m$payment[0m = Payment::create([



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PaymentService.php#L42\app/Services/[1;31mPaymentService.php:42:59[0m]8;;\ - Argument 1 of App\Services\PaymentService::processPayPalPayment cannot be mixed, expecting App\Models\Payment (see https://psalm.dev/030)
                    $result = $this->processPayPalPayment([97;41m$payment[0m);

  The type of $payment is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L27\app/Services/[1;31mPaymentService.php:27:9[0m]8;;\
        [30;47m$payment[0m = Payment::create([



[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L59\app/Services/[1;31mPaymentService.php:59:33[0m]8;;\ - Cannot fetch property on mixed var $payment (see https://psalm.dev/034)
                'payment_id' => [97;41m$payment->id[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L59\app/Services/[1;31mPaymentService.php:59:33[0m]8;;\ - Magic instance property App\Models\Payment::$id is not defined (see https://psalm.dev/218)
                'payment_id' => [97;41m$payment->id[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PaymentService.php#L63\app/Services/[1;31mPaymentService.php:63:23[0m]8;;\ - Cannot determine the type of $payment when calling method update (see https://psalm.dev/015)
            $payment->[97;41mupdate[0m([

  The type of update is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L27\app/Services/[1;31mPaymentService.php:27:9[0m]8;;\
        [30;47m$payment[0m = Payment::create([



[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PaymentService.php#L69\app/Services/[1;31mPaymentService.php:69:16[0m]8;;\ - Possibly-mixed return value (see https://psalm.dev/138)
        return [97;41m$payment[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PaymentService.php#L69\app/Services/[1;31mPaymentService.php:69:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$payment[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L74\app/Services/[1;31mPaymentService.php:74:9[0m]8;;\ - Unable to determine the type that $refundAmount is being assigned to (see https://psalm.dev/032)
        [97;41m$refundAmount[0m = $amount ?? $payment->amount;

  The type of $refundAmount is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L72\app/Services/[1;31mPaymentService.php:72:60[0m]8;;\
    public function refundPayment(Payment $payment, ?float [30;47m$amount[0m = null): bool



[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L74\app/Services/[1;31mPaymentService.php:74:36[0m]8;;\ - Magic instance property App\Models\Payment::$amount is not defined (see https://psalm.dev/218)
        $refundAmount = $amount ?? [97;41m$payment->amount[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L77\app/Services/[1;31mPaymentService.php:77:19[0m]8;;\ - Magic instance property App\Models\Payment::$paymentMethod is not defined (see https://psalm.dev/218)
            if (! [97;41m$payment->paymentMethod[0m) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L81\app/Services/[1;31mPaymentService.php:81:21[0m]8;;\ - Cannot fetch property on mixed var $payment->paymentMethod (see https://psalm.dev/034)
            switch ([97;41m$payment->paymentMethod->gateway[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L83\app/Services/[1;31mPaymentService.php:83:21[0m]8;;\ - Unable to determine the type that $gatewayResponse is being assigned to (see https://psalm.dev/032)
                    [97;41m$gatewayResponse[0m = $payment->gateway_response;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L83\app/Services/[1;31mPaymentService.php:83:40[0m]8;;\ - Magic instance property App\Models\Payment::$gateway_response is not defined (see https://psalm.dev/218)
                    $gatewayResponse = [97;41m$payment->gateway_response[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L84\app/Services/[1;31mPaymentService.php:84:21[0m]8;;\ - Unable to determine the type that $paymentIntentId is being assigned to (see https://psalm.dev/032)
                    [97;41m$paymentIntentId[0m = is_array($gatewayResponse) ? ($gatewayResponse['id'] ?? '') : '';

  The type of $paymentIntentId is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L83\app/Services/[1;31mPaymentService.php:83:21[0m]8;;\
                    [30;47m$gatewayResponse[0m = $payment->gateway_response;



[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/PaymentService.php#L85\app/Services/[1;31mPaymentService.php:85:52[0m]8;;\ - Argument 1 of Stripe\Service\RefundService::create expects array{amount?: int, charge?: string, currency?: string, customer?: string, expand?: array<array-key, string>, instructions_email?: string, metadata?: array<string, string>|null, origin?: string, payment_intent?: string, reason?: string, refund_application_fee?: bool, reverse_transfer?: bool}|null, but parent type array{amount: int, payment_intent: ''|mixed} provided (see https://psalm.dev/194)
                    $this->stripe->refunds->create([97;41m[
                        'payment_intent' => $paymentIntentId,
                        'amount' => (int) round($refundAmount * 100),
                    ][0m);

  The type of [
                        'payment_intent' => $paymentIntentId,
                        'amount' => (int) round($refundAmount * 100),
                    ] is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L83\app/Services/[1;31mPaymentService.php:83:21[0m]8;;\
                    [30;47m$gatewayResponse[0m = $payment->gateway_response;



[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/PaymentService.php#L87\app/Services/[1;31mPaymentService.php:87:49[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                        'amount' => (int) round([97;41m$refundAmount * 100[0m),


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/PaymentService.php#L87\app/Services/[1;31mPaymentService.php:87:49[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                        'amount' => (int) round([97;41m$refundAmount[0m * 100),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PaymentService.php#L87\app/Services/[1;31mPaymentService.php:87:49[0m]8;;\ - Argument 1 of round cannot be mixed, expecting float|int (see https://psalm.dev/030)
                        'amount' => (int) round([97;41m$refundAmount * 100[0m),

  The type of $refundAmount * 100 is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L72\app/Services/[1;31mPaymentService.php:72:60[0m]8;;\
    public function refundPayment(Payment $payment, ?float [30;47m$amount[0m = null): bool



[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L101\app/Services/[1;31mPaymentService.php:101:33[0m]8;;\ - Magic instance property App\Models\Payment::$id is not defined (see https://psalm.dev/218)
                'payment_id' => [97;41m$payment->id[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L115\app/Services/[1;31mPaymentService.php:115:9[0m]8;;\ - Unable to determine the type that $paymentMethodId is being assigned to (see https://psalm.dev/032)
        [97;41m$paymentMethodId[0m = $data['payment_method_id'] ?? '';

  The type of $paymentMethodId is sourced from here - ]8;;file:///var/www/html/app/Services/PaymentService.php#L113\app/Services/[1;31mPaymentService.php:113:67[0m]8;;\
    private function processStripePayment(Payment $payment, array [30;47m$data[0m): array



[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/PaymentService.php#L116\app/Services/[1;31mPaymentService.php:116:57[0m]8;;\ - Argument 1 of Stripe\Service\PaymentIntentService::create expects array{amount: int, application_fee_amount?: int, automatic_payment_methods?: array{allow_redirects?: string, enabled: bool}, capture_method?: string, confirm?: bool, confirmation_method?: string, confirmation_token?: string, currency: string, customer?: string, description?: string, error_on_requires_action?: bool, excluded_payment_method_types?: array<array-key, string>, expand?: array<array-key, string>, mandate?: string, mandate_data?: array{customer_acceptance: array{accepted_at?: int, offline?: array<never, never>, online?: array{ip_address: string, user_agent: string}, type: string}}|null, metadata?: array<string, string>, off_session?: array<array-key, mixed>|bool|string, on_behalf_of?: string, payment_method?: string, payment_method_configuration?: string, payment_method_data?: array{acss_debit?: array{account_number: string, institution_number: string, transit_number: string}, affirm?: array<never, never>, afterpay_clearpay?: array<never, never>, alipay?: array<never, never>, allow_redisplay?: string, alma?: array<never, never>, amazon_pay?: array<never, never>, au_becs_debit?: array{account_number: string, bsb_number: string}, bacs_debit?: array{account_number?: string, sort_code?: string}, bancontact?: array<never, never>, billie?: array<never, never>, billing_details?: array{address?: array{city?: string, country?: string, line1?: string, line2?: string, postal_code?: string, state?: string}|null, email?: null|string, name?: null|string, phone?: null|string, tax_id?: string}, blik?: array<never, never>, boleto?: array{tax_id: string}, cashapp?: array<never, never>, crypto?: array<never, never>, customer_balance?: array<never, never>, eps?: array{bank?: string}, fpx?: array{account_holder_type?: string, bank: string}, giropay?: array<never, never>, grabpay?: array<never, never>, ideal?: array{bank?: string}, interac_present?: array<never, never>, kakao_pay?: array<never, never>, klarna?: array{dob?: array{day: int, month: int, year: int}}, konbini?: array<never, never>, kr_card?: array<never, never>, link?: array<never, never>, metadata?: array<string, string>, mobilepay?: array<never, never>, multibanco?: array<never, never>, naver_pay?: array{funding?: string}, nz_bank_account?: array{account_holder_name?: string, account_number: string, bank_code: string, branch_code: string, reference?: string, suffix: string}, oxxo?: array<never, never>, p24?: array{bank?: string}, pay_by_bank?: array<never, never>, payco?: array<never, never>, paynow?: array<never, never>, paypal?: array<never, never>, pix?: array<never, never>, promptpay?: array<never, never>, radar_options?: array{session?: string}, revolut_pay?: array<never, never>, samsung_pay?: array<never, never>, satispay?: array<never, never>, sepa_debit?: array{iban: string}, sofort?: array{country: string}, swish?: array<never, never>, twint?: array<never, never>, type: string, us_bank_account?: array{account_holder_type?: string, account_number?: string, account_type?: string, financial_connections_account?: string, routing_number?: string}, wechat_pay?: array<never, never>, zip?: array<never, never>}, payment_method_options?: array{acss_debit?: array{mandate_options?: array{custom_mandate_url?: null|string, interval_description?: string, payment_schedule?: string, transaction_type?: string}, setup_future_usage?: null|string, target_date?: string, verification_method?: string}|null, affirm?: array{capture_method?: null|string, preferred_locale?: string, setup_future_usage?: string}|null, afterpay_clearpay?: array{capture_method?: null|string, reference?: string, setup_future_usage?: string}|null, alipay?: array{setup_future_usage?: null|string}|null, alma?: array{capture_method?: null|string}|null, amazon_pay?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, au_becs_debit?: array{setup_future_usage?: null|string, target_date?: string}|null, bacs_debit?: array{mandate_options?: array{reference_prefix?: null|string}, setup_future_usage?: null|string, target_date?: string}|null, bancontact?: array{preferred_language?: string, setup_future_usage?: null|string}|null, billie?: array{capture_method?: null|string}|null, blik?: array{code?: string, setup_future_usage?: null|string}|null, boleto?: array{expires_after_days?: int, setup_future_usage?: null|string}|null, card?: array{capture_method?: null|string, cvc_token?: string, installments?: array{enabled?: bool, plan?: array{count?: int, interval?: string, type: string}|null}, mandate_options?: array{amount: int, amount_type: string, description?: string, end_date?: int, interval: string, interval_count?: int, reference: string, start_date: int, supported_types?: array<array-key, string>}, moto?: bool, network?: string, request_extended_authorization?: string, request_incremental_authorization?: string, request_multicapture?: string, request_overcapture?: string, request_three_d_secure?: string, require_cvc_recollection?: bool, setup_future_usage?: null|string, statement_descriptor_suffix_kana?: null|string, statement_descriptor_suffix_kanji?: null|string, three_d_secure?: array{ares_trans_status?: string, cryptogram: string, electronic_commerce_indicator?: string, exemption_indicator?: string, network_options?: array{cartes_bancaires?: array{cb_avalgo: string, cb_exemption?: string, cb_score?: int}}, requestor_challenge_indicator?: string, transaction_id: string, version: string}}|null, card_present?: array{request_extended_authorization?: bool, request_incremental_authorization_support?: bool, routing?: array{requested_priority?: string}}|null, cashapp?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, crypto?: array{setup_future_usage?: string}|null, customer_balance?: array{bank_transfer?: array{eu_bank_transfer?: array{country: string}, requested_address_types?: array<array-key, string>, type: string}, funding_type?: string, setup_future_usage?: string}|null, eps?: array{setup_future_usage?: string}|null, fpx?: array{setup_future_usage?: string}|null, giropay?: array{setup_future_usage?: string}|null, grabpay?: array{setup_future_usage?: string}|null, ideal?: array{setup_future_usage?: null|string}|null, interac_present?: array<never, never>|null, kakao_pay?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, klarna?: array{capture_method?: null|string, on_demand?: array{average_amount?: int, maximum_amount?: int, minimum_amount?: int, purchase_interval?: string, purchase_interval_count?: int}, preferred_locale?: string, setup_future_usage?: string, subscriptions?: array<array-key, array{interval: string, interval_count?: int, name?: string, next_billing?: array{amount: int, date: string}, reference: string}>|null}|null, konbini?: array{confirmation_number?: null|string, expires_after_days?: int|null, expires_at?: int|null, product_description?: null|string, setup_future_usage?: string}|null, kr_card?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, link?: array{capture_method?: null|string, persistent_token?: string, setup_future_usage?: null|string}|null, mobilepay?: array{capture_method?: null|string, setup_future_usage?: string}|null, multibanco?: array{setup_future_usage?: string}|null, naver_pay?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, nz_bank_account?: array{setup_future_usage?: null|string, target_date?: string}|null, oxxo?: array{expires_after_days?: int, setup_future_usage?: string}|null, p24?: array{setup_future_usage?: string, tos_shown_and_accepted?: bool}|null, pay_by_bank?: array<never, never>|null, payco?: array{capture_method?: null|string}|null, paynow?: array{setup_future_usage?: string}|null, paypal?: array{capture_method?: null|string, preferred_locale?: string, reference?: string, risk_correlation_id?: string, setup_future_usage?: null|string}|null, pix?: array{amount_includes_iof?: string, expires_after_seconds?: int, expires_at?: int, setup_future_usage?: string}|null, promptpay?: array{setup_future_usage?: string}|null, revolut_pay?: array{capture_method?: null|string, setup_future_usage?: null|string}|null, samsung_pay?: array{capture_method?: null|string}|null, satispay?: array{capture_method?: null|string}|null, sepa_debit?: array{mandate_options?: array{reference_prefix?: null|string}, setup_future_usage?: null|string, target_date?: string}|null, sofort?: array{preferred_language?: null|string, setup_future_usage?: null|string}|null, swish?: array{reference?: null|string, setup_future_usage?: string}|null, twint?: array{setup_future_usage?: string}|null, us_bank_account?: array{financial_connections?: array{filters?: array{account_subcategories?: array<array-key, string>}, permissions?: array<array-key, string>, prefetch?: array<array-key, string>, return_url?: string}, mandate_options?: array{collection_method?: null|string}, networks?: array{requested?: array<array-key, string>}, preferred_settlement_speed?: null|string, setup_future_usage?: null|string, target_date?: string, verification_method?: string}|null, wechat_pay?: array{app_id?: string, client?: string, setup_future_usage?: string}|null, zip?: array{setup_future_usage?: string}|null}, payment_method_types?: array<array-key, string>, radar_options?: array{session?: string}, receipt_email?: string, return_url?: string, setup_future_usage?: string, shipping?: array{address: array{city?: string, country?: string, line1?: string, line2?: string, postal_code?: string, state?: string}, carrier?: string, name: string, phone?: string, tracking_number?: string}, statement_descriptor?: string, statement_descriptor_suffix?: string, transfer_data?: array{amount?: int, destination: string}, transfer_group?: string, use_stripe_sdk?: bool}|null, but parent type array{amount: int, confirm: true, confirmation_method: 'manual', currency: mixed, payment_method: string} provided (see https://psalm.dev/194)
        $intent = $this->stripe->paymentIntents->create([97;41m[
            'amount' => (int) ($payment->amount * 100), // Convert to cents and cast to int
            'currency' => $payment->currency,
            'payment_method' => is_string($paymentMethodId) ? $paymentMethodId : '',
            'confirmation_method' => 'manual',
            'confirm' => true,
        ][0m);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L117\app/Services/[1;31mPaymentService.php:117:32[0m]8;;\ - Magic instance property App\Models\Payment::$amount is not defined (see https://psalm.dev/218)
            'amount' => (int) ([97;41m$payment->amount[0m * 100), // Convert to cents and cast to int


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/PaymentService.php#L117\app/Services/[1;31mPaymentService.php:117:32[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'amount' => (int) ([97;41m$payment->amount[0m * 100), // Convert to cents and cast to int


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L118\app/Services/[1;31mPaymentService.php:118:27[0m]8;;\ - Magic instance property App\Models\Payment::$currency is not defined (see https://psalm.dev/218)
            'currency' => [97;41m$payment->currency[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L140\app/Services/[1;31mPaymentService.php:140:44[0m]8;;\ - Magic instance property App\Models\Payment::$currency is not defined (see https://psalm.dev/218)
                        'currency_code' => [97;41m$payment->currency[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PaymentService.php#L141\app/Services/[1;31mPaymentService.php:141:36[0m]8;;\ - Magic instance property App\Models\Payment::$amount is not defined (see https://psalm.dev/218)
                        'value' => [97;41m$payment->amount[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PaymentService.php#L147\app/Services/[1;31mPaymentService.php:147:9[0m]8;;\ - Unable to determine the type that $responseStatus is being assigned to (see https://psalm.dev/032)
        [97;41m$responseStatus[0m = is_array($response) ? ($response['status'] ?? '') : '';

  The type of $responseStatus is sourced from here - ]8;;file:///var/www/html/vendor/srmklive/paypal/src/Traits/PayPalAPI/Orders.php#L20\vendor/srmklive/paypal/src/Traits/PayPalAPI/[1;31mOrders.php:20:21[0m]8;;\
    public function [30;47mcreateOrder[0m(array $data)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L114\app/Services/[1;31mPerformanceMonitoringService.php:114:13[0m]8;;\ - Unable to determine the type that $executionTime is being assigned to (see https://psalm.dev/032)
            [97;41m$executionTime[0m = $query['time'];

  The type of $executionTime is sourced from here - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L109\app/Services/[1;31mPerformanceMonitoringService.php:109:9[0m]8;;\
        [30;47m$queries[0m = DB::getQueryLog();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L115\app/Services/[1;31mPerformanceMonitoringService.php:115:13[0m]8;;\ - Unable to determine the type that $totalTime is being assigned to (see https://psalm.dev/032)
            [97;41m$totalTime[0m += $executionTime;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L115\app/Services/[1;31mPerformanceMonitoringService.php:115:27[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
            $totalTime += [97;41m$executionTime[0m;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L129\app/Services/[1;31mPerformanceMonitoringService.php:129:53[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'average_time' => count($queries) > 0 ? [97;41m$totalTime[0m / count($queries) : 0,


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L168\app/Services/[1;31mPerformanceMonitoringService.php:168:48[0m]8;;\ - Argument 1 of App\Services\PerformanceMonitoringService::parseMemoryLimit cannot be false, possibly string value expected (see https://psalm.dev/104)
            'limit' => $this->parseMemoryLimit([97;41m$limit[0m),


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L169\app/Services/[1;31mPerformanceMonitoringService.php:169:59[0m]8;;\ - Argument 1 of App\Services\PerformanceMonitoringService::parseMemoryLimit cannot be false, possibly string value expected (see https://psalm.dev/104)
            'usage_percentage' => $this->parseMemoryLimit([97;41m$limit[0m) > 0


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L170\app/Services/[1;31mPerformanceMonitoringService.php:170:19[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                ? [97;41m$currentMemory / $this->parseMemoryLimit($limit) * 100[0m


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L170\app/Services/[1;31mPerformanceMonitoringService.php:170:60[0m]8;;\ - Argument 1 of App\Services\PerformanceMonitoringService::parseMemoryLimit cannot be false, possibly string value expected (see https://psalm.dev/104)
                ? $currentMemory / $this->parseMemoryLimit([97;41m$limit[0m) * 100


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L185\app/Services/[1;31mPerformanceMonitoringService.php:185:22[0m]8;;\ - Left operand cannot be falsable, got false|float (see https://psalm.dev/162)
        $usedSpace = [97;41m$totalSpace[0m - $freeSpace;


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L185\app/Services/[1;31mPerformanceMonitoringService.php:185:36[0m]8;;\ - Right operand cannot be falsable, got false|float (see https://psalm.dev/162)
        $usedSpace = $totalSpace - [97;41m$freeSpace[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L191\app/Services/[1;31mPerformanceMonitoringService.php:191:53[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'usage_percentage' => $totalSpace > 0 ? [97;41m$usedSpace / $totalSpace * 100[0m : 0,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L219\app/Services/[1;31mPerformanceMonitoringService.php:219:9[0m]8;;\ - Unable to determine the type that $config is being assigned to (see https://psalm.dev/032)
        [97;41m$config[0m = config('monitoring.performance', []);

  The type of $config is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/PerformanceMonitoringService.php#L236\app/Services/[1;31mPerformanceMonitoringService.php:236:81[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            is_numeric($metrics['memory_usage']) && $metrics['memory_usage'] > ([97;41m(float) $config['memory_threshold'] * 1024[0m * 1024)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PointsService.php#L18\app/Services/[1;31mPointsService.php:18:16[0m]8;;\ - Magic method App\Models\UserPoint::create does not exist (see https://psalm.dev/219)
        return [97;41mUserPoint::create([
            'user_id' => $user->id,
            'points' => $points,
            'type' => $type,
            'source' => $source,
            'order_id' => $orderId,
            'description' => $description,
            'expires_at' => $this->calculateExpirationDate($type),
        ])[0m;


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PointsService.php#L18\app/Services/[1;31mPointsService.php:18:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mUserPoint::create([
            'user_id' => $user->id,
            'points' => $points,
            'type' => $type,
            'source' => $source,
            'order_id' => $orderId,
            'description' => $description,
            'expires_at' => $this->calculateExpirationDate($type),
        ])[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PointsService.php#L46\app/Services/[1;31mPointsService.php:46:9[0m]8;;\ - Unable to determine the type that $sum is being assigned to (see https://psalm.dev/032)
        [97;41m$sum[0m = UserPoint::where('user_id', $userId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PointsService.php#L46\app/Services/[1;31mPointsService.php:46:16[0m]8;;\ - Magic method App\Models\UserPoint::where does not exist (see https://psalm.dev/219)
        $sum = [97;41mUserPoint::where('user_id', $userId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L47\app/Services/[1;31mPointsService.php:47:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mvalid[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L48\app/Services/[1;31mPointsService.php:48:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41msum[0m('points');


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PointsService.php#L58\app/Services/[1;31mPointsService.php:58:16[0m]8;;\ - Magic method App\Models\UserPoint::where does not exist (see https://psalm.dev/219)
        return [97;41mUserPoint::where('user_id', $userId)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PointsService.php#L58\app/Services/[1;31mPointsService.php:58:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mUserPoint::where('user_id', $userId)
            ->orderBy('created_at', 'desc')
            ->limit($limit)
            ->get()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L59\app/Services/[1;31mPointsService.php:59:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('created_at', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L60\app/Services/[1;31mPointsService.php:60:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L61\app/Services/[1;31mPointsService.php:61:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L66\app/Services/[1;31mPointsService.php:66:26[0m]8;;\ - Magic instance property App\Models\Order::$total_amount is not defined (see https://psalm.dev/218)
        $points = (int) ([97;41m$order->total_amount[0m * 0.01); // 1 point per dollar


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/PointsService.php#L66\app/Services/[1;31mPointsService.php:66:26[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
        $points = (int) ([97;41m$order->total_amount[0m * 0.01); // 1 point per dollar


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PointsService.php#L68\app/Services/[1;31mPointsService.php:68:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = $order->user;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L68\app/Services/[1;31mPointsService.php:68:17[0m]8;;\ - Magic instance property App\Models\Order::$user is not defined (see https://psalm.dev/218)
        $user = [97;41m$order->user[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PointsService.php#L74\app/Services/[1;31mPointsService.php:74:13[0m]8;;\ - Argument 1 of App\Services\PointsService::addPoints cannot be non-empty-mixed, expecting App\Models\User (see https://psalm.dev/030)
            [97;41m$user[0m,

  The type of $user is sourced from here - ]8;;file:///var/www/html/app/Services/PointsService.php#L68\app/Services/[1;31mPointsService.php:68:9[0m]8;;\
        [30;47m$user[0m = $order->user;



[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L78\app/Services/[1;31mPointsService.php:78:13[0m]8;;\ - Magic instance property App\Models\Order::$id is not defined (see https://psalm.dev/218)
            [97;41m$order->id[0m,


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PointsService.php#L78\app/Services/[1;31mPointsService.php:78:13[0m]8;;\ - Argument 5 of App\Services\PointsService::addPoints cannot be mixed, expecting int|null (see https://psalm.dev/030)
            [97;41m$order->id[0m,


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L79\app/Services/[1;31mPointsService.php:79:40[0m]8;;\ - Magic instance property App\Models\Order::$order_number is not defined (see https://psalm.dev/218)
            "Points earned for order #{[97;41m$order->order_number[0m}"


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PointsService.php#L90\app/Services/[1;31mPointsService.php:90:16[0m]8;;\ - Magic method App\Models\Reward::availableforpoints does not exist (see https://psalm.dev/219)
        return [97;41mReward::availableForPoints($availablePoints)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PointsService.php#L90\app/Services/[1;31mPointsService.php:90:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mReward::availableForPoints($availablePoints)
            ->orderBy('points_required')
            ->get()
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L91\app/Services/[1;31mPointsService.php:91:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('points_required')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L92\app/Services/[1;31mPointsService.php:92:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/PointsService.php#L93\app/Services/[1;31mPointsService.php:93:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/PointsService.php#L98\app/Services/[1;31mPointsService.php:98:9[0m]8;;\ - Unable to determine the type that $reward is being assigned to (see https://psalm.dev/032)
        [97;41m$reward[0m = Reward::findOrFail($rewardId);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/PointsService.php#L98\app/Services/[1;31mPointsService.php:98:19[0m]8;;\ - Magic method App\Models\Reward::findorfail does not exist (see https://psalm.dev/219)
        $reward = [97;41mReward::findOrFail($rewardId)[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L101\app/Services/[1;31mPointsService.php:101:32[0m]8;;\ - Cannot fetch property on mixed var $reward (see https://psalm.dev/034)
        if ($availablePoints < [97;41m$reward->points_required[0m) {


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/PointsService.php#L105\app/Services/[1;31mPointsService.php:105:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mDB::transaction(function () use ($user, $reward) {
            $this->redeemPoints($user, $reward->points_required, "Redeemed reward: {$reward->name}");

            // Apply reward benefits
            $this->applyReward($user, $reward);

            return true;
        })[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PointsService.php#L106\app/Services/[1;31mPointsService.php:106:40[0m]8;;\ - Argument 2 of App\Services\PointsService::redeemPoints cannot be mixed, expecting int (see https://psalm.dev/030)
            $this->redeemPoints($user, [97;41m$reward->points_required[0m, "Redeemed reward: {$reward->name}");


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L106\app/Services/[1;31mPointsService.php:106:85[0m]8;;\ - Cannot fetch property on mixed var $reward (see https://psalm.dev/034)
            $this->redeemPoints($user, $reward->points_required, "Redeemed reward: {[97;41m$reward->name[0m}");


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/PointsService.php#L109\app/Services/[1;31mPointsService.php:109:39[0m]8;;\ - Argument 2 of App\Services\PointsService::applyReward cannot be mixed, expecting App\Models\Reward (see https://psalm.dev/030)
            $this->applyReward($user, [97;41m$reward[0m);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L117\app/Services/[1;31mPointsService.php:117:17[0m]8;;\ - Magic instance property App\Models\Reward::$type is not defined (see https://psalm.dev/218)
        switch ([97;41m$reward->type[0m) {


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L119\app/Services/[1;31mPointsService.php:119:76[0m]8;;\ - Magic instance property App\Models\Reward::$name is not defined (see https://psalm.dev/218)
                Log::info("Applying discount reward for user {$user->id}: {[97;41m$reward->name[0m}");


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L123\app/Services/[1;31mPointsService.php:123:81[0m]8;;\ - Magic instance property App\Models\Reward::$name is not defined (see https://psalm.dev/218)
                Log::info("Applying free shipping reward for user {$user->id}: {[97;41m$reward->name[0m}");


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L127\app/Services/[1;31mPointsService.php:127:72[0m]8;;\ - Magic instance property App\Models\Reward::$name is not defined (see https://psalm.dev/218)
                Log::info("Applying gift reward for user {$user->id}: {[97;41m$reward->name[0m}");


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/PointsService.php#L131\app/Services/[1;31mPointsService.php:131:76[0m]8;;\ - Magic instance property App\Models\Reward::$name is not defined (see https://psalm.dev/218)
                Log::info("Applying cashback reward for user {$user->id}: {[97;41m$reward->name[0m}");


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProcessService.php#L121\app/Services/[1;31mProcessService.php:121:35[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
        foreach ($data as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/app/Services/ProcessService.php#L117\app/Services/[1;31mProcessService.php:117:33[0m]8;;\
    public function clean(array [30;47m$data[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ProcessService.php#L126\app/Services/[1;31mProcessService.php:126:49[0m]8;;\ - Argument 1 of strtolower cannot be mixed|string, expecting string (see https://psalm.dev/030)
                    $cleaned[$key] = strtolower([97;41m$cleaned[$key][0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProcessService.php#L129\app/Services/[1;31mProcessService.php:129:17[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                [97;41m$cleaned[$key][0m = $value;

  The type of $cleaned[$key] is sourced from here - ]8;;file:///var/www/html/app/Services/ProcessService.php#L117\app/Services/[1;31mProcessService.php:117:33[0m]8;;\
    public function clean(array [30;47m$data[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProcessService.php#L146\app/Services/[1;31mProcessService.php:146:35[0m]8;;\ - Unable to determine the type that $value is being assigned to (see https://psalm.dev/032)
        foreach ($data as $key => [97;41m$value[0m) {

  The type of $value is sourced from here - ]8;;file:///var/www/html/app/Services/ProcessService.php#L142\app/Services/[1;31mProcessService.php:142:37[0m]8;;\
    public function transform(array [30;47m$data[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProcessService.php#L147\app/Services/[1;31mProcessService.php:147:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$transformed[$key][0m = is_string($value) ? ucfirst($value) : $value;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProductService.php#L27\app/Services/[1;31mProductService.php:27:9[0m]8;;\ - Unable to determine the type that $page is being assigned to (see https://psalm.dev/032)
        [97;41m$page[0m = request()->get('page', 1);

  The type of $page is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Request.php#L410\vendor/laravel/framework/src/Illuminate/Http/[1;31mRequest.php:410:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProductService.php#L57\app/Services/[1;31mProductService.php:57:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = $this->cache->remember(

  The type of $result is sourced from here - ]8;;file:///var/www/html/app/Services/CacheService.php#L39\app/Services/[1;31mCacheService.php:39:16[0m]8;;\
     * @return [30;47mmixed[0m Cached or generated data



[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Services/ProductService.php#L72\app/Services/[1;31mProductService.php:72:16[0m]8;;\ - The declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\Product>' for App\Services\ProductService::getRelatedProducts is more specific than the inferred return type 'Illuminate\Database\Eloquent\Collection|Illuminate\Database\Eloquent\Collection<never, never>' (see https://psalm.dev/070)
     * @return [97;41mCollection<int, Product>[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ProductService.php#L76\app/Services/[1;31mProductService.php:76:9[0m]8;;\ - Unable to determine the type that $result is being assigned to (see https://psalm.dev/032)
        [97;41m$result[0m = $this->cache->remember(

  The type of $result is sourced from here - ]8;;file:///var/www/html/app/Services/CacheService.php#L39\app/Services/[1;31mCacheService.php:39:16[0m]8;;\
     * @return [30;47mmixed[0m Cached or generated data



[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Services/ProductService.php#L83\app/Services/[1;31mProductService.php:83:16[0m]8;;\ - The type 'Illuminate\Database\Eloquent\Collection|Illuminate\Database\Eloquent\Collection<never, never>' is more general than the declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\Product>' for App\Services\ProductService::getRelatedProducts (see https://psalm.dev/129)
        return [97;41m$result instanceof \Illuminate\Database\Eloquent\Collection ? $result : new Collection[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/QualityAnalysisService.php#L85\app/Services/[1;31mQualityAnalysisService.php:85:35[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        return max(0, 50 - (int) ([97;41m$duplication * 5[0m));


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L28\app/Services/[1;31mRecommendationService.php:28:56[0m]8;;\ - Argument 1 of Illuminate\Support\Collection::merge expects Illuminate\Contracts\Support\Arrayable<never, never>|iterable<never, never>, but possibly different type array<int, mixed> provided (see https://psalm.dev/092)
            $recommendations = $recommendations->merge([97;41m$collaborativeRecs[0m);


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L32\app/Services/[1;31mRecommendationService.php:32:56[0m]8;;\ - Argument 1 of Illuminate\Support\Collection::merge expects Illuminate\Contracts\Support\Arrayable<never, never>|iterable<never, never>, but possibly different type array<int, mixed> provided (see https://psalm.dev/092)
            $recommendations = $recommendations->merge([97;41m$contentRecs[0m);


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L36\app/Services/[1;31mRecommendationService.php:36:56[0m]8;;\ - Argument 1 of Illuminate\Support\Collection::merge expects Illuminate\Contracts\Support\Arrayable<never, never>|iterable<never, never>, but possibly different type array<int, mixed> provided (see https://psalm.dev/092)
            $recommendations = $recommendations->merge([97;41m$trendingRecs[0m);


[0;31mERROR[0m: ReservedWord - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L43\app/Services/[1;31mRecommendationService.php:43:43[0m]8;;\ - Parameter cannot be never (see https://psalm.dev/095)
                ->reject(static function ([97;41mmixed[0m $product) use ($purchasedProductIds): bool {


[0;31mERROR[0m: UnusedVariable - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L43\app/Services/[1;31mRecommendationService.php:43:64[0m]8;;\ - $purchasedProductIds is never referenced or the value is not used (see https://psalm.dev/077)
                ->reject(static function (mixed $product) use ([97;41m$purchasedProductIds[0m): bool {


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L44\app/Services/[1;31mRecommendationService.php:44:25[0m]8;;\ - Docblock-defined type never for $product is never object (see https://psalm.dev/156)
                    if ([97;41m! is_object($product)[0m || ! property_exists($product, 'id')) {


[0;31mERROR[0m: NoValue - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L44\app/Services/[1;31mRecommendationService.php:44:68[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                    if (! is_object($product) || ! property_exists([97;41m$product[0m, 'id')) {


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L48\app/Services/[1;31mRecommendationService.php:48:37[0m]8;;\ - Cannot fetch property on empty var $product (see https://psalm.dev/034)
                    return in_array([97;41m$product->id[0m, $purchasedProductIds);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L48\app/Services/[1;31mRecommendationService.php:48:51[0m]8;;\ - Argument 2 of in_array cannot be mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
                    return in_array($product->id, [97;41m$purchasedProductIds[0m);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L61\app/Services/[1;31mRecommendationService.php:61:16[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
        return [97;41mProduct::where('category_id', $product->category_id)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L61\app/Services/[1;31mRecommendationService.php:61:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mProduct::where('category_id', $product->category_id)
            ->where('id', '!=', $product->id)
            ->where('is_active', true)
            ->orderBy('rating', 'desc')
            ->limit($limit)
            ->get()
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L62\app/Services/[1;31mRecommendationService.php:62:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('id', '!=', $product->id)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L63\app/Services/[1;31mRecommendationService.php:63:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L64\app/Services/[1;31mRecommendationService.php:64:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('rating', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L65\app/Services/[1;31mRecommendationService.php:65:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L66\app/Services/[1;31mRecommendationService.php:66:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L67\app/Services/[1;31mRecommendationService.php:67:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L75\app/Services/[1;31mRecommendationService.php:75:9[0m]8;;\ - Unable to determine the type that $productIds is being assigned to (see https://psalm.dev/032)
        [97;41m$productIds[0m = OrderItem::whereHas('order', static function (mixed $query) use ($product): void {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L75\app/Services/[1;31mRecommendationService.php:75:23[0m]8;;\ - Magic method App\Models\OrderItem::wherehas does not exist (see https://psalm.dev/219)
        $productIds = [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($product): void {
            $query->whereHas('items', static function (mixed $q) use ($product): void {
                $q->where('product_id', $product->id);
            });
        })[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L76\app/Services/[1;31mRecommendationService.php:76:21[0m]8;;\ - Cannot determine the type of $query when calling method whereHas (see https://psalm.dev/015)
            $query->[97;41mwhereHas[0m('items', static function (mixed $q) use ($product): void {

  The type of whereHas is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L75\app/Services/[1;31mRecommendationService.php:75:75[0m]8;;\
        $productIds = OrderItem::whereHas('order', static function (mixed [30;47m$query[0m) use ($product): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L77\app/Services/[1;31mRecommendationService.php:77:21[0m]8;;\ - Cannot determine the type of $q when calling method where (see https://psalm.dev/015)
                $q->[97;41mwhere[0m('product_id', $product->id);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L76\app/Services/[1;31mRecommendationService.php:76:62[0m]8;;\
            $query->whereHas('items', static function (mixed [30;47m$q[0m) use ($product): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L80\app/Services/[1;31mRecommendationService.php:80:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('product_id', '!=', $product->id)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L81\app/Services/[1;31mRecommendationService.php:81:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mselect[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L82\app/Services/[1;31mRecommendationService.php:82:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mselectRaw[0m('COUNT(*) as frequency')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L83\app/Services/[1;31mRecommendationService.php:83:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mgroupBy[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L84\app/Services/[1;31mRecommendationService.php:84:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('frequency', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L85\app/Services/[1;31mRecommendationService.php:85:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L86\app/Services/[1;31mRecommendationService.php:86:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mpluck[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L87\app/Services/[1;31mRecommendationService.php:87:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L89\app/Services/[1;31mRecommendationService.php:89:16[0m]8;;\ - Magic method App\Models\Product::wherein does not exist (see https://psalm.dev/219)
        return [97;41mProduct::whereIn('id', $productIds)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L89\app/Services/[1;31mRecommendationService.php:89:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mProduct::whereIn('id', $productIds)
            ->where('is_active', true)
            ->get()
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L90\app/Services/[1;31mRecommendationService.php:90:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhere[0m('is_active', true)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L91\app/Services/[1;31mRecommendationService.php:91:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L92\app/Services/[1;31mRecommendationService.php:92:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L112\app/Services/[1;31mRecommendationService.php:112:16[0m]8;;\ - Magic method App\Models\Product::wherehas does not exist (see https://psalm.dev/219)
        return [97;41mProduct::whereHas('orderItems.order', static function (mixed $query) use ($similarUserIds): void {
            $query->whereIn('user_id', $similarUserIds);
        })[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L112\app/Services/[1;31mRecommendationService.php:112:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mProduct::whereHas('orderItems.order', static function (mixed $query) use ($similarUserIds): void {
            $query->whereIn('user_id', $similarUserIds);
        })
            ->whereNotIn('id', $purchasedProductIds)
            ->withCount([
                'orderItems as purchase_count' => static function (mixed $query) use ($similarUserIds): void {
                    $query->whereHas('order', static function (mixed $q) use ($similarUserIds): void {
                        $q->whereIn('user_id', $similarUserIds);
                    });
                },
            ])
            ->orderBy('purchase_count', 'desc')
            ->limit($limit)
            ->get()
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L113\app/Services/[1;31mRecommendationService.php:113:21[0m]8;;\ - Cannot determine the type of $query when calling method whereIn (see https://psalm.dev/015)
            $query->[97;41mwhereIn[0m('user_id', $similarUserIds);

  The type of whereIn is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L112\app/Services/[1;31mRecommendationService.php:112:77[0m]8;;\
        return Product::whereHas('orderItems.order', static function (mixed [30;47m$query[0m) use ($similarUserIds): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L115\app/Services/[1;31mRecommendationService.php:115:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereNotIn[0m('id', $purchasedProductIds)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L116\app/Services/[1;31mRecommendationService.php:116:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwithCount[0m([


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L118\app/Services/[1;31mRecommendationService.php:118:29[0m]8;;\ - Cannot determine the type of $query when calling method whereHas (see https://psalm.dev/015)
                    $query->[97;41mwhereHas[0m('order', static function (mixed $q) use ($similarUserIds): void {

  The type of whereHas is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L117\app/Services/[1;31mRecommendationService.php:117:74[0m]8;;\
                'orderItems as purchase_count' => static function (mixed [30;47m$query[0m) use ($similarUserIds): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L119\app/Services/[1;31mRecommendationService.php:119:29[0m]8;;\ - Cannot determine the type of $q when calling method whereIn (see https://psalm.dev/015)
                        $q->[97;41mwhereIn[0m('user_id', $similarUserIds);

  The type of whereIn is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L118\app/Services/[1;31mRecommendationService.php:118:70[0m]8;;\
                    $query->whereHas('order', static function (mixed [30;47m$q[0m) use ($similarUserIds): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L123\app/Services/[1;31mRecommendationService.php:123:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('purchase_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L124\app/Services/[1;31mRecommendationService.php:124:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L125\app/Services/[1;31mRecommendationService.php:125:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L126\app/Services/[1;31mRecommendationService.php:126:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L144\app/Services/[1;31mRecommendationService.php:144:13[0m]8;;\ - Unable to determine the type that $categories is being assigned to (see https://psalm.dev/032)
            [97;41m$categories[0m = $userPreferences['categories'];

  The type of $categories is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L247\app/Services/[1;31mRecommendationService.php:247:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L152\app/Services/[1;31mRecommendationService.php:152:13[0m]8;;\ - Unable to determine the type that $priceRange is being assigned to (see https://psalm.dev/032)
            [97;41m$priceRange[0m = $userPreferences['price_range'];

  The type of $priceRange is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L247\app/Services/[1;31mRecommendationService.php:247:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L160\app/Services/[1;31mRecommendationService.php:160:13[0m]8;;\ - Unable to determine the type that $brands is being assigned to (see https://psalm.dev/032)
            [97;41m$brands[0m = $userPreferences['brands'];

  The type of $brands is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L247\app/Services/[1;31mRecommendationService.php:247:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L179\app/Services/[1;31mRecommendationService.php:179:16[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
        return [97;41mProduct::where('is_active', true)[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L179\app/Services/[1;31mRecommendationService.php:179:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mProduct::where('is_active', true)
            ->withCount([
                'orderItems as recent_purchases' => static function (mixed $query): void {
                    if (is_object($query) && method_exists($query, 'whereHas')) {
                        $query->whereHas('order', static function (mixed $q): void {
                            if (is_object($q) && method_exists($q, 'where')) {
                                $q->where('created_at', '>=', now()->subDays(7));
                            }
                        });
                    }
                },
            ])
            ->orderBy('recent_purchases', 'desc')
            ->orderBy('rating', 'desc')
            ->limit($limit)
            ->get()
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L180\app/Services/[1;31mRecommendationService.php:180:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwithCount[0m([


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L191\app/Services/[1;31mRecommendationService.php:191:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('recent_purchases', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L192\app/Services/[1;31mRecommendationService.php:192:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('rating', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L193\app/Services/[1;31mRecommendationService.php:193:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mlimit[0m($limit)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L194\app/Services/[1;31mRecommendationService.php:194:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L195\app/Services/[1;31mRecommendationService.php:195:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L226\app/Services/[1;31mRecommendationService.php:226:16[0m]8;;\ - Magic method App\Models\OrderItem::wherehas does not exist (see https://psalm.dev/219)
        return [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($user): void {
            $query->where('user_id', $user->id);
        })[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L226\app/Services/[1;31mRecommendationService.php:226:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($user): void {
            $query->where('user_id', $user->id);
        })
            ->select('product_id')
            ->distinct()
            ->get()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L227\app/Services/[1;31mRecommendationService.php:227:21[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
            $query->[97;41mwhere[0m('user_id', $user->id);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L226\app/Services/[1;31mRecommendationService.php:226:68[0m]8;;\
        return OrderItem::whereHas('order', static function (mixed [30;47m$query[0m) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L229\app/Services/[1;31mRecommendationService.php:229:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mselect[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L230\app/Services/[1;31mRecommendationService.php:230:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mdistinct[0m()


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L231\app/Services/[1;31mRecommendationService.php:231:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L239\app/Services/[1;31mRecommendationService.php:239:16[0m]8;;\ - Magic method App\Models\OrderItem::wherehas does not exist (see https://psalm.dev/219)
        return [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($user): void {
            $query->where('user_id', $user->id);
        })[0m


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L239\app/Services/[1;31mRecommendationService.php:239:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($user): void {
            $query->where('user_id', $user->id);
        })
            ->pluck('product_id')
            ->toArray()[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L240\app/Services/[1;31mRecommendationService.php:240:21[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
            $query->[97;41mwhere[0m('user_id', $user->id);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L239\app/Services/[1;31mRecommendationService.php:239:68[0m]8;;\
        return OrderItem::whereHas('order', static function (mixed [30;47m$query[0m) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L242\app/Services/[1;31mRecommendationService.php:242:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mpluck[0m('product_id')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L243\app/Services/[1;31mRecommendationService.php:243:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:9[0m]8;;\ - Unable to determine the type that $purchases is being assigned to (see https://psalm.dev/032)
        [97;41m$purchases[0m = OrderItem::whereHas('order', static function (mixed $query) use ($user): void {


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:22[0m]8;;\ - Magic method App\Models\OrderItem::wherehas does not exist (see https://psalm.dev/219)
        $purchases = [97;41mOrderItem::whereHas('order', static function (mixed $query) use ($user): void {
            $query->where('user_id', $user->id);
        })[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L252\app/Services/[1;31mRecommendationService.php:252:21[0m]8;;\ - Cannot determine the type of $query when calling method where (see https://psalm.dev/015)
            $query->[97;41mwhere[0m('user_id', $user->id);

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:74[0m]8;;\
        $purchases = OrderItem::whereHas('order', static function (mixed [30;47m$query[0m) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L254\app/Services/[1;31mRecommendationService.php:254:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwith[0m('product')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L255\app/Services/[1;31mRecommendationService.php:255:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L257\app/Services/[1;31mRecommendationService.php:257:25[0m]8;;\ - Cannot determine the type of $purchases when calling method isEmpty (see https://psalm.dev/015)
        if ($purchases->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function (mixed $query) use ($user): void {



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L261\app/Services/[1;31mRecommendationService.php:261:9[0m]8;;\ - Unable to determine the type that $categories is being assigned to (see https://psalm.dev/032)
        [97;41m$categories[0m = $purchases->pluck('product.category_id')->filter()->unique()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L261\app/Services/[1;31mRecommendationService.php:261:35[0m]8;;\ - Cannot determine the type of $purchases when calling method pluck (see https://psalm.dev/015)
        $categories = $purchases->[97;41mpluck[0m('product.category_id')->filter()->unique()->toArray();

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function (mixed $query) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L261\app/Services/[1;31mRecommendationService.php:261:65[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $categories = $purchases->pluck('product.category_id')->[97;41mfilter[0m()->unique()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L261\app/Services/[1;31mRecommendationService.php:261:75[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $categories = $purchases->pluck('product.category_id')->filter()->[97;41munique[0m()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L261\app/Services/[1;31mRecommendationService.php:261:85[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $categories = $purchases->pluck('product.category_id')->filter()->unique()->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L262\app/Services/[1;31mRecommendationService.php:262:9[0m]8;;\ - Unable to determine the type that $brands is being assigned to (see https://psalm.dev/032)
        [97;41m$brands[0m = $purchases->pluck('product.brand_id')->filter()->unique()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L262\app/Services/[1;31mRecommendationService.php:262:31[0m]8;;\ - Cannot determine the type of $purchases when calling method pluck (see https://psalm.dev/015)
        $brands = $purchases->[97;41mpluck[0m('product.brand_id')->filter()->unique()->toArray();

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function (mixed $query) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L262\app/Services/[1;31mRecommendationService.php:262:58[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $brands = $purchases->pluck('product.brand_id')->[97;41mfilter[0m()->unique()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L262\app/Services/[1;31mRecommendationService.php:262:68[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $brands = $purchases->pluck('product.brand_id')->filter()->[97;41munique[0m()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L262\app/Services/[1;31mRecommendationService.php:262:78[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $brands = $purchases->pluck('product.brand_id')->filter()->unique()->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:9[0m]8;;\ - Unable to determine the type that $prices is being assigned to (see https://psalm.dev/032)
        [97;41m$prices[0m = $purchases->pluck('product.price')->filter()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:31[0m]8;;\ - Cannot determine the type of $purchases when calling method pluck (see https://psalm.dev/015)
        $prices = $purchases->[97;41mpluck[0m('product.price')->filter()->toArray();

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L251\app/Services/[1;31mRecommendationService.php:251:9[0m]8;;\
        [30;47m$purchases[0m = OrderItem::whereHas('order', static function (mixed $query) use ($user): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:55[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $prices = $purchases->pluck('product.price')->[97;41mfilter[0m()->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:65[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $prices = $purchases->pluck('product.price')->filter()->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L268\app/Services/[1;31mRecommendationService.php:268:45[0m]8;;\ - Argument 1 of min cannot be non-empty-mixed, expecting non-empty-array<array-key, mixed> (see https://psalm.dev/030)
            'price_range' => $prices ? [min([97;41m$prices[0m), max($prices)] : null,

  The type of $prices is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:9[0m]8;;\
        [30;47m$prices[0m = $purchases->pluck('product.price')->filter()->toArray();



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L268\app/Services/[1;31mRecommendationService.php:268:59[0m]8;;\ - Argument 1 of max cannot be non-empty-mixed, expecting non-empty-array<array-key, mixed> (see https://psalm.dev/030)
            'price_range' => $prices ? [min($prices), max([97;41m$prices[0m)] : null,

  The type of $prices is sourced from here - ]8;;file:///var/www/html/app/Services/RecommendationService.php#L263\app/Services/[1;31mRecommendationService.php:263:9[0m]8;;\
        [30;47m$prices[0m = $purchases->pluck('product.price')->filter()->toArray();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L29\app/Services/[1;31mReportService.php:29:9[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
        [97;41m$product[0m = Product::findOrFail($productId);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L29\app/Services/[1;31mReportService.php:29:20[0m]8;;\ - Magic method App\Models\Product::findorfail does not exist (see https://psalm.dev/219)
        $product = [97;41mProduct::findOrFail($productId)[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L33\app/Services/[1;31mReportService.php:33:25[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'id' => [97;41m$product->id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L34\app/Services/[1;31mReportService.php:34:27[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'name' => [97;41m$product->name[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L35\app/Services/[1;31mReportService.php:35:36[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'current_price' => [97;41m$product->price[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L36\app/Services/[1;31mReportService.php:36:31[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'category' => [97;41m$product->category[0m->name ?? 'N/A',


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L36\app/Services/[1;31mReportService.php:36:31[0m]8;;\ - Cannot fetch property on mixed var $product->category (see https://psalm.dev/034)
                'category' => [97;41m$product->category->name[0m ?? 'N/A',


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L37\app/Services/[1;31mReportService.php:37:28[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'brand' => [97;41m$product->brand[0m->name ?? 'N/A',


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L37\app/Services/[1;31mReportService.php:37:28[0m]8;;\ - Cannot fetch property on mixed var $product->brand (see https://psalm.dev/034)
                'brand' => [97;41m$product->brand->name[0m ?? 'N/A',


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L60\app/Services/[1;31mReportService.php:60:9[0m]8;;\ - Unable to determine the type that $user is being assigned to (see https://psalm.dev/032)
        [97;41m$user[0m = User::findOrFail($userId);


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L60\app/Services/[1;31mReportService.php:60:17[0m]8;;\ - Magic method App\Models\User::findorfail does not exist (see https://psalm.dev/219)
        $user = [97;41mUser::findOrFail($userId)[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L64\app/Services/[1;31mReportService.php:64:25[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
                'id' => [97;41m$user->id[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L65\app/Services/[1;31mReportService.php:65:27[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
                'name' => [97;41m$user->name[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L66\app/Services/[1;31mReportService.php:66:28[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
                'email' => [97;41m$user->email[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L67\app/Services/[1;31mReportService.php:67:33[0m]8;;\ - Cannot fetch property on mixed var $user (see https://psalm.dev/034)
                'created_at' => [97;41m$user->created_at[0m?->format('Y-m-d H:i:s') ?? 'N/A',


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L67\app/Services/[1;31mReportService.php:67:53[0m]8;;\ - Cannot determine the type of $__tmp_nullsafe__2061 when calling method format (see https://psalm.dev/015)
                'created_at' => $user->created_at?->[97;41mformat[0m('Y-m-d H:i:s') ?? 'N/A',

  The type of format is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L67\app/Services/[1;31mReportService.php:67:33[0m]8;;\
                'created_at' => [30;47m$user->created_at[0m?->format('Y-m-d H:i:s') ?? 'N/A',



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L95\app/Services/[1;31mReportService.php:95:31[0m]8;;\ - Magic method App\Models\PriceOffer::wherebetween does not exist (see https://psalm.dev/219)
            'total_offers' => [97;41mPriceOffer::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L95\app/Services/[1;31mReportService.php:95:95[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'total_offers' => PriceOffer::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L110\app/Services/[1;31mReportService.php:110:9[0m]8;;\ - Unable to determine the type that $offers is being assigned to (see https://psalm.dev/032)
        [97;41m$offers[0m = PriceOffer::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L110\app/Services/[1;31mReportService.php:110:19[0m]8;;\ - Magic method App\Models\PriceOffer::where does not exist (see https://psalm.dev/219)
        $offers = [97;41mPriceOffer::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L111\app/Services/[1;31mReportService.php:111:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L112\app/Services/[1;31mReportService.php:112:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('created_at')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L113\app/Services/[1;31mReportService.php:113:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L115\app/Services/[1;31mReportService.php:115:22[0m]8;;\ - Cannot determine the type of $offers when calling method isEmpty (see https://psalm.dev/015)
        if ($offers->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L110\app/Services/[1;31mReportService.php:110:9[0m]8;;\
        [30;47m$offers[0m = PriceOffer::where('product_id', $productId)



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ReportService.php#L124\app/Services/[1;31mReportService.php:124:48[0m]8;;\ - Argument 1 of App\Services\ReportService::calculatePriceStatistics cannot be mixed, expecting Illuminate\Database\Eloquent\Collection<int, App\Models\PriceOffer> (see https://psalm.dev/030)
        return $this->calculatePriceStatistics([97;41m$offers[0m);

  The type of $offers is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L110\app/Services/[1;31mReportService.php:110:9[0m]8;;\
        [30;47m$offers[0m = PriceOffer::where('product_id', $productId)



[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/ReportService.php#L159\app/Services/[1;31mReportService.php:159:31[0m]8;;\ - Redundant cast to float given docblock-provided type (see https://psalm.dev/263)
            $priceChanges[] = [97;41m(float) $prices[$i][0m - (float) $prices[$i - 1];


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/Services/ReportService.php#L159\app/Services/[1;31mReportService.php:159:53[0m]8;;\ - Redundant cast to float given docblock-provided type (see https://psalm.dev/263)
            $priceChanges[] = (float) $prices[$i] - [97;41m(float) $prices[$i - 1][0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L162\app/Services/[1;31mReportService.php:162:50[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $volatility = count($priceChanges) > 0 ? [97;41marray_sum($priceChanges) / count($priceChanges)[0m : 0;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L170\app/Services/[1;31mReportService.php:170:32[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'average_price' => [97;41marray_sum($prices) / count($prices)[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L183\app/Services/[1;31mReportService.php:183:9[0m]8;;\ - Unable to determine the type that $offers is being assigned to (see https://psalm.dev/032)
        [97;41m$offers[0m = PriceOffer::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L183\app/Services/[1;31mReportService.php:183:19[0m]8;;\ - Magic method App\Models\PriceOffer::where does not exist (see https://psalm.dev/219)
        $offers = [97;41mPriceOffer::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L184\app/Services/[1;31mReportService.php:184:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L185\app/Services/[1;31mReportService.php:185:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwith[0m('store')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L186\app/Services/[1;31mReportService.php:186:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:9[0m]8;;\ - Unable to determine the type that $storeCounts is being assigned to (see https://psalm.dev/032)
        [97;41m$storeCounts[0m = $offers->groupBy('store_id')->map->count();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:24[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        $storeCounts = [97;41m$offers->groupBy('store_id')->map[0m->count();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:33[0m]8;;\ - Cannot determine the type of $offers when calling method groupBy (see https://psalm.dev/015)
        $storeCounts = $offers->[97;41mgroupBy[0m('store_id')->map->count();

  The type of groupBy is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L183\app/Services/[1;31mReportService.php:183:9[0m]8;;\
        [30;47m$offers[0m = PriceOffer::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:59[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $storeCounts = $offers->groupBy('store_id')->map->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:9[0m]8;;\ - Unable to determine the type that $availabilityCounts is being assigned to (see https://psalm.dev/032)
        [97;41m$availabilityCounts[0m = $offers->groupBy('is_available')->map->count();


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:31[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        $availabilityCounts = [97;41m$offers->groupBy('is_available')->map[0m->count();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:40[0m]8;;\ - Cannot determine the type of $offers when calling method groupBy (see https://psalm.dev/015)
        $availabilityCounts = $offers->[97;41mgroupBy[0m('is_available')->map->count();

  The type of groupBy is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L183\app/Services/[1;31mReportService.php:183:9[0m]8;;\
        [30;47m$offers[0m = PriceOffer::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:70[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $availabilityCounts = $offers->groupBy('is_available')->map->[97;41mcount[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L192\app/Services/[1;31mReportService.php:192:40[0m]8;;\ - Cannot determine the type of $offers when calling method count (see https://psalm.dev/015)
            'total_offers' => $offers->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L183\app/Services/[1;31mReportService.php:183:9[0m]8;;\
        [30;47m$offers[0m = PriceOffer::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L193\app/Services/[1;31mReportService.php:193:46[0m]8;;\ - Cannot determine the type of $storeCounts when calling method count (see https://psalm.dev/015)
            'unique_stores' => $storeCounts->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:9[0m]8;;\
        [30;47m$storeCounts[0m = $offers->groupBy('store_id')->map->count();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L194\app/Services/[1;31mReportService.php:194:56[0m]8;;\ - Cannot determine the type of $availabilityCounts when calling method get (see https://psalm.dev/015)
            'available_offers' => $availabilityCounts->[97;41mget[0m('1', 0),

  The type of get is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:9[0m]8;;\
        [30;47m$availabilityCounts[0m = $offers->groupBy('is_available')->map->count();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L195\app/Services/[1;31mReportService.php:195:58[0m]8;;\ - Cannot determine the type of $availabilityCounts when calling method get (see https://psalm.dev/015)
            'unavailable_offers' => $availabilityCounts->[97;41mget[0m('0', 0),

  The type of get is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L189\app/Services/[1;31mReportService.php:189:9[0m]8;;\
        [30;47m$availabilityCounts[0m = $offers->groupBy('is_available')->map->count();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L196\app/Services/[1;31mReportService.php:196:43[0m]8;;\ - Cannot determine the type of $storeCounts when calling method sortDesc (see https://psalm.dev/015)
            'top_stores' => $storeCounts->[97;41msortDesc[0m()->take(5)->toArray(),

  The type of sortDesc is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L188\app/Services/[1;31mReportService.php:188:9[0m]8;;\
        [30;47m$storeCounts[0m = $offers->groupBy('store_id')->map->count();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L196\app/Services/[1;31mReportService.php:196:55[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'top_stores' => $storeCounts->sortDesc()->[97;41mtake[0m(5)->toArray(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L196\app/Services/[1;31mReportService.php:196:64[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'top_stores' => $storeCounts->sortDesc()->take(5)->[97;41mtoArray[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L207\app/Services/[1;31mReportService.php:207:9[0m]8;;\ - Unable to determine the type that $wishlists is being assigned to (see https://psalm.dev/032)
        [97;41m$wishlists[0m = Wishlist::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L207\app/Services/[1;31mReportService.php:207:22[0m]8;;\ - Magic method App\Models\Wishlist::where does not exist (see https://psalm.dev/219)
        $wishlists = [97;41mWishlist::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L208\app/Services/[1;31mReportService.php:208:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L209\app/Services/[1;31mReportService.php:209:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L211\app/Services/[1;31mReportService.php:211:9[0m]8;;\ - Unable to determine the type that $priceAlerts is being assigned to (see https://psalm.dev/032)
        [97;41m$priceAlerts[0m = PriceAlert::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L211\app/Services/[1;31mReportService.php:211:24[0m]8;;\ - Magic method App\Models\PriceAlert::where does not exist (see https://psalm.dev/219)
        $priceAlerts = [97;41mPriceAlert::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L212\app/Services/[1;31mReportService.php:212:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L213\app/Services/[1;31mReportService.php:213:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L215\app/Services/[1;31mReportService.php:215:9[0m]8;;\ - Unable to determine the type that $reviews is being assigned to (see https://psalm.dev/032)
        [97;41m$reviews[0m = Review::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L215\app/Services/[1;31mReportService.php:215:20[0m]8;;\ - Magic method App\Models\Review::where does not exist (see https://psalm.dev/219)
        $reviews = [97;41mReview::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L216\app/Services/[1;31mReportService.php:216:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L217\app/Services/[1;31mReportService.php:217:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L223\app/Services/[1;31mReportService.php:223:35[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'total_engagement' => [97;41m$wishlists[0m + $priceAlerts + $reviews,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\ - Unable to determine the type that $reviews is being assigned to (see https://psalm.dev/032)
        [97;41m$reviews[0m = Review::where('product_id', $productId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:20[0m]8;;\ - Magic method App\Models\Review::where does not exist (see https://psalm.dev/219)
        $reviews = [97;41mReview::where('product_id', $productId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L235\app/Services/[1;31mReportService.php:235:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L236\app/Services/[1;31mReportService.php:236:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L238\app/Services/[1;31mReportService.php:238:23[0m]8;;\ - Cannot determine the type of $reviews when calling method isEmpty (see https://psalm.dev/015)
        if ($reviews->[97;41misEmpty[0m()) {

  The type of isEmpty is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\
        [30;47m$reviews[0m = Review::where('product_id', $productId)



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L246\app/Services/[1;31mReportService.php:246:9[0m]8;;\ - Unable to determine the type that $ratings is being assigned to (see https://psalm.dev/032)
        [97;41m$ratings[0m = $reviews->pluck('rating')->toArray();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L246\app/Services/[1;31mReportService.php:246:30[0m]8;;\ - Cannot determine the type of $reviews when calling method pluck (see https://psalm.dev/015)
        $ratings = $reviews->[97;41mpluck[0m('rating')->toArray();

  The type of pluck is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\
        [30;47m$reviews[0m = Review::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L246\app/Services/[1;31mReportService.php:246:47[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $ratings = $reviews->pluck('rating')->[97;41mtoArray[0m();


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ReportService.php#L247\app/Services/[1;31mReportService.php:247:50[0m]8;;\ - Argument 1 of array_count_values cannot be mixed, expecting array<array-key, array-key> (see https://psalm.dev/030)
        $ratingDistribution = array_count_values([97;41m$ratings[0m);

  The type of $ratings is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L246\app/Services/[1;31mReportService.php:246:9[0m]8;;\
        [30;47m$ratings[0m = $reviews->pluck('rating')->toArray();



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L250\app/Services/[1;31mReportService.php:250:42[0m]8;;\ - Cannot determine the type of $reviews when calling method count (see https://psalm.dev/015)
            'total_reviews' => $reviews->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\
        [30;47m$reviews[0m = Review::where('product_id', $productId)



[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L251\app/Services/[1;31mReportService.php:251:33[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'average_rating' => [97;41marray_sum($ratings) / count($ratings)[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L253\app/Services/[1;31mReportService.php:253:45[0m]8;;\ - Cannot determine the type of $reviews when calling method where (see https://psalm.dev/015)
            'approved_reviews' => $reviews->[97;41mwhere[0m('is_approved', true)->count(),

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\
        [30;47m$reviews[0m = Review::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L253\app/Services/[1;31mReportService.php:253:73[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'approved_reviews' => $reviews->where('is_approved', true)->[97;41mcount[0m(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L254\app/Services/[1;31mReportService.php:254:44[0m]8;;\ - Cannot determine the type of $reviews when calling method where (see https://psalm.dev/015)
            'pending_reviews' => $reviews->[97;41mwhere[0m('is_approved', false)->count(),

  The type of where is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L234\app/Services/[1;31mReportService.php:234:9[0m]8;;\
        [30;47m$reviews[0m = Review::where('product_id', $productId)



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L254\app/Services/[1;31mReportService.php:254:73[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'pending_reviews' => $reviews->where('is_approved', false)->[97;41mcount[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L265\app/Services/[1;31mReportService.php:265:9[0m]8;;\ - Unable to determine the type that $wishlists is being assigned to (see https://psalm.dev/032)
        [97;41m$wishlists[0m = Wishlist::where('user_id', $userId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L265\app/Services/[1;31mReportService.php:265:22[0m]8;;\ - Magic method App\Models\Wishlist::where does not exist (see https://psalm.dev/219)
        $wishlists = [97;41mWishlist::where('user_id', $userId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L266\app/Services/[1;31mReportService.php:266:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L267\app/Services/[1;31mReportService.php:267:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L269\app/Services/[1;31mReportService.php:269:9[0m]8;;\ - Unable to determine the type that $priceAlerts is being assigned to (see https://psalm.dev/032)
        [97;41m$priceAlerts[0m = PriceAlert::where('user_id', $userId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L269\app/Services/[1;31mReportService.php:269:24[0m]8;;\ - Magic method App\Models\PriceAlert::where does not exist (see https://psalm.dev/219)
        $priceAlerts = [97;41mPriceAlert::where('user_id', $userId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L270\app/Services/[1;31mReportService.php:270:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L271\app/Services/[1;31mReportService.php:271:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L273\app/Services/[1;31mReportService.php:273:9[0m]8;;\ - Unable to determine the type that $reviews is being assigned to (see https://psalm.dev/032)
        [97;41m$reviews[0m = Review::where('user_id', $userId)


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L273\app/Services/[1;31mReportService.php:273:20[0m]8;;\ - Magic method App\Models\Review::where does not exist (see https://psalm.dev/219)
        $reviews = [97;41mReview::where('user_id', $userId)[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L274\app/Services/[1;31mReportService.php:274:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L275\app/Services/[1;31mReportService.php:275:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mcount[0m();


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L281\app/Services/[1;31mReportService.php:281:33[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'total_activity' => [97;41m$wishlists[0m + $priceAlerts + $reviews,


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L288\app/Services/[1;31mReportService.php:288:16[0m]8;;\ - The declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getWishlistActivity is more specific than the inferred return type 'array<int, mixed>' (see https://psalm.dev/197)
     * @return [97;41marray<int, array<string, mixed>>[0m


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Services/ReportService.php#L294\app/Services/[1;31mReportService.php:294:16[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, array{created_at: null|string, product_id: int, product_name: string, user_id: int}>&static expects type Illuminate\Database\Eloquent\Model, type array{created_at: null|string, product_id: int, product_name: string, user_id: int} given (see https://psalm.dev/183)
        return [97;41m$wishlists->map(static function ($wishlist): array {
            $createdAt = $wishlist->created_at;

            return [
                'user_id' => $wishlist->user_id,
                'product_id' => $wishlist->product_id,
                'product_name' => $wishlist->product->name,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })[0m->toArray();


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L294\app/Services/[1;31mReportService.php:294:16[0m]8;;\ - The type 'array<int, mixed>' is more general than the declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getWishlistActivity (see https://psalm.dev/197)
        return [97;41m$wishlists->map(static function ($wishlist): array {
            $createdAt = $wishlist->created_at;

            return [
                'user_id' => $wishlist->user_id,
                'product_id' => $wishlist->product_id,
                'product_name' => $wishlist->product->name,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })->toArray()[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L309\app/Services/[1;31mReportService.php:309:16[0m]8;;\ - The declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getPriceAlertsActivity is more specific than the inferred return type 'array<int, mixed>' (see https://psalm.dev/197)
     * @return [97;41marray<int, array<string, mixed>>[0m


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Services/ReportService.php#L315\app/Services/[1;31mReportService.php:315:16[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, array{created_at: null|string, product_id: int, product_name: string, target_price: float, user_id: int}>&static expects type Illuminate\Database\Eloquent\Model, type array{created_at: null|string, product_id: int, product_name: string, target_price: float, user_id: int} given (see https://psalm.dev/183)
        return [97;41m$alerts->map(static function ($alert): array {
            $createdAt = $alert->created_at;

            return [
                'user_id' => $alert->user_id,
                'product_id' => $alert->product_id,
                'product_name' => $alert->product->name,
                'target_price' => $alert->target_price,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })[0m->toArray();


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L315\app/Services/[1;31mReportService.php:315:16[0m]8;;\ - The type 'array<int, mixed>' is more general than the declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getPriceAlertsActivity (see https://psalm.dev/197)
        return [97;41m$alerts->map(static function ($alert): array {
            $createdAt = $alert->created_at;

            return [
                'user_id' => $alert->user_id,
                'product_id' => $alert->product_id,
                'product_name' => $alert->product->name,
                'target_price' => $alert->target_price,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })->toArray()[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L331\app/Services/[1;31mReportService.php:331:16[0m]8;;\ - The declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getReviewsActivity is more specific than the inferred return type 'array<int, mixed>' (see https://psalm.dev/197)
     * @return [97;41marray<int, array<string, mixed>>[0m


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/Services/ReportService.php#L337\app/Services/[1;31mReportService.php:337:16[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, array{comment: mixed, created_at: mixed|null, product_id: int, product_name: string, rating: int, user_id: int}>&static expects type Illuminate\Database\Eloquent\Model, type array{comment: mixed, created_at: mixed|null, product_id: int, product_name: string, rating: int, user_id: int} given (see https://psalm.dev/183)
        return [97;41m$reviews->map(static function ($review): array {
            $createdAt = $review->created_at;

            return [
                'user_id' => $review->user_id,
                'product_id' => $review->product_id,
                'product_name' => $review->product->name,
                'rating' => $review->rating,
                'comment' => $review->comment,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })[0m->toArray();


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/ReportService.php#L337\app/Services/[1;31mReportService.php:337:16[0m]8;;\ - The type 'array<int, mixed>' is more general than the declared return type 'array<int, array<string, mixed>>' for App\Services\ReportService::getReviewsActivity (see https://psalm.dev/197)
        return [97;41m$reviews->map(static function ($review): array {
            $createdAt = $review->created_at;

            return [
                'user_id' => $review->user_id,
                'product_id' => $review->product_id,
                'product_name' => $review->product->name,
                'rating' => $review->rating,
                'comment' => $review->comment,
                'created_at' => $createdAt ? $createdAt->toDateTimeString() : null,
            ];
        })->toArray()[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L338\app/Services/[1;31mReportService.php:338:13[0m]8;;\ - Unable to determine the type that $createdAt is being assigned to (see https://psalm.dev/032)
            [97;41m$createdAt[0m = $review->created_at;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L338\app/Services/[1;31mReportService.php:338:26[0m]8;;\ - Magic instance property App\Models\Review::$created_at is not defined (see https://psalm.dev/218)
            $createdAt = [97;41m$review->created_at[0m;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/ReportService.php#L345\app/Services/[1;31mReportService.php:345:30[0m]8;;\ - Magic instance property App\Models\Review::$comment is not defined (see https://psalm.dev/218)
                'comment' => [97;41m$review->comment[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L346\app/Services/[1;31mReportService.php:346:58[0m]8;;\ - Cannot determine the type of $createdAt when calling method toDateTimeString (see https://psalm.dev/015)
                'created_at' => $createdAt ? $createdAt->[97;41mtoDateTimeString[0m() : null,

  The type of toDateTimeString is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L338\app/Services/[1;31mReportService.php:338:13[0m]8;;\
            [30;47m$createdAt[0m = $review->created_at;



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L359\app/Services/[1;31mReportService.php:359:30[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
            'total_users' => [97;41mUser::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L360\app/Services/[1;31mReportService.php:360:28[0m]8;;\ - Magic method App\Models\User::wherebetween does not exist (see https://psalm.dev/219)
            'new_users' => [97;41mUser::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L360\app/Services/[1;31mReportService.php:360:86[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_users' => User::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L361\app/Services/[1;31mReportService.php:361:33[0m]8;;\ - Magic method App\Models\Product::count does not exist (see https://psalm.dev/219)
            'total_products' => [97;41mProduct::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L362\app/Services/[1;31mReportService.php:362:31[0m]8;;\ - Magic method App\Models\Product::wherebetween does not exist (see https://psalm.dev/219)
            'new_products' => [97;41mProduct::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L362\app/Services/[1;31mReportService.php:362:92[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_products' => Product::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L363\app/Services/[1;31mReportService.php:363:31[0m]8;;\ - Magic method App\Models\PriceOffer::count does not exist (see https://psalm.dev/219)
            'total_offers' => [97;41mPriceOffer::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L364\app/Services/[1;31mReportService.php:364:29[0m]8;;\ - Magic method App\Models\PriceOffer::wherebetween does not exist (see https://psalm.dev/219)
            'new_offers' => [97;41mPriceOffer::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L364\app/Services/[1;31mReportService.php:364:93[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_offers' => PriceOffer::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L365\app/Services/[1;31mReportService.php:365:32[0m]8;;\ - Magic method App\Models\Review::count does not exist (see https://psalm.dev/219)
            'total_reviews' => [97;41mReview::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L366\app/Services/[1;31mReportService.php:366:30[0m]8;;\ - Magic method App\Models\Review::wherebetween does not exist (see https://psalm.dev/219)
            'new_reviews' => [97;41mReview::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L366\app/Services/[1;31mReportService.php:366:90[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_reviews' => Review::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L377\app/Services/[1;31mReportService.php:377:9[0m]8;;\ - Unable to determine the type that $users is being assigned to (see https://psalm.dev/032)
        [97;41m$users[0m = User::whereBetween('created_at', [$startDate, $endDate])->get();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L377\app/Services/[1;31mReportService.php:377:18[0m]8;;\ - Magic method App\Models\User::wherebetween does not exist (see https://psalm.dev/219)
        $users = [97;41mUser::whereBetween('created_at', [$startDate, $endDate])[0m->get();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L377\app/Services/[1;31mReportService.php:377:76[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $users = User::whereBetween('created_at', [$startDate, $endDate])->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L380\app/Services/[1;31mReportService.php:380:36[0m]8;;\ - Cannot determine the type of $users when calling method count (see https://psalm.dev/015)
            'new_users' => $users->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L377\app/Services/[1;31mReportService.php:377:9[0m]8;;\
        [30;47m$users[0m = User::whereBetween('created_at', [$startDate, $endDate])->get();



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L381\app/Services/[1;31mReportService.php:381:31[0m]8;;\ - Magic method App\Models\User::wherehas does not exist (see https://psalm.dev/219)
            'active_users' => [97;41mUser::whereHas('wishlists')[0m->orWhereHas('priceAlerts')->orWhereHas('reviews')->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L381\app/Services/[1;31mReportService.php:381:60[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'active_users' => User::whereHas('wishlists')->[97;41morWhereHas[0m('priceAlerts')->orWhereHas('reviews')->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L381\app/Services/[1;31mReportService.php:381:87[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'active_users' => User::whereHas('wishlists')->orWhereHas('priceAlerts')->[97;41morWhereHas[0m('reviews')->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L381\app/Services/[1;31mReportService.php:381:110[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'active_users' => User::whereHas('wishlists')->orWhereHas('priceAlerts')->orWhereHas('reviews')->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L382\app/Services/[1;31mReportService.php:382:61[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
            'admin_users' => User::where('is_admin', true)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L384\app/Services/[1;31mReportService.php:384:61[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
                User::where('created_at', '<', $startDate)->[97;41mcount[0m(),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/ReportService.php#L385\app/Services/[1;31mReportService.php:385:17[0m]8;;\ - Argument 2 of App\Services\ReportService::calculateGrowthRate cannot be mixed, expecting int (see https://psalm.dev/030)
                [97;41m$users->count()[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L385\app/Services/[1;31mReportService.php:385:25[0m]8;;\ - Cannot determine the type of $users when calling method count (see https://psalm.dev/015)
                $users->[97;41mcount[0m()

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L377\app/Services/[1;31mReportService.php:377:9[0m]8;;\
        [30;47m$users[0m = User::whereBetween('created_at', [$startDate, $endDate])->get();



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L397\app/Services/[1;31mReportService.php:397:9[0m]8;;\ - Unable to determine the type that $products is being assigned to (see https://psalm.dev/032)
        [97;41m$products[0m = Product::whereBetween('created_at', [$startDate, $endDate])->get();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L397\app/Services/[1;31mReportService.php:397:21[0m]8;;\ - Magic method App\Models\Product::wherebetween does not exist (see https://psalm.dev/219)
        $products = [97;41mProduct::whereBetween('created_at', [$startDate, $endDate])[0m->get();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L397\app/Services/[1;31mReportService.php:397:82[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        $products = Product::whereBetween('created_at', [$startDate, $endDate])->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L400\app/Services/[1;31mReportService.php:400:42[0m]8;;\ - Cannot determine the type of $products when calling method count (see https://psalm.dev/015)
            'new_products' => $products->[97;41mcount[0m(),

  The type of count is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L397\app/Services/[1;31mReportService.php:397:9[0m]8;;\
        [30;47m$products[0m = Product::whereBetween('created_at', [$startDate, $endDate])->get();



[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L401\app/Services/[1;31mReportService.php:401:34[0m]8;;\ - Magic method App\Models\Product::where does not exist (see https://psalm.dev/219)
            'active_products' => [97;41mProduct::where('is_active', true)[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L401\app/Services/[1;31mReportService.php:401:69[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'active_products' => Product::where('is_active', true)->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L402\app/Services/[1;31mReportService.php:402:39[0m]8;;\ - Magic method App\Models\Product::wherehas does not exist (see https://psalm.dev/219)
            'products_with_offers' => [97;41mProduct::whereHas('priceOffers')[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L402\app/Services/[1;31mReportService.php:402:73[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'products_with_offers' => Product::whereHas('priceOffers')->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L403\app/Services/[1;31mReportService.php:403:40[0m]8;;\ - Magic method App\Models\Product::wherehas does not exist (see https://psalm.dev/219)
            'products_with_reviews' => [97;41mProduct::whereHas('reviews')[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L403\app/Services/[1;31mReportService.php:403:70[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'products_with_reviews' => Product::whereHas('reviews')->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L404\app/Services/[1;31mReportService.php:404:32[0m]8;;\ - Magic method App\Models\Product::avg does not exist (see https://psalm.dev/219)
            'average_price' => [97;41mProduct::avg('price')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L406\app/Services/[1;31mReportService.php:406:26[0m]8;;\ - Magic method App\Models\Product::min does not exist (see https://psalm.dev/219)
                'min' => [97;41mProduct::min('price')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L407\app/Services/[1;31mReportService.php:407:26[0m]8;;\ - Magic method App\Models\Product::max does not exist (see https://psalm.dev/219)
                'max' => [97;41mProduct::max('price')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L420\app/Services/[1;31mReportService.php:420:34[0m]8;;\ - Magic method App\Models\Wishlist::count does not exist (see https://psalm.dev/219)
            'total_wishlists' => [97;41mWishlist::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L421\app/Services/[1;31mReportService.php:421:32[0m]8;;\ - Magic method App\Models\Wishlist::wherebetween does not exist (see https://psalm.dev/219)
            'new_wishlists' => [97;41mWishlist::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L421\app/Services/[1;31mReportService.php:421:94[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_wishlists' => Wishlist::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L422\app/Services/[1;31mReportService.php:422:37[0m]8;;\ - Magic method App\Models\PriceAlert::count does not exist (see https://psalm.dev/219)
            'total_price_alerts' => [97;41mPriceAlert::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L423\app/Services/[1;31mReportService.php:423:35[0m]8;;\ - Magic method App\Models\PriceAlert::wherebetween does not exist (see https://psalm.dev/219)
            'new_price_alerts' => [97;41mPriceAlert::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L423\app/Services/[1;31mReportService.php:423:99[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_price_alerts' => PriceAlert::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L424\app/Services/[1;31mReportService.php:424:32[0m]8;;\ - Magic method App\Models\Review::count does not exist (see https://psalm.dev/219)
            'total_reviews' => [97;41mReview::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L425\app/Services/[1;31mReportService.php:425:30[0m]8;;\ - Magic method App\Models\Review::wherebetween does not exist (see https://psalm.dev/219)
            'new_reviews' => [97;41mReview::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L425\app/Services/[1;31mReportService.php:425:90[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_reviews' => Review::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L426\app/Services/[1;31mReportService.php:426:33[0m]8;;\ - Magic method App\Models\Review::avg does not exist (see https://psalm.dev/219)
            'average_rating' => [97;41mReview::avg('rating')[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L438\app/Services/[1;31mReportService.php:438:35[0m]8;;\ - Magic method App\Models\AuditLog::count does not exist (see https://psalm.dev/219)
            'total_audit_logs' => [97;41mAuditLog::count()[0m,


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L439\app/Services/[1;31mReportService.php:439:33[0m]8;;\ - Magic method App\Models\AuditLog::wherebetween does not exist (see https://psalm.dev/219)
            'new_audit_logs' => [97;41mAuditLog::whereBetween('created_at', [$startDate, $endDate])[0m->count(),


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L439\app/Services/[1;31mReportService.php:439:95[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            'new_audit_logs' => AuditLog::whereBetween('created_at', [$startDate, $endDate])->[97;41mcount[0m(),


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L461\app/Services/[1;31mReportService.php:461:40[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'average_daily_changes' => [97;41m$priceChanges / $startDate->diffInDays($endDate)[0m,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L472\app/Services/[1;31mReportService.php:472:9[0m]8;;\ - Unable to determine the type that $products is being assigned to (see https://psalm.dev/032)
        [97;41m$products[0m = Product::withCount(['wishlists', 'priceAlerts', 'reviews'])


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L472\app/Services/[1;31mReportService.php:472:21[0m]8;;\ - Magic method App\Models\Product::withcount does not exist (see https://psalm.dev/219)
        $products = [97;41mProduct::withCount(['wishlists', 'priceAlerts', 'reviews'])[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L473\app/Services/[1;31mReportService.php:473:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L474\app/Services/[1;31mReportService.php:474:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('wishlists_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L475\app/Services/[1;31mReportService.php:475:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('price_alerts_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L476\app/Services/[1;31mReportService.php:476:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('reviews_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L477\app/Services/[1;31mReportService.php:477:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtake[0m(10)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L478\app/Services/[1;31mReportService.php:478:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L481\app/Services/[1;31mReportService.php:481:27[0m]8;;\ - Cannot determine the type of $products when calling method map (see https://psalm.dev/015)
        return $products->[97;41mmap[0m(fn(mixed $product): array => $this->formatTopProduct($product))->toArray();

  The type of map is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L472\app/Services/[1;31mReportService.php:472:9[0m]8;;\
        [30;47m$products[0m = Product::withCount(['wishlists', 'priceAlerts', 'reviews'])



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L481\app/Services/[1;31mReportService.php:481:96[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        return $products->map(fn(mixed $product): array => $this->formatTopProduct($product))->[97;41mtoArray[0m();


[0;31mERROR[0m: TooManyArguments - ]8;;file:///var/www/html/app/Services/ReportService.php#L517\app/Services/[1;31mReportService.php:517:15[0m]8;;\ - Too many arguments for method Illuminate\Database\Query\Builder::select - saw 3 (see https://psalm.dev/026)
            ->[97;41mselect[0m('stores.id', 'stores.name', DB::raw('COUNT(*) as offers_count'))


[0;31mERROR[0m: TooManyArguments - ]8;;file:///var/www/html/app/Services/ReportService.php#L534\app/Services/[1;31mReportService.php:534:15[0m]8;;\ - Too many arguments for method Illuminate\Database\Query\Builder::select - saw 2 (see https://psalm.dev/026)
            ->[97;41mselect[0m(DB::raw('DATE(created_at) as date'), DB::raw('AVG(price) as average_price'))


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/ReportService.php#L557\app/Services/[1;31mReportService.php:557:9[0m]8;;\ - Unable to determine the type that $users is being assigned to (see https://psalm.dev/032)
        [97;41m$users[0m = User::withCount(['wishlists', 'priceAlerts', 'reviews'])


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/ReportService.php#L557\app/Services/[1;31mReportService.php:557:18[0m]8;;\ - Magic method App\Models\User::withcount does not exist (see https://psalm.dev/219)
        $users = [97;41mUser::withCount(['wishlists', 'priceAlerts', 'reviews'])[0m


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L558\app/Services/[1;31mReportService.php:558:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mwhereBetween[0m('created_at', [$startDate, $endDate])


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L559\app/Services/[1;31mReportService.php:559:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('wishlists_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L560\app/Services/[1;31mReportService.php:560:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('price_alerts_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L561\app/Services/[1;31mReportService.php:561:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41morderBy[0m('reviews_count', 'desc')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L562\app/Services/[1;31mReportService.php:562:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mtake[0m(10)


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L563\app/Services/[1;31mReportService.php:563:15[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
            ->[97;41mget[0m();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L566\app/Services/[1;31mReportService.php:566:24[0m]8;;\ - Cannot determine the type of $users when calling method map (see https://psalm.dev/015)
        return $users->[97;41mmap[0m(fn(mixed $user): array => $this->formatMostActiveUser($user))->toArray();

  The type of map is sourced from here - ]8;;file:///var/www/html/app/Services/ReportService.php#L557\app/Services/[1;31mReportService.php:557:9[0m]8;;\
        [30;47m$users[0m = User::withCount(['wishlists', 'priceAlerts', 'reviews'])



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/ReportService.php#L566\app/Services/[1;31mReportService.php:566:91[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        return $users->map(fn(mixed $user): array => $this->formatMostActiveUser($user))->[97;41mtoArray[0m();


[0;31mERROR[0m: TooManyArguments - ]8;;file:///var/www/html/app/Services/ReportService.php#L601\app/Services/[1;31mReportService.php:601:15[0m]8;;\ - Too many arguments for method Illuminate\Database\Query\Builder::select - saw 3 (see https://psalm.dev/026)
            ->[97;41mselect[0m('products.id', 'products.name', DB::raw('COUNT(*) as view_count'))


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L630\app/Services/[1;31mReportService.php:630:23[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $percentage = [97;41m$change / $firstPrice * 100[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/ReportService.php#L651\app/Services/[1;31mReportService.php:651:16[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        return [97;41m($current - $previous) / $previous * 100[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/RouteConfigurationService.php#L22\app/Services/[1;31mRouteConfigurationService.php:22:108[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        $this->rateLimiter->for('authenticated', static fn (Request $request) => Limit::perMinute(200)->by([97;41m$request->user()->id[0m ?? $request->ip()));


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/RouteConfigurationService.php#L25\app/Services/[1;31mRouteConfigurationService.php:25:100[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        $this->rateLimiter->for('admin', static fn (Request $request) => Limit::perMinute(500)->by([97;41m$request->user()->id[0m ?? $request->ip()));


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/RouteConfigurationService.php#L31\app/Services/[1;31mRouteConfigurationService.php:31:96[0m]8;;\ - Cannot fetch property on mixed var  (see https://psalm.dev/034)
        $this->rateLimiter->for('ai', static fn (Request $request) => Limit::perMinute(50)->by([97;41m$request->user()->id[0m ?? $request->ip()));


[0;31mERROR[0m: UnresolvableInclude - ]8;;file:///var/www/html/app/Services/RouteConfigurationService.php#L37\app/Services/[1;31mRouteConfigurationService.php:37:13[0m]8;;\ - Cannot resolve the given expression to a file path (see https://psalm.dev/106)
            [97;41mrequire base_path('routes/api.php')[0m;


[0;31mERROR[0m: UnresolvableInclude - ]8;;file:///var/www/html/app/Services/RouteConfigurationService.php#L41\app/Services/[1;31mRouteConfigurationService.php:41:13[0m]8;;\ - Cannot resolve the given expression to a file path (see https://psalm.dev/106)
            [97;41mrequire base_path('routes/web.php')[0m;


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/SEOService.php#L23\app/Services/[1;31mSEOService.php:23:53[0m]8;;\ - Argument 1 of App\Services\SEOService::generateProductMeta expects App\Models\Product, but parent type Illuminate\Database\Eloquent\Model provided (see https://psalm.dev/193)
            'Product' => $this->generateProductMeta([97;41m$model[0m),


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/SEOService.php#L24\app/Services/[1;31mSEOService.php:24:55[0m]8;;\ - Argument 1 of App\Services\SEOService::generateCategoryMeta expects App\Models\Category, but parent type Illuminate\Database\Eloquent\Model provided (see https://psalm.dev/193)
            'Category' => $this->generateCategoryMeta([97;41m$model[0m),


[0;31mERROR[0m: ArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/SEOService.php#L25\app/Services/[1;31mSEOService.php:25:49[0m]8;;\ - Argument 1 of App\Services\SEOService::generateStoreMeta expects App\Models\Store, but parent type Illuminate\Database\Eloquent\Model provided (see https://psalm.dev/193)
            'Store' => $this->generateStoreMeta([97;41m$model[0m),


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/SEOService.php#L36\app/Services/[1;31mSEOService.php:36:51[0m]8;;\ - Docblock-defined type string for $product->description is always isset (see https://psalm.dev/156)
        $description = $this->generateDescription([97;41m$product->description[0m ?? $product->name);


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/SEOService.php#L36\app/Services/[1;31mSEOService.php:36:76[0m]8;;\ - Cannot resolve types for $product->description with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
        $description = $this->generateDescription($product->description ?? [97;41m$product->name[0m);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SEOService.php#L106\app/Services/[1;31mSEOService.php:106:9[0m]8;;\ - Unable to determine the type that $appName is being assigned to (see https://psalm.dev/032)
        [97;41m$appName[0m = config('app.name', 'COPRRA');

  The type of $appName is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/SEOService.php#L110\app/Services/[1;31mSEOService.php:110:24[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
            'title' => [97;41m$appName[0m . ' - Price Comparison Platform',

  The type of $appName is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SEOService.php#L128\app/Services/[1;31mSEOService.php:128:9[0m]8;;\ - Unable to determine the type that $appName is being assigned to (see https://psalm.dev/032)
        [97;41m$appName[0m = config('app.name', 'COPRRA');

  The type of $appName is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SEOService.php#L132\app/Services/[1;31mSEOService.php:132:51[0m]8;;\ - Argument 1 of strlen cannot be mixed, expecting string (see https://psalm.dev/030)
        if (strlen($title) > ($maxLength - strlen([97;41m$appName[0m) - 3)) {

  The type of $appName is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SEOService.php#L165\app/Services/[1;31mSEOService.php:165:9[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
        [97;41m$keywords[][0m = $model->name ?? '';


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/SEOService.php#L168\app/Services/[1;31mSEOService.php:168:50[0m]8;;\ - Magic instance property Illuminate\Database\Eloquent\Model::$category is not defined (see https://psalm.dev/218)
        if (method_exists($model, 'category') && [97;41m$model->category[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SEOService.php#L169\app/Services/[1;31mSEOService.php:169:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$keywords[][0m = $model->category->name;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/SEOService.php#L169\app/Services/[1;31mSEOService.php:169:27[0m]8;;\ - Cannot fetch property on mixed var $model->category (see https://psalm.dev/034)
            $keywords[] = [97;41m$model->category->name[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SEOService.php#L174\app/Services/[1;31mSEOService.php:174:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$keywords[][0m = $model->brand;


[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/SEOService.php#L186\app/Services/[1;31mSEOService.php:186:30[0m]8;;\ - Argument 2 of implode expects array<array-key, null|object{__tostring()}|scalar>, but parent type non-empty-array<0|1|2|3|4|5, 'best price'|'deals'|'price comparison'|non-empty-mixed> provided (see https://psalm.dev/194)
        return implode(', ', [97;41m$keywords[0m);

  The type of $keywords is sourced from here - ]8;;file:///var/www/html/vendor/vimeo/psalm/stubs/CoreGenericFunctions.phpstub#L139\vendor/vimeo/psalm/stubs/[1;31mCoreGenericFunctions.phpstub:139:12[0m]8;;\
 * @return [30;47m(TArray is non-empty-array ? non-empty-array<TKey, TValue> : array<TKey, TValue>)[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SEOService.php#L199\app/Services/[1;31mSEOService.php:199:26[0m]8;;\ - Argument 1 of strlen cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
        } elseif (strlen([97;41m$metaData['title'][0m) < 30) {

  The type of $metaData['title'] is sourced from here - ]8;;file:///var/www/html/app/Services/SEOService.php#L192\app/Services/[1;31mSEOService.php:192:44[0m]8;;\
    public function validateMetaData(array [30;47m$metaData[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SEOService.php#L201\app/Services/[1;31mSEOService.php:201:26[0m]8;;\ - Argument 1 of strlen cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
        } elseif (strlen([97;41m$metaData['title'][0m) > 60) {

  The type of $metaData['title'] is sourced from here - ]8;;file:///var/www/html/app/Services/SEOService.php#L192\app/Services/[1;31mSEOService.php:192:44[0m]8;;\
    public function validateMetaData(array [30;47m$metaData[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SEOService.php#L208\app/Services/[1;31mSEOService.php:208:26[0m]8;;\ - Argument 1 of strlen cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
        } elseif (strlen([97;41m$metaData['description'][0m) < 70) {

  The type of $metaData['description'] is sourced from here - ]8;;file:///var/www/html/app/Services/SEOService.php#L192\app/Services/[1;31mSEOService.php:192:44[0m]8;;\
    public function validateMetaData(array [30;47m$metaData[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SEOService.php#L210\app/Services/[1;31mSEOService.php:210:26[0m]8;;\ - Argument 1 of strlen cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
        } elseif (strlen([97;41m$metaData['description'][0m) > 160) {

  The type of $metaData['description'] is sourced from here - ]8;;file:///var/www/html/app/Services/SEOService.php#L192\app/Services/[1;31mSEOService.php:192:44[0m]8;;\
    public function validateMetaData(array [30;47m$metaData[0m): array



[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/Services/SEOService.php#L236\app/Services/[1;31mSEOService.php:236:30[0m]8;;\ - Docblock-defined type string for $product->description is always isset (see https://psalm.dev/156)
            'description' => [97;41m$product->description[0m ?? $product->name,


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/Services/SEOService.php#L236\app/Services/[1;31mSEOService.php:236:55[0m]8;;\ - Cannot resolve types for $product->description with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'description' => $product->description ?? [97;41m$product->name[0m,


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/SEOService.php#L246\app/Services/[1;31mSEOService.php:246:36[0m]8;;\ - Cannot fetch property on mixed var $product->currency (see https://psalm.dev/034)
                'priceCurrency' => [97;41m$product->currency->code[0m ?? 'USD',


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SecurityAnalysisService.php#L102\app/Services/[1;31mSecurityAnalysisService.php:102:9[0m]8;;\ - Unable to determine the type that $appUrl is being assigned to (see https://psalm.dev/032)
        [97;41m$appUrl[0m = config('app.url');

  The type of $appUrl is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L22\app/Services/[1;31mStorageManagementService.php:22:9[0m]8;;\ - Unable to determine the type that $config is being assigned to (see https://psalm.dev/032)
        [97;41m$config[0m = config('storage_management', [

  The type of $config is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L46\app/Services/[1;31mStorageManagementService.php:46:20[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $maxSize = [97;41m$maxSizeMb * 1024[0m * 1024;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L47\app/Services/[1;31mStorageManagementService.php:47:43[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $usagePercentage = $maxSize > 0 ? [97;41m$totalSize / $maxSize[0m * 100 : 0;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L52\app/Services/[1;31mStorageManagementService.php:52:40[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'current_size_mb' => round([97;41m$totalSize / 1024 / 1024[0m, 2),


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L88\app/Services/[1;31mStorageManagementService.php:88:40[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                    'size_mb' => round([97;41m$size / 1024 / 1024[0m, 2),


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L107\app/Services/[1;31mStorageManagementService.php:107:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($usage['needs_cleanup'] ?? false)[0m || ! ($this->config['auto_cleanup'] ?? false)) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L107\app/Services/[1;31mStorageManagementService.php:107:53[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if (! ($usage['needs_cleanup'] ?? false) || [97;41m! ($this->config['auto_cleanup'] ?? false)[0m) {


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L115\app/Services/[1;31mStorageManagementService.php:115:49[0m]8;;\ - Argument 1 of App\Services\StorageManagementService::performCleanup cannot be list{'temp', 'cache', 'logs', 'backups'}|mixed, expecting list<string> (see https://psalm.dev/030)
        $cleanupResults = $this->performCleanup([97;41m$this->config['cleanup_priority'] ?? ['temp', 'cache', 'logs', 'backups'][0m);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L132\app/Services/[1;31mStorageManagementService.php:132:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($this->config['compression_enabled'] ?? false)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L148\app/Services/[1;31mStorageManagementService.php:148:21[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                    [97;41m$results['files_compressed'][0m += $compressionResult['files_compressed'];


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L148\app/Services/[1;31mStorageManagementService.php:148:53[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $results['files_compressed'] += [97;41m$compressionResult['files_compressed'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L149\app/Services/[1;31mStorageManagementService.php:149:21[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                    [97;41m$results['space_saved_mb'][0m += $compressionResult['space_saved_mb'];


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L149\app/Services/[1;31mStorageManagementService.php:149:51[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $results['space_saved_mb'] += [97;41m$compressionResult['space_saved_mb'][0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L169\app/Services/[1;31mStorageManagementService.php:169:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($this->config['archival_enabled'] ?? false)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L189\app/Services/[1;31mStorageManagementService.php:189:21[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                    [97;41m$results['files_archived'][0m += $archiveResult['files_archived'];


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L189\app/Services/[1;31mStorageManagementService.php:189:51[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $results['files_archived'] += [97;41m$archiveResult['files_archived'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L190\app/Services/[1;31mStorageManagementService.php:190:21[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                    [97;41m$results['archives_created'][0m += $archiveResult['archives_created'];


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L190\app/Services/[1;31mStorageManagementService.php:190:53[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $results['archives_created'] += [97;41m$archiveResult['archives_created'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L191\app/Services/[1;31mStorageManagementService.php:191:21[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                    [97;41m$results['space_saved_mb'][0m += $archiveResult['space_saved_mb'];


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L191\app/Services/[1;31mStorageManagementService.php:191:51[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                    $results['space_saved_mb'] += [97;41m$archiveResult['space_saved_mb'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L212\app/Services/[1;31mStorageManagementService.php:212:9[0m]8;;\ - Unable to determine the type that $breakdown is being assigned to (see https://psalm.dev/032)
        [97;41m$breakdown[0m = $usage['breakdown'];

  The type of $breakdown is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L39\app/Services/[1;31mStorageManagementService.php:39:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L250\app/Services/[1;31mStorageManagementService.php:250:45[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
            foreach ($breakdown as $name => [97;41m$data[0m) {

  The type of $data is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L39\app/Services/[1;31mStorageManagementService.php:39:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L303\app/Services/[1;31mStorageManagementService.php:303:9[0m]8;;\ - Unable to determine the type that $breakdown is being assigned to (see https://psalm.dev/032)
        [97;41m$breakdown[0m = $usage['breakdown'];

  The type of $breakdown is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L39\app/Services/[1;31mStorageManagementService.php:39:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L305\app/Services/[1;31mStorageManagementService.php:305:42[0m]8;;\ - Argument 1 of App\Services\StorageManagementService::getFileStats cannot be mixed, expecting array<array-key, mixed>|null (see https://psalm.dev/030)
        $fileStats = $this->getFileStats([97;41m$breakdown[0m);

  The type of $breakdown is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L39\app/Services/[1;31mStorageManagementService.php:39:16[0m]8;;\
     * @return [30;47marray<string, mixed>[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L331\app/Services/[1;31mStorageManagementService.php:331:28[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($files as [97;41m$file[0m) {

  The type of $file is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L329\app/Services/[1;31mStorageManagementService.php:329:48[0m]8;;\
    private function updateFileTimeStats(array [30;47m$files[0m, ?int &$oldestFile, ?int &$newestFile): void



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L332\app/Services/[1;31mStorageManagementService.php:332:35[0m]8;;\ - Argument 1 of filemtime cannot be mixed, expecting string (see https://psalm.dev/030)
            $fileTime = filemtime([97;41m$file[0m);

  The type of $file is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L329\app/Services/[1;31mStorageManagementService.php:329:48[0m]8;;\
    private function updateFileTimeStats(array [30;47m$files[0m, ?int &$oldestFile, ?int &$newestFile): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L366\app/Services/[1;31mStorageManagementService.php:366:36[0m]8;;\ - Unable to determine the type that $data is being assigned to (see https://psalm.dev/032)
            foreach ($breakdown as [97;41m$data[0m) {

  The type of $data is sourced from here - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L359\app/Services/[1;31mStorageManagementService.php:359:42[0m]8;;\
    private function getFileStats(?array [30;47m$breakdown[0m): array



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L373\app/Services/[1;31mStorageManagementService.php:373:30[0m]8;;\ - Operand of type int|null contains type int, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            'oldest_file' => [97;41m$oldestFile[0m ? Carbon::createFromTimestamp($oldestFile)->toISOString() : null,


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L374\app/Services/[1;31mStorageManagementService.php:374:30[0m]8;;\ - Operand of type int|null contains type int, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            'newest_file' => [97;41m$newestFile[0m ? Carbon::createFromTimestamp($newestFile)->toISOString() : null,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L394\app/Services/[1;31mStorageManagementService.php:394:9[0m]8;;\ - Unable to determine the type that $criticalThreshold is being assigned to (see https://psalm.dev/032)
        [97;41m$criticalThreshold[0m = $this->config['critical_threshold'] ?? 95;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L429\app/Services/[1;31mStorageManagementService.php:429:17[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
                [97;41m$cleanupResults[$type][0m = $this->cleanupService->{$cleanupMethod}();


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L452\app/Services/[1;31mStorageManagementService.php:452:39[0m]8;;\ - Operand of type false|int<0, max> contains type int<0, max>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ($fileContent !== false && [97;41mfile_put_contents($compressedFile, gzencode($fileContent))[0m) {


[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L452\app/Services/[1;31mStorageManagementService.php:452:74[0m]8;;\ - Argument 2 of file_put_contents cannot be false, possibly array<array-key, string>|resource|string value expected (see https://psalm.dev/104)
        if ($fileContent !== false && file_put_contents($compressedFile, [97;41mgzencode($fileContent)[0m)) {


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L488\app/Services/[1;31mStorageManagementService.php:488:39[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            'space_saved_mb' => round([97;41m$spaceSaved / 1024 / 1024[0m, 2),


[0;31mERROR[0m: PossiblyFalseOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L513\app/Services/[1;31mStorageManagementService.php:513:43[0m]8;;\ - Right operand cannot be falsable, got false|int (see https://psalm.dev/162)
            $spaceSaved = $originalSize - [97;41m$archiveSize[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L521\app/Services/[1;31mStorageManagementService.php:521:37[0m]8;;\ - Operand of type false|list<non-empty-string> contains type list<non-empty-string>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
                'files_archived' => [97;41m$files[0m ? count($files) : 0,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L523\app/Services/[1;31mStorageManagementService.php:523:43[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
                'space_saved_mb' => round([97;41m$spaceSaved / 1024 / 1024[0m, 2),


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L548\app/Services/[1;31mStorageManagementService.php:548:35[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
            foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L572\app/Services/[1;31mStorageManagementService.php:572:31[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StorageManagementService.php#L600\app/Services/[1;31mStorageManagementService.php:600:31[0m]8;;\ - Unable to determine the type that $file is being assigned to (see https://psalm.dev/032)
        foreach ($iterator as [97;41m$file[0m) {


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Services/StoreAdapterManager.php#L5\app/Services/[1;31mStoreAdapterManager.php:5:1[0m]8;;\ - Const namespfinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnamespfinal[0m ace App\Services;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Services/StoreAdapterManager.php#L5\app/Services/[1;31mStoreAdapterManager.php:5:13[0m]8;;\ - Const ace is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespfinal [97;41mace[0m App\Services;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Services/StoreAdapterManager.php#L5\app/Services/[1;31mStoreAdapterManager.php:5:17[0m]8;;\ - Const App\Services is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespfinal ace [97;41mApp\Services[0m;


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StoreAdapterManager.php#L30\app/Services/[1;31mStoreAdapterManager.php:30:25[0m]8;;\ - Argument 1 of StoreAdapterManager::register cannot be mixed, expecting App\Contracts\StoreAdapterInterface (see https://psalm.dev/030)
        $this->register([97;41mnew NoonAdapter()[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Services/StoreAdapterManager.php#L30\app/Services/[1;31mStoreAdapterManager.php:30:29[0m]8;;\ - Class, interface or enum named App\Services\StoreAdapters\NoonAdapter does not exist (see https://psalm.dev/019)
        $this->register(new [97;41mNoonAdapter[0m());


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L35\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:35:28[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
                    return [97;41m$response->json()[0m;

  The type of $response->json() is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Http/Client/Response.php#L82\vendor/laravel/framework/src/Illuminate/Http/Client/[1;31mResponse.php:82:16[0m]8;;\
     * @return [30;47mmixed[0m



[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L83\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:83:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41mCache::get($key)[0m;


[0;31mERROR[0m: InvalidOverride - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L118\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:118:5[0m]8;;\ - Method getLastError does not match any parent method (see https://psalm.dev/357)
    /**
     * {@inheritdoc}
     */
    [97;41m#[\Override][0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L22\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:22:9[0m]8;;\ - Unable to determine the type that $this->apiKey is being assigned to (see https://psalm.dev/032)
        [97;41m$this->apiKey[0m = config('services.amazon.api_key', '');

  The type of $this->apiKey is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L23\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:23:9[0m]8;;\ - Unable to determine the type that $this->apiSecret is being assigned to (see https://psalm.dev/032)
        [97;41m$this->apiSecret[0m = config('services.amazon.api_secret', '');

  The type of $this->apiSecret is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L24\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:24:9[0m]8;;\ - Unable to determine the type that $this->associateTag is being assigned to (see https://psalm.dev/032)
        [97;41m$this->associateTag[0m = config('services.amazon.associate_tag', '');

  The type of $this->associateTag is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L25\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:25:9[0m]8;;\ - Unable to determine the type that $this->region is being assigned to (see https://psalm.dev/032)
        [97;41m$this->region[0m = config('services.amazon.region', 'us-east-1');

  The type of $this->region is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L59\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:59:62[0m]8;;\ - The declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\AmazonAdapter::fetchProduct is more specific than the inferred return type 'array<array-key, mixed>|null' (see https://psalm.dev/197)
    public function fetchProduct(string $productIdentifier): [97;41m?array[0m


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L68\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:68:13[0m]8;;\ - Operand of type array<array-key, mixed>|null contains type array<array-key, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$cached[0m) {


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L69\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:69:20[0m]8;;\ - The type 'non-empty-array<array-key, mixed>' is more general than the declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\AmazonAdapter::fetchProduct (see https://psalm.dev/197)
            return [97;41m$cached[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L76\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:76:13[0m]8;;\ - Operand of type array<array-key, mixed>|null contains type array<array-key, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$productData[0m) {


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L79\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:79:20[0m]8;;\ - The type 'array<array-key, mixed>' is more general than the declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\AmazonAdapter::fetchProduct (see https://psalm.dev/197)
            return [97;41m$normalized[0m;


[0;31mERROR[0m: UnusedParam - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L88\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:88:48[0m]8;;\ - Param asin is never referenced in this method (see https://psalm.dev/135)
    private function fetchFromAmazonAPI(string [97;41m$asin[0m): ?array


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L104\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:104:23[0m]8;;\ - Cannot access array value on mixed variable $amazonData['ItemInfo']['Title'] (see https://psalm.dev/051)
            'name' => [97;41m$amazonData['ItemInfo']['Title']['DisplayValue'][0m ?? '',


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L105\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:105:24[0m]8;;\ - Cannot access array value on mixed variable $amazonData['Offers']['Listings'][0]['Price'] (see https://psalm.dev/051)
            'price' => [97;41m$amazonData['Offers']['Listings'][0]['Price']['Amount'][0m ?? 0,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L106\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:106:27[0m]8;;\ - Cannot access array value on mixed variable $amazonData['Offers']['Listings'][0]['Price'] (see https://psalm.dev/051)
            'currency' => [97;41m$amazonData['Offers']['Listings'][0]['Price']['Currency'][0m ?? 'USD',


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L108\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:108:28[0m]8;;\ - Cannot access array value on mixed variable $amazonData['Images']['Primary'] (see https://psalm.dev/051)
            'image_url' => [97;41m$amazonData['Images']['Primary']['Large'][0m['URL'] ?? null,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L108\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:108:28[0m]8;;\ - Cannot access array value on mixed variable $amazonData['Images']['Primary']['Large'] (see https://psalm.dev/051)
            'image_url' => [97;41m$amazonData['Images']['Primary']['Large']['URL'][0m ?? null,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L109\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:109:31[0m]8;;\ - Cannot access array value on mixed variable $amazonData['Offers']['Listings'][0]['Availability'] (see https://psalm.dev/051)
            'availability' => [97;41m$amazonData['Offers']['Listings'][0]['Availability']['Type'][0m ?? 'unknown',


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L110\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:110:25[0m]8;;\ - Cannot access array value on mixed variable $amazonData['CustomerReviews']['StarRating'] (see https://psalm.dev/051)
            'rating' => [97;41m$amazonData['CustomerReviews']['StarRating']['Value'][0m ?? null,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L113\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:113:24[0m]8;;\ - Cannot access array value on mixed variable $amazonData['ItemInfo']['ByLineInfo'] (see https://psalm.dev/051)
            'brand' => [97;41m$amazonData['ItemInfo']['ByLineInfo']['Brand'][0m['DisplayValue'] ?? null,


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/StoreAdapters/AmazonAdapter.php#L113\app/Services/StoreAdapters/[1;31mAmazonAdapter.php:113:24[0m]8;;\ - Cannot access array value on mixed variable $amazonData['ItemInfo']['ByLineInfo']['Brand'] (see https://psalm.dev/051)
            'brand' => [97;41m$amazonData['ItemInfo']['ByLineInfo']['Brand']['DisplayValue'][0m ?? null,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L19\app/Services/StoreAdapters/[1;31mEbayAdapter.php:19:9[0m]8;;\ - Unable to determine the type that $this->appId is being assigned to (see https://psalm.dev/032)
        [97;41m$this->appId[0m = config('services.ebay.app_id', '');

  The type of $this->appId is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L20\app/Services/StoreAdapters/[1;31mEbayAdapter.php:20:9[0m]8;;\ - Unable to determine the type that $this->certId is being assigned to (see https://psalm.dev/032)
        [97;41m$this->certId[0m = config('services.ebay.cert_id', '');

  The type of $this->certId is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L21\app/Services/StoreAdapters/[1;31mEbayAdapter.php:21:9[0m]8;;\ - Unable to determine the type that $this->devId is being assigned to (see https://psalm.dev/032)
        [97;41m$this->devId[0m = config('services.ebay.dev_id', '');

  The type of $this->devId is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L22\app/Services/StoreAdapters/[1;31mEbayAdapter.php:22:9[0m]8;;\ - Unable to determine the type that $this->siteId is being assigned to (see https://psalm.dev/032)
        [97;41m$this->siteId[0m = config('services.ebay.site_id', '0'); // 0 = US

  The type of $this->siteId is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L56\app/Services/StoreAdapters/[1;31mEbayAdapter.php:56:62[0m]8;;\ - The declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\EbayAdapter::fetchProduct is more specific than the inferred return type 'array<array-key, mixed>|null' (see https://psalm.dev/197)
    public function fetchProduct(string $productIdentifier): [97;41m?array[0m


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L65\app/Services/StoreAdapters/[1;31mEbayAdapter.php:65:13[0m]8;;\ - Operand of type array<array-key, mixed>|null contains type array<array-key, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$cached[0m) {


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L66\app/Services/StoreAdapters/[1;31mEbayAdapter.php:66:20[0m]8;;\ - The type 'non-empty-array<array-key, mixed>' is more general than the declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\EbayAdapter::fetchProduct (see https://psalm.dev/197)
            return [97;41m$cached[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L74\app/Services/StoreAdapters/[1;31mEbayAdapter.php:74:13[0m]8;;\ - Operand of type array<array-key, mixed>|null contains type array<array-key, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$response[0m && isset($response['Item'])) {


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L75\app/Services/StoreAdapters/[1;31mEbayAdapter.php:75:52[0m]8;;\ - Argument 1 of App\Services\StoreAdapters\EbayAdapter::normalizeEbayData cannot be mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
            $normalized = $this->normalizeEbayData([97;41m$response['Item'][0m);

  The type of $response['Item'] is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L24\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:24:71[0m]8;;\
    protected function makeRequest(string $url, array $options = []): [30;47m?array[0m



[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L77\app/Services/StoreAdapters/[1;31mEbayAdapter.php:77:20[0m]8;;\ - The type 'array<array-key, mixed>' is more general than the declared return type 'array{availability: string, brand: null|string, category: null|string, currency: string, description: null|string, image_url: null|string, metadata: array<array-key, mixed>, name: string, price: float, rating: float|null, reviews_count: int|null, url: string}|null' for App\Services\StoreAdapters\EbayAdapter::fetchProduct (see https://psalm.dev/197)
            return [97;41m$normalized[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L96\app/Services/StoreAdapters/[1;31mEbayAdapter.php:96:9[0m]8;;\ - Unable to determine the type that $price is being assigned to (see https://psalm.dev/032)
        [97;41m$price[0m = $ebayData['CurrentPrice']['Value'] ?? 0;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L97\app/Services/StoreAdapters/[1;31mEbayAdapter.php:97:9[0m]8;;\ - Unable to determine the type that $currency is being assigned to (see https://psalm.dev/032)
        [97;41m$currency[0m = $ebayData['CurrentPrice']['CurrencyID'] ?? 'USD';


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L127\app/Services/StoreAdapters/[1;31mEbayAdapter.php:127:9[0m]8;;\ - Unable to determine the type that $quantity is being assigned to (see https://psalm.dev/032)
        [97;41m$quantity[0m = $ebayData['Quantity'] ?? 0;

  The type of $quantity is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L125\app/Services/StoreAdapters/[1;31mEbayAdapter.php:125:48[0m]8;;\
    private function mapEbayAvailability(array [30;47m$ebayData[0m): string



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L128\app/Services/StoreAdapters/[1;31mEbayAdapter.php:128:9[0m]8;;\ - Unable to determine the type that $quantitySold is being assigned to (see https://psalm.dev/032)
        [97;41m$quantitySold[0m = $ebayData['QuantitySold'] ?? 0;

  The type of $quantitySold is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L125\app/Services/StoreAdapters/[1;31mEbayAdapter.php:125:48[0m]8;;\
    private function mapEbayAvailability(array [30;47m$ebayData[0m): string



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L129\app/Services/StoreAdapters/[1;31mEbayAdapter.php:129:9[0m]8;;\ - Unable to determine the type that $available is being assigned to (see https://psalm.dev/032)
        [97;41m$available[0m = $quantity - $quantitySold;


[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L129\app/Services/StoreAdapters/[1;31mEbayAdapter.php:129:34[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
        $available = $quantity - [97;41m$quantitySold[0m;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L161\app/Services/StoreAdapters/[1;31mEbayAdapter.php:161:13[0m]8;;\ - Operand of type array<array-key, mixed>|null contains type array<array-key, mixed>, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m$response[0m && isset($response['findItemsAdvancedResponse'][0]['searchResult'][0]['item'])) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L162\app/Services/StoreAdapters/[1;31mEbayAdapter.php:162:13[0m]8;;\ - Unable to determine the type that $items is being assigned to (see https://psalm.dev/032)
            [97;41m$items[0m = $response['findItemsAdvancedResponse'][0]['searchResult'][0]['item'];

  The type of $items is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L24\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:24:71[0m]8;;\
    protected function makeRequest(string $url, array $options = []): [30;47m?array[0m



[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L165\app/Services/StoreAdapters/[1;31mEbayAdapter.php:165:20[0m]8;;\ - Parameter $item has no provided type (see https://psalm.dev/153)
                fn([97;41m$item[0m) => $this->normalizeEbaySearchResult($item),


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L165\app/Services/StoreAdapters/[1;31mEbayAdapter.php:165:63[0m]8;;\ - Argument 1 of App\Services\StoreAdapters\EbayAdapter::normalizeEbaySearchResult cannot be mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
                fn($item) => $this->normalizeEbaySearchResult([97;41m$item[0m),

  The type of $item is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L165\app/Services/StoreAdapters/[1;31mEbayAdapter.php:165:20[0m]8;;\
                fn([30;47m$item[0m) => $this->normalizeEbaySearchResult($item),



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/StoreAdapters/EbayAdapter.php#L166\app/Services/StoreAdapters/[1;31mEbayAdapter.php:166:17[0m]8;;\ - Argument 2 of array_map cannot be mixed, expecting array<array-key, mixed> (see https://psalm.dev/030)
                [97;41m$items[0m

  The type of $items is sourced from here - ]8;;file:///var/www/html/app/Services/StoreAdapters/AbstractStoreAdapter.php#L24\app/Services/StoreAdapters/[1;31mAbstractStoreAdapter.php:24:71[0m]8;;\
    protected function makeRequest(string $url, array $options = []): [30;47m?array[0m



[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/Services/StoreAdapters/NoonAdapter.php#L5\app/Services/StoreAdapters/[1;31mNoonAdapter.php:5:30[0m]8;;\ - Const StoreAdapters is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespace App\Services\final [97;41mStoreAdapters[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///var/www/html/app/Services/StoreAdapters/NoonAdapter.php#L10\app/Services/StoreAdapters/[1;31mNoonAdapter.php:10:27[0m]8;;\ - Class, interface or enum named App\Services\final\AbstractStoreAdapter does not exist (see https://psalm.dev/019)
class NoonAdapter extends [97;41mAbstractStoreAdapter[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L29\app/Services/[1;31mSuspiciousActivityService.php:29:9[0m]8;;\ - Unable to determine the type that $config is being assigned to (see https://psalm.dev/032)
        [97;41m$config[0m = config('suspicious_activity', [

  The type of $config is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L78\app/Services/[1;31mSuspiciousActivityService.php:78:17[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m! ($this->config['enabled'] ?? false)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L148\app/Services/[1;31mSuspiciousActivityService.php:148:9[0m]8;;\ - Unable to determine the type that $userIdValue is being assigned to (see https://psalm.dev/032)
        [97;41m$userIdValue[0m = $data['user_id'] ?? 0;

  The type of $userIdValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L142\app/Services/[1;31mSuspiciousActivityService.php:142:67[0m]8;;\
    private function getSuspiciousActivities(string $event, array [30;47m$data[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L151\app/Services/[1;31mSuspiciousActivityService.php:151:9[0m]8;;\ - Unable to determine the type that $ipAddressValue is being assigned to (see https://psalm.dev/032)
        [97;41m$ipAddressValue[0m = $data['ip_address'] ?? '';

  The type of $ipAddressValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L142\app/Services/[1;31mSuspiciousActivityService.php:142:67[0m]8;;\
    private function getSuspiciousActivities(string $event, array [30;47m$data[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L154\app/Services/[1;31mSuspiciousActivityService.php:154:9[0m]8;;\ - Unable to determine the type that $location is being assigned to (see https://psalm.dev/032)
        [97;41m$location[0m = is_array($data['location'] ?? null) ? $data['location'] : [];

  The type of $location is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L142\app/Services/[1;31mSuspiciousActivityService.php:142:67[0m]8;;\
    private function getSuspiciousActivities(string $event, array [30;47m$data[0m): array



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L158\app/Services/[1;31mSuspiciousActivityService.php:158:74[0m]8;;\ - Argument 2 of App\Services\SuspiciousActivityService::checkUnusualLoginLocation cannot be array<never, never>|mixed, expecting array<string, mixed> (see https://psalm.dev/030)
            'login_success' => $this->checkUnusualLoginLocation($userId, [97;41m$location[0m, $ipAddress),

  The type of $location is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L142\app/Services/[1;31mSuspiciousActivityService.php:142:67[0m]8;;\
    private function getSuspiciousActivities(string $event, array [30;47m$data[0m): array



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L175\app/Services/[1;31mSuspiciousActivityService.php:175:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($rule['enabled'] ?? false)[0m) {


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L189\app/Services/[1;31mSuspiciousActivityService.php:189:79[0m]8;;\ - Argument 3 of App\Services\SuspiciousActivityService::createMultipleFailedLoginsActivity expects int, but possibly different type bool|int provided (see https://psalm.dev/092)
        return $this->createMultipleFailedLoginsActivity($userId, $ipAddress, [97;41m$failedCount[0m, $rule);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L216\app/Services/[1;31mSuspiciousActivityService.php:216:9[0m]8;;\ - Unable to determine the type that $severityValue is being assigned to (see https://psalm.dev/032)
        [97;41m$severityValue[0m = $rule['severity'] ?? 'high';

  The type of $severityValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L214\app/Services/[1;31mSuspiciousActivityService.php:214:113[0m]8;;\
    private function createMultipleFailedLoginsActivity(int $userId, string $ipAddress, int $failedCount, array [30;47m$rule[0m): array



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L219\app/Services/[1;31mSuspiciousActivityService.php:219:9[0m]8;;\ - Unable to determine the type that $timeWindowValue is being assigned to (see https://psalm.dev/032)
        [97;41m$timeWindowValue[0m = $rule['time_window'] ?? 15;

  The type of $timeWindowValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L214\app/Services/[1;31mSuspiciousActivityService.php:214:113[0m]8;;\
    private function createMultipleFailedLoginsActivity(int $userId, string $ipAddress, int $failedCount, array [30;47m$rule[0m): array



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L247\app/Services/[1;31mSuspiciousActivityService.php:247:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($rule['enabled'] ?? false)[0m) {


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L268\app/Services/[1;31mSuspiciousActivityService.php:268:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($rule['enabled'] ?? false)[0m) {


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L286\app/Services/[1;31mSuspiciousActivityService.php:286:75[0m]8;;\ - Argument 3 of App\Services\SuspiciousActivityService::createRapidApiRequestsActivity expects int, but possibly different type bool|int provided (see https://psalm.dev/092)
        return $this->createRapidApiRequestsActivity($userId, $ipAddress, [97;41m$requestCount[0m, $rule);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L299\app/Services/[1;31mSuspiciousActivityService.php:299:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($rule['enabled'] ?? false)[0m) {


[0;31mERROR[0m: PossiblyInvalidArgument - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L317\app/Services/[1;31mSuspiciousActivityService.php:317:64[0m]8;;\ - Argument 2 of App\Services\SuspiciousActivityService::createUnusualDataAccessActivity expects int, but possibly different type bool|int provided (see https://psalm.dev/092)
        return $this->createUnusualDataAccessActivity($userId, [97;41m$accessCount[0m, $data, $rule);


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L402\app/Services/[1;31mSuspiciousActivityService.php:402:13[0m]8;;\ - Operand of type false|mixed contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m! ($rule['enabled'] ?? false)[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L468\app/Services/[1;31mSuspiciousActivityService.php:468:9[0m]8;;\ - Unable to determine the type that $notification is being assigned to (see https://psalm.dev/032)
        [97;41m$notification[0m = is_array($this->config['notification'] ?? null) ? $this->config['notification'] : [];


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L470\app/Services/[1;31mSuspiciousActivityService.php:470:14[0m]8;;\ - Cannot access array value on mixed variable $notification (see https://psalm.dev/051)
        if (([97;41m$notification['email'][0m ?? false) === true) {


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L474\app/Services/[1;31mSuspiciousActivityService.php:474:14[0m]8;;\ - Cannot access array value on mixed variable $notification (see https://psalm.dev/051)
        if (([97;41m$notification['slack'][0m ?? false) === true) {


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L478\app/Services/[1;31mSuspiciousActivityService.php:478:14[0m]8;;\ - Cannot access array value on mixed variable $notification (see https://psalm.dev/051)
        if (([97;41m$notification['webhook'][0m ?? false) === true) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L491\app/Services/[1;31mSuspiciousActivityService.php:491:13[0m]8;;\ - Unable to determine the type that $adminEmails is being assigned to (see https://psalm.dev/032)
            [97;41m$adminEmails[0m = config('app.admin_emails', []);

  The type of $adminEmails is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L494\app/Services/[1;31mSuspiciousActivityService.php:494:17[0m]8;;\ - Unable to determine the type that $activityType is being assigned to (see https://psalm.dev/032)
                [97;41m$activityType[0m = is_string($activity['type'] ?? null) ? $activity['type'] : 'unknown';

  The type of $activityType is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L488\app/Services/[1;31mSuspiciousActivityService.php:488:50[0m]8;;\
    private function sendEmailNotification(array [30;47m$activity[0m): void



[0;31mERROR[0m: MixedOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L495\app/Services/[1;31mSuspiciousActivityService.php:495:61[0m]8;;\ - Right operand cannot be mixed (see https://psalm.dev/059)
                $subject = 'Suspicious Activity Alert - ' . [97;41m$activityType[0m;

  The type of $activityType is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L488\app/Services/[1;31mSuspiciousActivityService.php:488:50[0m]8;;\
    private function sendEmailNotification(array [30;47m$activity[0m): void



[0;31mERROR[0m: MissingClosureParamType - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L498\app/Services/[1;31mSuspiciousActivityService.php:498:54[0m]8;;\ - Parameter $mail has no provided type (see https://psalm.dev/153)
                Mail::raw($message, static function ([97;41m$mail[0m) use ($adminEmails, $subject): void {


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L499\app/Services/[1;31mSuspiciousActivityService.php:499:28[0m]8;;\ - Cannot determine the type of $mail when calling method to (see https://psalm.dev/015)
                    $mail->[97;41mto[0m($adminEmails)->subject($subject);

  The type of to is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L498\app/Services/[1;31mSuspiciousActivityService.php:498:54[0m]8;;\
                Mail::raw($message, static function ([30;47m$mail[0m) use ($adminEmails, $subject): void {



[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L499\app/Services/[1;31mSuspiciousActivityService.php:499:46[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    $mail->to($adminEmails)->[97;41msubject[0m($subject);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L542\app/Services/[1;31mSuspiciousActivityService.php:542:9[0m]8;;\ - Unable to determine the type that $type is being assigned to (see https://psalm.dev/032)
        [97;41m$type[0m = $activity['type'] ?? 'unknown';

  The type of $type is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L539\app/Services/[1;31mSuspiciousActivityService.php:539:49[0m]8;;\
    private function takeAutomaticActions(array [30;47m$activity[0m): void



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L607\app/Services/[1;31mSuspiciousActivityService.php:607:9[0m]8;;\ - Unable to determine the type that $type is being assigned to (see https://psalm.dev/032)
        [97;41m$type[0m = is_string($activity['type'] ?? null) ? $activity['type'] : 'unknown';

  The type of $type is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L605\app/Services/[1;31mSuspiciousActivityService.php:605:50[0m]8;;\
    private function formatActivityMessage(array [30;47m$activity[0m): string



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L608\app/Services/[1;31mSuspiciousActivityService.php:608:9[0m]8;;\ - Unable to determine the type that $severity is being assigned to (see https://psalm.dev/032)
        [97;41m$severity[0m = is_string($activity['severity'] ?? null) ? $activity['severity'] : 'unknown';

  The type of $severity is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L605\app/Services/[1;31mSuspiciousActivityService.php:605:50[0m]8;;\
    private function formatActivityMessage(array [30;47m$activity[0m): string



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L610\app/Services/[1;31mSuspiciousActivityService.php:610:9[0m]8;;\ - Unable to determine the type that $ipAddress is being assigned to (see https://psalm.dev/032)
        [97;41m$ipAddress[0m = is_string($activity['ip_address'] ?? null) ? $activity['ip_address'] : 'unknown';

  The type of $ipAddress is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L605\app/Services/[1;31mSuspiciousActivityService.php:605:50[0m]8;;\
    private function formatActivityMessage(array [30;47m$activity[0m): string



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L645\app/Services/[1;31mSuspiciousActivityService.php:645:9[0m]8;;\ - Unable to determine the type that $monitoringRules is being assigned to (see https://psalm.dev/032)
        [97;41m$monitoringRules[0m = is_array($this->config['monitoring_rules'] ?? null) ? $this->config['monitoring_rules'] : [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L646\app/Services/[1;31mSuspiciousActivityService.php:646:9[0m]8;;\ - Unable to determine the type that $rule is being assigned to (see https://psalm.dev/032)
        [97;41m$rule[0m = $monitoringRules[$ruleName] ?? [];


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L646\app/Services/[1;31mSuspiciousActivityService.php:646:17[0m]8;;\ - Cannot access array value on mixed variable $monitoringRules (see https://psalm.dev/051)
        $rule = [97;41m$monitoringRules[$ruleName][0m ?? [];


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L662\app/Services/[1;31mSuspiciousActivityService.php:662:40[0m]8;;\ - Unable to determine the type that $location is being assigned to (see https://psalm.dev/032)
        foreach ($previousLocations as [97;41m$location[0m) {

  The type of $location is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L660\app/Services/[1;31mSuspiciousActivityService.php:660:70[0m]8;;\
    private function isLocationUnusual(array $currentLocation, array [30;47m$previousLocations[0m): bool



[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L663\app/Services/[1;31mSuspiciousActivityService.php:663:91[0m]8;;\ - Argument 2 of App\Services\SuspiciousActivityService::isWithinDistanceThreshold expects array<string, mixed>, but parent type array<array-key, mixed> provided (see https://psalm.dev/194)
            if (is_array($location) && $this->isWithinDistanceThreshold($currentLocation, [97;41m$location[0m)) {

  The type of $location is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L660\app/Services/[1;31mSuspiciousActivityService.php:660:70[0m]8;;\
    private function isLocationUnusual(array $currentLocation, array [30;47m$previousLocations[0m): bool



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L677\app/Services/[1;31mSuspiciousActivityService.php:677:9[0m]8;;\ - Unable to determine the type that $currentLatValue is being assigned to (see https://psalm.dev/032)
        [97;41m$currentLatValue[0m = $currentLocation['latitude'] ?? 0.0;

  The type of $currentLatValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L675\app/Services/[1;31mSuspiciousActivityService.php:675:54[0m]8;;\
    private function isWithinDistanceThreshold(array [30;47m$currentLocation[0m, array $previousLocation): bool



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L678\app/Services/[1;31mSuspiciousActivityService.php:678:9[0m]8;;\ - Unable to determine the type that $currentLngValue is being assigned to (see https://psalm.dev/032)
        [97;41m$currentLngValue[0m = $currentLocation['longitude'] ?? 0.0;

  The type of $currentLngValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L675\app/Services/[1;31mSuspiciousActivityService.php:675:54[0m]8;;\
    private function isWithinDistanceThreshold(array [30;47m$currentLocation[0m, array $previousLocation): bool



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L682\app/Services/[1;31mSuspiciousActivityService.php:682:9[0m]8;;\ - Unable to determine the type that $prevLatValue is being assigned to (see https://psalm.dev/032)
        [97;41m$prevLatValue[0m = $previousLocation['latitude'] ?? 0.0;

  The type of $prevLatValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L675\app/Services/[1;31mSuspiciousActivityService.php:675:78[0m]8;;\
    private function isWithinDistanceThreshold(array $currentLocation, array [30;47m$previousLocation[0m): bool



[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L683\app/Services/[1;31mSuspiciousActivityService.php:683:9[0m]8;;\ - Unable to determine the type that $prevLngValue is being assigned to (see https://psalm.dev/032)
        [97;41m$prevLngValue[0m = $previousLocation['longitude'] ?? 0.0;

  The type of $prevLngValue is sourced from here - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L675\app/Services/[1;31mSuspiciousActivityService.php:675:78[0m]8;;\
    private function isWithinDistanceThreshold(array $currentLocation, array [30;47m$previousLocation[0m): bool



[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L702\app/Services/[1;31mSuspiciousActivityService.php:702:18[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $a = sin([97;41m$dLat / 2[0m) * sin($dLat / 2) +


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L702\app/Services/[1;31mSuspiciousActivityService.php:702:35[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $a = sin($dLat / 2) * sin([97;41m$dLat / 2[0m) +


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L704\app/Services/[1;31mSuspiciousActivityService.php:704:17[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            sin([97;41m$dLng / 2[0m) * sin($dLng / 2);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L704\app/Services/[1;31mSuspiciousActivityService.php:704:34[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            sin($dLng / 2) * sin([97;41m$dLng / 2[0m);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L706\app/Services/[1;31mSuspiciousActivityService.php:706:14[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $c = [97;41m2 * atan2(sqrt($a), sqrt(1 - $a))[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L706\app/Services/[1;31mSuspiciousActivityService.php:706:39[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        $c = 2 * atan2(sqrt($a), sqrt([97;41m1 - $a[0m));


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/SuspiciousActivityService.php#L708\app/Services/[1;31mSuspiciousActivityService.php:708:16[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
        return [97;41m$earthRadius * $c[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///var/www/html/app/Services/TestAnalysisService.php#L87\app/Services/[1;31mTestAnalysisService.php:87:27[0m]8;;\ - Cannot process ints and floats in strict binary operands mode, please cast explicitly (see https://psalm.dev/058)
            return (int) ([97;41m$coverage / 100[0m * 30);


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Services/UserBanService.php#L72\app/Services/[1;31mUserBanService.php:72:16[0m]8;;\ - The declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\User>' for App\Services\UserBanService::getBannedUsers is more specific than the inferred return type 'Illuminate\Database\Eloquent\Collection<int, Illuminate\Database\Eloquent\Model>' (see https://psalm.dev/070)
     * @return [97;41mCollection<int, User>[0m


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Services/UserBanService.php#L76\app/Services/[1;31mUserBanService.php:76:16[0m]8;;\ - The type 'Illuminate\Database\Eloquent\Collection<int, Illuminate\Database\Eloquent\Model>' is more general than the declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\User>' for App\Services\UserBanService::getBannedUsers (see https://psalm.dev/129)
        return [97;41mUser::where('is_blocked', true)
            ->where(static function ($query): void {
                $query->whereNull('ban_expires_at')
                    ->orWhere('ban_expires_at', '>', now());
            })
            ->get()[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L77\app/Services/[1;31mUserBanService.php:77:15[0m]8;;\ - Magic method App\Models\User::where does not exist (see https://psalm.dev/219)
            ->[97;41mwhere[0m(static function ($query): void {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///var/www/html/app/Services/UserBanService.php#L77\app/Services/[1;31mUserBanService.php:77:21[0m]8;;\ - Argument 1 of Illuminate\Database\Eloquent\Builder::where expects Closure(Illuminate\Database\Eloquent\Builder<Illuminate\Database\Eloquent\Model>):mixed|Illuminate\Contracts\Database\Query\Expression|array<array-key, mixed>|string, but impure-Closure(static):void provided (see https://psalm.dev/004)
            ->where([97;41mstatic function ($query): void {
                $query->whereNull('ban_expires_at')
                    ->orWhere('ban_expires_at', '>', now());
            }[0m)


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L78\app/Services/[1;31mUserBanService.php:78:25[0m]8;;\ - Method App\Services\UserBanService::whereNull does not exist (see https://psalm.dev/022)
                $query->[97;41mwhereNull[0m('ban_expires_at')


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/UserBanService.php#L79\app/Services/[1;31mUserBanService.php:79:23[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
                    ->[97;41morWhere[0m('ban_expires_at', '>', now());


[0;31mERROR[0m: MoreSpecificReturnType - ]8;;file:///var/www/html/app/Services/UserBanService.php#L87\app/Services/[1;31mUserBanService.php:87:16[0m]8;;\ - The declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\User>' for App\Services\UserBanService::getUsersWithExpiredBans is more specific than the inferred return type 'Illuminate\Database\Eloquent\Collection<int, Illuminate\Database\Eloquent\Model>' (see https://psalm.dev/070)
     * @return [97;41mCollection<int, User>[0m


[0;31mERROR[0m: LessSpecificReturnStatement - ]8;;file:///var/www/html/app/Services/UserBanService.php#L91\app/Services/[1;31mUserBanService.php:91:16[0m]8;;\ - The type 'Illuminate\Database\Eloquent\Collection<int, Illuminate\Database\Eloquent\Model>' is more general than the declared return type 'Illuminate\Database\Eloquent\Collection<int, App\Models\User>' for App\Services\UserBanService::getUsersWithExpiredBans (see https://psalm.dev/129)
        return [97;41mUser::where('is_blocked', true)
            ->where('ban_expires_at', '<=', now())
            ->get()[0m;


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L92\app/Services/[1;31mUserBanService.php:92:15[0m]8;;\ - Magic method App\Models\User::where does not exist (see https://psalm.dev/219)
            ->[97;41mwhere[0m('ban_expires_at', '<=', now())


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L105\app/Services/[1;31mUserBanService.php:105:43[0m]8;;\ - Magic method App\Models\User::count does not exist (see https://psalm.dev/219)
        $totalBanned = $bannedUsersQuery->[97;41mcount[0m();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L106\app/Services/[1;31mUserBanService.php:106:53[0m]8;;\ - Magic method App\Models\User::wherenull does not exist (see https://psalm.dev/219)
        $permanentBans = (clone $bannedUsersQuery)->[97;41mwhereNull[0m('ban_expires_at')->count();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L107\app/Services/[1;31mUserBanService.php:107:53[0m]8;;\ - Magic method App\Models\User::wherenotnull does not exist (see https://psalm.dev/219)
        $temporaryBans = (clone $bannedUsersQuery)->[97;41mwhereNotNull[0m('ban_expires_at')->count();


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/UserBanService.php#L108\app/Services/[1;31mUserBanService.php:108:51[0m]8;;\ - Magic method App\Models\User::where does not exist (see https://psalm.dev/219)
        $expiredBans = (clone $bannedUsersQuery)->[97;41mwhere[0m('ban_expires_at', '<=', now())->count();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L25\app/Services/[1;31mWebhookService.php:25:9[0m]8;;\ - Unable to determine the type that $webhook is being assigned to (see https://psalm.dev/032)
        [97;41m$webhook[0m = Webhook::create([


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/WebhookService.php#L25\app/Services/[1;31mWebhookService.php:25:20[0m]8;;\ - Magic method App\Models\Webhook::create does not exist (see https://psalm.dev/219)
        $webhook = [97;41mWebhook::create([
            'store_identifier' => $storeIdentifier,
            'event_type' => $eventType,
            'product_identifier' => $payload['product_identifier'] ?? '',
            'payload' => $payload,
            'signature' => $signature,
            'status' => Webhook::STATUS_PENDING,
        ])[0m;


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/WebhookService.php#L34\app/Services/[1;31mWebhookService.php:34:19[0m]8;;\ - Cannot determine the type of $webhook when calling method addLog (see https://psalm.dev/015)
        $webhook->[97;41maddLog[0m('received', 'Webhook received from store', [

  The type of addLog is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L25\app/Services/[1;31mWebhookService.php:25:9[0m]8;;\
        [30;47m$webhook[0m = Webhook::create([



[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/WebhookService.php#L41\app/Services/[1;31mWebhookService.php:41:35[0m]8;;\ - Argument 1 of App\Services\WebhookService::processWebhook cannot be mixed, expecting App\Models\Webhook (see https://psalm.dev/030)
            $this->processWebhook([97;41m$webhook[0m);


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/WebhookService.php#L44\app/Services/[1;31mWebhookService.php:44:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$webhook[0m;

  The type of $webhook is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L25\app/Services/[1;31mWebhookService.php:25:9[0m]8;;\
        [30;47m$webhook[0m = Webhook::create([



[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/WebhookService.php#L57\app/Services/[1;31mWebhookService.php:57:17[0m]8;;\ - Operand of type null|string contains type string, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
            if ([97;41m$webhook->signature[0m && !$this->verifySignature($webhook)) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L102\app/Services/[1;31mWebhookService.php:102:9[0m]8;;\ - Unable to determine the type that $payload is being assigned to (see https://psalm.dev/032)
        [97;41m$payload[0m = $webhook->payload;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L102\app/Services/[1;31mWebhookService.php:102:20[0m]8;;\ - Magic instance property App\Models\Webhook::$payload is not defined (see https://psalm.dev/218)
        $payload = [97;41m$webhook->payload[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L103\app/Services/[1;31mWebhookService.php:103:9[0m]8;;\ - Unable to determine the type that $newPrice is being assigned to (see https://psalm.dev/032)
        [97;41m$newPrice[0m = $payload['price'] ?? null;

  The type of $newPrice is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L102\app/Services/[1;31mWebhookService.php:102:9[0m]8;;\
        [30;47m$payload[0m = $webhook->payload;



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L103\app/Services/[1;31mWebhookService.php:103:21[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
        $newPrice = [97;41m$payload['price'][0m ?? null;


[0;31mERROR[0m: RiskyTruthyFalsyComparison - ]8;;file:///var/www/html/app/Services/WebhookService.php#L105\app/Services/[1;31mWebhookService.php:105:13[0m]8;;\ - Operand of type mixed|null contains type mixed, which can be falsy and truthy. This can cause possibly unexpected behavior. Use strict comparison instead. (see https://psalm.dev/356)
        if ([97;41m!$newPrice[0m) {


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L110\app/Services/[1;31mWebhookService.php:110:9[0m]8;;\ - Unable to determine the type that $storePrices is being assigned to (see https://psalm.dev/032)
        [97;41m$storePrices[0m = $product->store_prices ?? [];


[0;31mERROR[0m: MixedArrayAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L111\app/Services/[1;31mWebhookService.php:111:9[0m]8;;\ - Cannot access array value on mixed variable $storePrices[$webhook->store_identifier] (see https://psalm.dev/117)
        [97;41m$storePrices[$webhook->store_identifier][0m = [


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L113\app/Services/[1;31mWebhookService.php:113:27[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            'currency' => [97;41m$payload['currency'][0m ?? 'USD',


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L120\app/Services/[1;31mWebhookService.php:120:9[0m]8;;\ - Instance property App\Services\WebhookService::$cacheService is not defined (see https://psalm.dev/041)
        [97;41m$this->cacheService[0m->invalidateProduct($product->id);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/WebhookService.php#L120\app/Services/[1;31mWebhookService.php:120:30[0m]8;;\ - Cannot determine the type of $this->cacheService when calling method invalidateProduct (see https://psalm.dev/015)
        $this->cacheService->[97;41minvalidateProduct[0m($product->id);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L139\app/Services/[1;31mWebhookService.php:139:9[0m]8;;\ - Unable to determine the type that $payload is being assigned to (see https://psalm.dev/032)
        [97;41m$payload[0m = $webhook->payload;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L139\app/Services/[1;31mWebhookService.php:139:20[0m]8;;\ - Magic instance property App\Models\Webhook::$payload is not defined (see https://psalm.dev/218)
        $payload = [97;41m$webhook->payload[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L140\app/Services/[1;31mWebhookService.php:140:9[0m]8;;\ - Unable to determine the type that $inStock is being assigned to (see https://psalm.dev/032)
        [97;41m$inStock[0m = $payload['in_stock'] ?? null;

  The type of $inStock is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L139\app/Services/[1;31mWebhookService.php:139:9[0m]8;;\
        [30;47m$payload[0m = $webhook->payload;



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L140\app/Services/[1;31mWebhookService.php:140:20[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
        $inStock = [97;41m$payload['in_stock'][0m ?? null;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L147\app/Services/[1;31mWebhookService.php:147:9[0m]8;;\ - Unable to determine the type that $storeStock is being assigned to (see https://psalm.dev/032)
        [97;41m$storeStock[0m = $product->store_stock ?? [];


[0;31mERROR[0m: MixedArrayAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L148\app/Services/[1;31mWebhookService.php:148:9[0m]8;;\ - Cannot access array value on mixed variable $storeStock[$webhook->store_identifier] (see https://psalm.dev/117)
        [97;41m$storeStock[$webhook->store_identifier][0m = [


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L150\app/Services/[1;31mWebhookService.php:150:27[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            'quantity' => [97;41m$payload['quantity'][0m ?? null,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L157\app/Services/[1;31mWebhookService.php:157:9[0m]8;;\ - Instance property App\Services\WebhookService::$cacheService is not defined (see https://psalm.dev/041)
        [97;41m$this->cacheService[0m->invalidateProduct($product->id);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/WebhookService.php#L157\app/Services/[1;31mWebhookService.php:157:30[0m]8;;\ - Cannot determine the type of $this->cacheService when calling method invalidateProduct (see https://psalm.dev/015)
        $this->cacheService->[97;41minvalidateProduct[0m($product->id);


[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L161\app/Services/[1;31mWebhookService.php:161:27[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            'quantity' => [97;41m$payload['quantity'][0m ?? null,


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L174\app/Services/[1;31mWebhookService.php:174:9[0m]8;;\ - Unable to determine the type that $payload is being assigned to (see https://psalm.dev/032)
        [97;41m$payload[0m = $webhook->payload;


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L174\app/Services/[1;31mWebhookService.php:174:20[0m]8;;\ - Magic instance property App\Models\Webhook::$payload is not defined (see https://psalm.dev/218)
        $payload = [97;41m$webhook->payload[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L180\app/Services/[1;31mWebhookService.php:180:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$updates['name'][0m = $payload['name'];

  The type of $updates['name'] is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L174\app/Services/[1;31mWebhookService.php:174:9[0m]8;;\
        [30;47m$payload[0m = $webhook->payload;



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L180\app/Services/[1;31mWebhookService.php:180:32[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            $updates['name'] = [97;41m$payload['name'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L184\app/Services/[1;31mWebhookService.php:184:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$updates['description'][0m = $payload['description'];

  The type of $updates['description'] is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L174\app/Services/[1;31mWebhookService.php:174:9[0m]8;;\
        [30;47m$payload[0m = $webhook->payload;



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L184\app/Services/[1;31mWebhookService.php:184:39[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            $updates['description'] = [97;41m$payload['description'][0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L188\app/Services/[1;31mWebhookService.php:188:13[0m]8;;\ - Unable to determine the type of this assignment (see https://psalm.dev/032)
            [97;41m$updates['image_url'][0m = $payload['image_url'];

  The type of $updates['image_url'] is sourced from here - ]8;;file:///var/www/html/app/Services/WebhookService.php#L174\app/Services/[1;31mWebhookService.php:174:9[0m]8;;\
        [30;47m$payload[0m = $webhook->payload;



[0;31mERROR[0m: MixedArrayAccess - ]8;;file:///var/www/html/app/Services/WebhookService.php#L188\app/Services/[1;31mWebhookService.php:188:37[0m]8;;\ - Cannot access array value on mixed variable $payload (see https://psalm.dev/051)
            $updates['image_url'] = [97;41m$payload['image_url'][0m;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L195\app/Services/[1;31mWebhookService.php:195:13[0m]8;;\ - Instance property App\Services\WebhookService::$cacheService is not defined (see https://psalm.dev/041)
            [97;41m$this->cacheService[0m->invalidateProduct($product->id);


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/WebhookService.php#L195\app/Services/[1;31mWebhookService.php:195:34[0m]8;;\ - Cannot determine the type of $this->cacheService when calling method invalidateProduct (see https://psalm.dev/015)
            $this->cacheService->[97;41minvalidateProduct[0m($product->id);


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L209\app/Services/[1;31mWebhookService.php:209:9[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
        [97;41m$product[0m = Product::whereJsonContains(


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/WebhookService.php#L209\app/Services/[1;31mWebhookService.php:209:20[0m]8;;\ - Magic method App\Models\Product::wherejsoncontains does not exist (see https://psalm.dev/219)
        $product = [97;41mProduct::whereJsonContains(
            "store_mappings->{$webhook->store_identifier}",
            $productIdentifier
        )[0m->first();


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/Services/WebhookService.php#L212\app/Services/[1;31mWebhookService.php:212:12[0m]8;;\ - Cannot determine the type of the object on the left hand side of this expression (see https://psalm.dev/015)
        )->[97;41mfirst[0m();


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L216\app/Services/[1;31mWebhookService.php:216:13[0m]8;;\ - Unable to determine the type that $product is being assigned to (see https://psalm.dev/032)
            [97;41m$product[0m = Product::create([


[0;31mERROR[0m: UndefinedMagicMethod - ]8;;file:///var/www/html/app/Services/WebhookService.php#L216\app/Services/[1;31mWebhookService.php:216:24[0m]8;;\ - Magic method App\Models\Product::create does not exist (see https://psalm.dev/219)
            $product = [97;41mProduct::create([
                'name' => $webhook->payload['name'] ?? 'Unknown Product',
                'description' => $webhook->payload['description'] ?? null,
                'image_url' => $webhook->payload['image_url'] ?? null,
                'store_mappings' => [
                    $webhook->store_identifier => $productIdentifier,
                ],
            ])[0m;


[0;31mERROR[0m: MixedPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L226\app/Services/[1;31mWebhookService.php:226:33[0m]8;;\ - Cannot fetch property on mixed var $product (see https://psalm.dev/034)
                'product_id' => [97;41m$product->id[0m,


[0;31mERROR[0m: MixedReturnStatement - ]8;;file:///var/www/html/app/Services/WebhookService.php#L230\app/Services/[1;31mWebhookService.php:230:16[0m]8;;\ - Could not infer a return type (see https://psalm.dev/138)
        return [97;41m$product[0m;


[0;31mERROR[0m: MixedAssignment - ]8;;file:///var/www/html/app/Services/WebhookService.php#L238\app/Services/[1;31mWebhookService.php:238:9[0m]8;;\ - Unable to determine the type that $secret is being assigned to (see https://psalm.dev/032)
        [97;41m$secret[0m = config("services.{$webhook->store_identifier}.webhook_secret");

  The type of $secret is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PossiblyFalseArgument - ]8;;file:///var/www/html/app/Services/WebhookService.php#L244\app/Services/[1;31mWebhookService.php:244:50[0m]8;;\ - Argument 2 of hash_hmac cannot be false, possibly string value expected (see https://psalm.dev/104)
        $expectedSignature = hash_hmac('sha256', [97;41mjson_encode($webhook->payload)[0m, $secret);


[0;31mERROR[0m: UndefinedMagicPropertyFetch - ]8;;file:///var/www/html/app/Services/WebhookService.php#L244\app/Services/[1;31mWebhookService.php:244:62[0m]8;;\ - Magic instance property App\Models\Webhook::$payload is not defined (see https://psalm.dev/218)
        $expectedSignature = hash_hmac('sha256', json_encode([97;41m$webhook->payload[0m), $secret);


[0;31mERROR[0m: MixedArgument - ]8;;file:///var/www/html/app/Services/WebhookService.php#L244\app/Services/[1;31mWebhookService.php:244:82[0m]8;;\ - Argument 3 of hash_hmac cannot be non-empty-mixed, expecting string (see https://psalm.dev/030)
        $expectedSignature = hash_hmac('sha256', json_encode($webhook->payload), [97;41m$secret[0m);

  The type of $secret is sourced from here - ]8;;file:///var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php#L309\vendor/laravel/framework/src/Illuminate/Foundation/[1;31mhelpers.php:309:16[0m]8;;\
     * @return [30;47m($key is null ? \Illuminate\Config\Repository : ($key is string ? mixed : null))[0m



[0;31mERROR[0m: PossiblyNullArgument - ]8;;file:///var/www/html/app/Services/WebhookService.php#L246\app/Services/[1;31mWebhookService.php:246:48[0m]8;;\ - Argument 2 of hash_equals cannot be null, possibly null value provided (see https://psalm.dev/078)
        return hash_equals($expectedSignature, [97;41m$webhook->signature[0m);


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L24\app/View/Composers/[1;31mAppComposer.php:24:23[0m]8;;\ - Docblock-defined type string for $language->code is always isset (see https://psalm.dev/156)
            'code' => [97;41m$language->code[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L24\app/View/Composers/[1;31mAppComposer.php:24:42[0m]8;;\ - Cannot resolve types for $language->code with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'code' => $language->code ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L25\app/View/Composers/[1;31mAppComposer.php:25:23[0m]8;;\ - Docblock-defined type string for $language->name is always isset (see https://psalm.dev/156)
            'name' => [97;41m$language->name[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L25\app/View/Composers/[1;31mAppComposer.php:25:42[0m]8;;\ - Cannot resolve types for $language->name with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'name' => $language->name ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L26\app/View/Composers/[1;31mAppComposer.php:26:30[0m]8;;\ - Docblock-defined type string for $language->native_name is always isset (see https://psalm.dev/156)
            'native_name' => [97;41m$language->native_name[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L26\app/View/Composers/[1;31mAppComposer.php:26:56[0m]8;;\ - Cannot resolve types for $language->native_name with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'native_name' => $language->native_name ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L27\app/View/Composers/[1;31mAppComposer.php:27:28[0m]8;;\ - Docblock-defined type string for $language->direction is always isset (see https://psalm.dev/156)
            'direction' => [97;41m$language->direction[0m ?? 'ltr',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L27\app/View/Composers/[1;31mAppComposer.php:27:52[0m]8;;\ - Cannot resolve types for $language->direction with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'direction' => $language->direction ?? [97;41m'ltr'[0m,


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L42\app/View/Composers/[1;31mAppComposer.php:42:21[0m]8;;\ - Redundant cast to int given docblock-provided type (see https://psalm.dev/263)
            'id' => [97;41m(int) $category->id[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L43\app/View/Composers/[1;31mAppComposer.php:43:23[0m]8;;\ - Docblock-defined type string for $category->name is always isset (see https://psalm.dev/156)
            'name' => [97;41m$category->name[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L43\app/View/Composers/[1;31mAppComposer.php:43:42[0m]8;;\ - Cannot resolve types for $category->name with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'name' => $category->name ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L44\app/View/Composers/[1;31mAppComposer.php:44:23[0m]8;;\ - Docblock-defined type string for $category->slug is always isset (see https://psalm.dev/156)
            'slug' => [97;41m$category->slug[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L44\app/View/Composers/[1;31mAppComposer.php:44:42[0m]8;;\ - Cannot resolve types for $category->slug with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'slug' => $category->slug ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantCastGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L59\app/View/Composers/[1;31mAppComposer.php:59:21[0m]8;;\ - Redundant cast to int given docblock-provided type (see https://psalm.dev/263)
            'id' => [97;41m(int) $brand->id[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L60\app/View/Composers/[1;31mAppComposer.php:60:23[0m]8;;\ - Docblock-defined type string for $brand->name is always isset (see https://psalm.dev/156)
            'name' => [97;41m$brand->name[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L60\app/View/Composers/[1;31mAppComposer.php:60:39[0m]8;;\ - Cannot resolve types for $brand->name with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'name' => $brand->name ?? [97;41m''[0m,


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L61\app/View/Composers/[1;31mAppComposer.php:61:23[0m]8;;\ - Docblock-defined type string for $brand->slug is always isset (see https://psalm.dev/156)
            'slug' => [97;41m$brand->slug[0m ?? '',


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L61\app/View/Composers/[1;31mAppComposer.php:61:39[0m]8;;\ - Cannot resolve types for $brand->slug with docblock-defined type string and !isset assertion (see https://psalm.dev/155)
            'slug' => $brand->slug ?? [97;41m''[0m,


[0;31mERROR[0m: MixedMethodCall - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L88\app/View/Composers/[1;31mAppComposer.php:88:22[0m]8;;\ - Cannot call method on an unknown class (see https://psalm.dev/015)
            $query = [97;41m$modelClass::where('is_active', true)[0m;


[0;31mERROR[0m: InvalidTemplateParam - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L93\app/View/Composers/[1;31mAppComposer.php:93:23[0m]8;;\ - Extended template param TModel of Illuminate\Database\Eloquent\Collection<int, mixed>&static expects type Illuminate\Database\Eloquent\Model, type mixed given (see https://psalm.dev/183)
            $mapped = [97;41m$collection->map($mapper)[0m;


[0;31mERROR[0m: MixedArgumentTypeCoercion - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L93\app/View/Composers/[1;31mAppComposer.php:93:40[0m]8;;\ - Argument 1 of Illuminate\Database\Eloquent\Collection::map expects callable(Illuminate\Database\Eloquent\Model, int):mixed, but parent type callable provided (see https://psalm.dev/194)
            $mapped = $collection->map([97;41m$mapper[0m);


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L100\app/View/Composers/[1;31mAppComposer.php:100:16[0m]8;;\ - Docblock-defined type list<array<string, mixed>> for $result is always array<array-key, mixed> (see https://psalm.dev/156)
        return [97;41mis_array($result)[0m ? array_values($result) : [];


[0;31mERROR[0m: RedundantFunctionCallGivenDocblockType - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L100\app/View/Composers/[1;31mAppComposer.php:100:36[0m]8;;\ - The call to array_values is unnecessary given the list docblock type list<array<string, mixed>> (see https://psalm.dev/281)
        return is_array($result) ? [97;41marray_values[0m($result) : [];


[0;31mERROR[0m: DocblockTypeContradiction - ]8;;file:///var/www/html/app/View/Composers/AppComposer.php#L100\app/View/Composers/[1;31mAppComposer.php:100:60[0m]8;;\ - Docblock-defined type list<array<string, mixed>> for $result is always array<array-key, mixed> (see https://psalm.dev/155)
        return is_array($result) ? array_values($result) : [97;41m[][0m;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/_ide_helper_cart.php#L5\app/[1;31m_ide_helper_cart.php:5:1[0m]8;;\ - Const namespacefinal is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
[97;41mnamespacefinal[0m  Darryldecode\Cart\Facades;


[0;31mERROR[0m: UndefinedConstant - ]8;;file:///var/www/html/app/_ide_helper_cart.php#L5\app/[1;31m_ide_helper_cart.php:5:17[0m]8;;\ - Const Darryldecode\Cart\Facades is not defined, consider enabling the allConstantsGlobal config option if scanning legacy codebases (see https://psalm.dev/020)
namespacefinal  [97;41mDarryldecode\Cart\Facades[0m;


------------------------------
[0;31m2399 errors[0m found
------------------------------
Psalm can automatically fix 1 issues.
Run Psalm again with 
[30;48;5;195m--alter --issues=UnusedVariable --dry-run[0m
to see what it can fix.
------------------------------

Checks took 231.33 seconds and used 604.558MB of memory
Psalm was able to infer types for 92.9179% of the codebase

To whom it may concern: Psalm cannot detect unused issue handler suppressions when
analyzing individual files and folders or running in diff mode. Run on the full
project with diff mode off to enable unused issue handler detection.
